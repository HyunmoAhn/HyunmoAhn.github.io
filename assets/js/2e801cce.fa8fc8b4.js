"use strict";(self.webpackChunkhyunmoahn_github_io=self.webpackChunkhyunmoahn_github_io||[]).push([[9450],{6029:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"avoid-re-render-by-function-props","metadata":{"permalink":"/avoid-re-render-by-function-props","source":"@site/blog/2023-09-10-avoid-re-render-by-function-props.mdx","title":"callback function props\ub85c \uc778\ud55c re-render\ub97c \ud53c\ud558\ub294 \ubc95","description":"callback function\uc744 props\ub85c \uc8fc\uc785 \ud560 \ub54c \ubc1c\uc0dd \ud560 \uc218 \uc788\ub294 re-render\ub97c \ud53c\ud558\ub294 \ubc29\ubc95\uc744 \uc81c\uc2dc\ud55c\ub2e4.","date":"2023-09-10T00:00:00.000Z","formattedDate":"2023\ub144 9\uc6d4 10\uc77c","tags":[{"label":"react","permalink":"/tags/react"},{"label":"callback function","permalink":"/tags/callback-function"},{"label":"web","permalink":"/tags/web"},{"label":"props","permalink":"/tags/props"},{"label":"re-render","permalink":"/tags/re-render"},{"label":"ref","permalink":"/tags/ref"}],"readingTime":10.55,"hasTruncateMarker":true,"authors":[{"name":"Hyunmo Ahn","title":"Front End Engineer @ Line Biz+","url":"https://github.com/HyunmoAhn","imageURL":"https://github.com/HyunmoAhn.png","key":"HyunmoAhn"}],"frontMatter":{"slug":"avoid-re-render-by-function-props","title":"callback function props\ub85c \uc778\ud55c re-render\ub97c \ud53c\ud558\ub294 \ubc95","description":"callback function\uc744 props\ub85c \uc8fc\uc785 \ud560 \ub54c \ubc1c\uc0dd \ud560 \uc218 \uc788\ub294 re-render\ub97c \ud53c\ud558\ub294 \ubc29\ubc95\uc744 \uc81c\uc2dc\ud55c\ub2e4.","keywords":["react","callback function","props","re-render","ref","web"],"authors":"HyunmoAhn","tags":["react","callback function","web","props","re-render","ref"]},"nextItem":{"title":"i18n\uacfc typescript","permalink":"/i18n-and-typescript"}},"content":"import { Playground } from \'@site/src/components/playground/index.tsx\'\\nimport { basicProblemSnippet, basicProblemSolveSnippet, listProblemSnippet, useCallbackRefSnippet, edgeCaseSnippet } from \'@site/src/code-snippet/useCallbackRef/index.js\'\\n\\nReact\ub97c \uc0ac\uc6a9\ud558\ub2e4 \ubcf4\uba74 function\uc744 component props\ub85c \ub118\uae38 \ub54c re-render\ub97c \ud53c\ud558\uae30 \uc704\ud574 reference \uad00\ub9ac\uc5d0 \uc8fc\uc758\ud574\uc57c \ud55c\ub2e4.\\n\ub300\ubd80\ubd84 `useCallback`\uc744 \uc0ac\uc6a9\ud574\uc11c \ubd88\ud544\uc694\ud55c re-render\ub97c \ud53c\ud558\uac8c \ub418\uc9c0\ub9cc \uc88b\uc740 \ub300\uc548\uc744 \ubc1c\uacac\ud558\uac8c \ub418\uc5b4\\n\uc774 \uae00\uc744 \uc4f0\uac8c \ub418\uc5c8\ub2e4.\\n\\n\uc601\uac10\uc744 \ubc1b\uc740 \ucf54\ub4dc\ub294 [radix-ui/primitives](https://github.com/radix-ui/primitives) \uc758 [useCallbackRef](https://github.com/radix-ui/primitives/blob/main/packages/react/use-callback-ref/src/useCallbackRef.tsx) \uc774\uba70\\n\uc774 \uae00\uc5d0\uc11c\ub294 `useCallbackRef`\ub97c \uc4f0\ub294 \ucf00\uc774\uc2a4\uc640 \ub3d9\uc791\uc744 \uc774\uc57c\uae30 \ud560 \uc608\uc815\uc774\ub2e4.\\n\\n\uc544\ub798\uc758 \ucf54\ub4dc\ub294 \uc55e\uc73c\ub85c \uc124\uba85 \ud560 `useCallbackRef` \ucf54\ub4dc\uc774\ub2e4.\\n\uacfc\uc5f0 \uc5b4\ub5a4 \uc0c1\ud669\uc5d0\uc11c \uc0ac\uc6a9 \ud560 \uac83 \uac19\uc740\uac00?\\n```tsx\\n// useCallbackRef.js\\nimport { useRef, useEffect, useMemo } from \'react\';\\n\\nexport function useCallbackRef(callback) {\\n  const callbackRef = useRef(callback);\\n\\n  useEffect(() => {\\n    callbackRef.current = callback;\\n  });\\n\\n  return useMemo(() => ((...args) => callbackRef.current?.(...args)), []);\\n}\\n```\\n\x3c!--truncate--\x3e\\n\\n## Problem Description\\n\\n\uc6b0\uc120 function props\ub85c \uc778\ud55c \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud558\ub294 \ucf00\uc774\uc2a4\ub97c \uc18c\uac1c\ud558\uaca0\ub2e4.\\n\ub2e8\uc21c\ud558\uac8c state\uc758 \ubcc0\uacbd\uc73c\ub85c \uc778\ud574 function\uc758 reference\uac00 \ubc14\ub00c\uace0 children\uae4c\uc9c0 \uc601\ud5a5\uc744 \ub07c\uce58\ub294 \uc608\uc2dc\uc774\ub2e4.\\n\\n\\n\\n<Playground title=\\"Basic Problem\\" files={basicProblemSnippet} defaultOutput=\\"console\\" />\\n\\n\\n\uc704 \ucf54\ub4dc\uc5d0\uc11c \ubb38\uc81c\uc810\uc740 `handleCallback`\uac00 2\ubc88 \ud638\ucd9c\ub418\ub294 \uac83\uc774\ub2e4.\\n\\n\uba3c\uc800 \uc608\uc2dc \ucf54\ub4dc\uc758 \ubaa9\uc801\uc744 \uc774\uc57c\uae30\ud558\uba74 `useAsyncData` \ub97c \uc0ac\uc6a9\ud574\uc11c \ub370\uc774\ud130\ub97c 2\ucd08 \ub4a4\uc5d0 \uac31\uc2e0\ud558\uace0,\\n\uadf8\uc640\ub294 \ubcc4\uac1c\ub85c `handleCallback` \ud568\uc218\ub97c `ChildComponent` \ub85c \uc804\ub2ec\ud558\uc5ec mount \uc2dc\uc810\uc5d0 1\ud68c \ud638\ucd9c\ud558\ub294 \ubaa9\uc801\uc774\ub2e4.\\n\\n\ud750\ub984\uc744 \uc790\uc138\ud788 \uc774\ud574\ud558\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n```mermaid\\nflowchart LR\\n    First[\\"App \\\\ndata: []\\\\n handleCallback\\"] -- Initial Render --\x3e FirstChildren[\\"ChildComponent\\\\n onCallback: handleCallback\\"] --\x3e Emit[\\"Emit first\\"]\\n```\\n\uccab render\uc5d0\uc11c\ub294 data\uac00 \ube44\uc5b4\uc788\uace0 `handleCallback`\ub294 \uc790\uc2dd\uc73c\ub85c \uc804\ub2ec\ub418\uc5b4 1\ud68c \ud638\ucd9c\ub41c\ub2e4.\\n\\n\\n```mermaid\\nflowchart LR\\n    Second[\\"App \\\\ndata: [1, 2, 3]\\\\n handleCallback`\\"] -- After update data --\x3e SecondChildren[\\"ChildComponent\\\\n onCallback: handleCallback`\\"] --\x3e Emit[\\"Emit Second\\"]\\n```\\n\uc774\ud6c4 data\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uba74 App.js\ub294 `handleCallback`\ub97c \uc0c8\ub86d\uac8c \uc0dd\uc131\ud558\uc5ec ChildComponent\ub85c \uc804\ub2ec\ud558\ubbc0\ub85c 2\ubc88\uc9f8\ub85c `handleCallback`\uac00 \ud638\ucd9c\ub41c\ub2e4.\\n\\n### Solution?\\n\ubb3c\ub860, \uc704 \uc608\uc2dc\ub294 data\uc758 \uc5c5\ub370\uc774\ud2b8\uc640 \ubb34\uad00\ud558\uac8c `handleCallback` \uc744 \uba54\ubaa8\uc774\uc81c\uc774\uc158\ud558\ub294 \ubc29\ud5a5\uc73c\ub85c `useCallback`\uc744 \uc0ac\uc6a9\ud558\uba74 \ud574\uacb0\ub41c\ub2e4.\\n\\n<Playground title=\\"Basic Problem with useCallback\\" files={basicProblemSolveSnippet} defaultOutput=\\"console\\" />\\n\\n\uadf8\ub807\uac8c \ud568\uc218 props\ub97c \uc804\ub2ec\ud560 \ub54c \uba54\ubaa8\uc774\uc81c\uc774\uc158\uc5d0 \uc2e0\uacbd \uc368 \uc8fc\uc5b4\uc57c\ud55c\ub2e4\ub294 \uad50\ud6c8\uc73c\ub85c \uae00\uc744 \ub9c8\ubb34\ub9ac\ud574\ub3c4 \uc88b\uaca0\uc9c0\ub9cc, \ub2e4\uc74c \uc608\uc2dc\ub294 \uc5b4\ub5a8\uae4c?\\n\\n<Playground title=\\"List Problem\\" files={listProblemSnippet} defaultOutput=\\"console\\" />\\n\\n```tsx\\nconst handleCallback = useCallback((index) => {\\n  console.log(`handle callback: ${index}`);\\n}, []);\\n\\n...\\n{list.map((item, index) => (\\n  // highlight-next-line\\n  <ChildComponent key={index} onCallback={() => handleCallback(index)} />\\n))}\\n```\\n\\n\uc774\ubc88 \uc608\uc2dc\ub294 \uc774\uc804\uacfc\ub294 \ub2e4\ub974\uac8c callback function\uc774 list\ub85c \uc21c\ud68c\ud558\ub294 \ucef4\ud3ec\ub10c\ud2b8\uc758 props\ub85c \uc8fc\uc785\ub418\uba70 item\uc744 \uc21c\ud68c \ud560 \ub54c\ub9cc \uc54c \uc218 \uc788\ub294 index \uc815\ubcf4\ub97c params\ub85c \uc8fc\uc785\ubc1b\ub294\ub2e4.\\n\uc774\ub7f0 \uc870\uac74\uc774\ub77c\uba74 `handleCallback`\uc740 useCallback\uc73c\ub85c memoization \ud558\uc600\uc9c0\ub9cc render\uc5d0\uc11c \uc0dd\uc131\ub418\ub294 \uc775\uba85\ud568\uc218\ub54c\ubb38\uc5d0 \uc758\ub3c4\uce58\uc54a\uac8c \uc5ec\ub7ec\ubc88 \ud638\ucd9c\ub41c\ub2e4.\\n\\n\uc774 \ub610\ud55c \ud574\uacb0 \ubc29\ubc95\uc774 \uc874\uc7ac\ud55c\ub2e4. index\ub97c props\ub85c \ub118\uaca8\uc8fc\uc5b4 \uc775\uba85\ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 `ChildComponent` \ub0b4\ubd80\uc5d0\uc11c index\uc640 `onCallback`\uc744 \ud638\ucd9c\ud558\uba74 \ud574\uacb0\ub41c\ub2e4.\\n\ud558\uc9c0\ub9cc \uc2e4\uc81c \uc0c1\ud669\uc5d0\uc11c\ub294 `ChildComponent`\uac00 \uc81c\uc5b4 \ud560 \uc218 \uc5c6\ub294 \ucef4\ud3ec\ub10c\ud2b8(\uc678\ubd80 \ub77c\uc774\ube0c\ub7ec\ub9ac)\ub77c\uac70\ub098 \uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8 \uac19\uc774 \uc601\ud5a5\ubc94\uc704\uac00 \ub113\uc740 \uacbd\uc6b0\ub3c4 \ub9ce\uc544 \ubb38\uc81c \ud574\uacb0\uc774 \ubcf5\uc7a1\ud574\uc9c4\ub2e4.\\n\\n:::note\\n\uc704\uc5d0\uc11c \uc81c\uc2dc\ud55c \uc5ec\ub7ec \ubc29\ubc95\ub4e4\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 `ChildComponent`\uc758 useEffect dependency\ub97c \uc218\uc815\ud558\ub294 \ubc29\ubc95\ub3c4 \uc874\uc7ac\ud558\uae34 \ud55c\ub2e4.\\n\\n```tsx\\nconst ChildComponent = ({ onCallback }) => {\\n  useEffect(() => {\\n    onCallback();\\n  // highlight-next-line\\n  }, []);\\n\\n  return <>Child</>;\\n};\\n```\\n\\n\uc774\ub7ec\uba74 \ubb3c\ub860 \uc911\ubcf5 \ud638\ucd9c\uc774 \ud574\uacb0\ub418\uace0 \uc0c1\ud669\uc5d0 \ub530\ub77c\uc11c\ub294 \uc774 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud574\ub3c4 \ubb34\ubc29\ud558\ub2e4.\\n\ud558\uc9c0\ub9cc react-hook\uacfc \uad00\ub828\ub41c lint rule\uc778 [react-hooks/exhaustive-deps](https://legacy.reactjs.org/docs/hooks-rules.html#eslint-plugin)\uc5d0 \uc704\ubc30\ub418\uae30\ub3c4 \ud558\uace0\\n\ub514\ubc84\uae45\uc744 \ud798\ub4e4\uac8c \ud558\ub294 \uc694\uc18c\ub77c\uace0 \uc0dd\uac01\ud558\ubbc0\ub85c \uc774 \uae00\uc5d0\uc11c\ub294 \uace0\ub824\ud558\uc9c0 \uc54a\ub294\ub2e4.\\n```\\nESLint: React Hook useEffect has a missing dependency:\\n\'onCallback\'. Either include it or remove the dependency array.\\nIf \'onCallback\' changes too often, find the parent component that defines it and wrap that definition in useCallback.\\n(react-hooks/exhaustive-deps)\\n```\\n\\n:::\\n\\n## useCallbackRef\\n\\n`useCallbackRef`\ub97c \uc0ac\uc6a9\ud574\ubcf4\uc790. \ubc29\uae08 \ubcf4\uc558\ub358 list \uc608\uc81c\uc5d0 `useCallbackRef`\ub97c \uadf8\ub300\ub85c \uc801\uc6a9\ud574\ubcf4\uc558\ub2e4.\\n\\n<Playground title=\\"Use Callback Ref\\" files={useCallbackRefSnippet} defaultOutput=\\"console\\" />\\n\\n\uc6b0\uc120 \uacb0\uacfc\ub9cc \ubcf4\uc558\uc744 \ub54c\ub294 \ubd88\ud544\uc694\ud55c `handleCallback` \ud638\ucd9c\uc740 \ubc1c\uacac\ub418\uc9c0 \uc54a\uc740 \uac83\ucc98\ub7fc \ubcf4\uc778\ub2e4. \uc608\uc81c\ucf54\ub4dc\ub97c \ub9ce\uc774 \uc218\uc815\ud588\uc744\uae4c?\\n\\n```tsx showLineNumbers\\n// App.js\\nconst ChildComponent = ({ onCallback }) => {\\n  // highlight-start\\n  const handleCallback = useCallbackRef(onCallback);\\n  // highlight-end\\n\\n  useEffect(() => {\\n  // highlight-start\\n    handleCallback();\\n  }, [handleCallback]);\\n  // highlight-end\\n\\n  return <>Child</>;\\n};\\n```\\nApp.js\uc5d0\uc11c\uc758 \ubcc0\uacbd\uc810\uc740 \uc5c6\uace0, `onCallback`\uc744 \uc0ac\uc6a9\ud558\ub294 `ChildComponent` \ub0b4\ubd80 \ub85c\uc9c1\uc5d0 \ubcc0\ud654\uac00 \uc788\uc5c8\ub2e4.\\n`useCallbackRef`\ub97c \uc0ac\uc6a9\ud574\uc11c props\ub85c \uc8fc\uc785 \ubc1b\uc740 `onCallback`\uc744 \ud55c\ubc88 \uac10\uc2f8\uace0 \ub098\uc628 `handleCallback`\uc744 \uc0ac\uc6a9\ud558\uba70 useEffect\uc758 dependency\uc5d0\ub3c4 `handleCallback`\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4.\\n\\n\uadf8\ub807\ub2e4\uba74 `useCallbackRef`\uc758 \ub0b4\ubd80\ub294 \uc5b4\ub5a8\uae4c?\\n\\n```tsx showLineNumbers\\n// useCallbackRef.js\\nimport { useRef, useEffect, useMemo } from \'react\';\\n\\nexport function useCallbackRef(callback) {\\n  const callbackRef = useRef(callback);\\n\\n  useEffect(() => {\\n    callbackRef.current = callback;\\n  });\\n\\n  return useMemo(() =>\\n    (...args) => callbackRef.current?.(...args),\\n  []);\\n}\\n```\\n\\n`useCallbackRef`\uc5d0\uc11c\ub294 2\uac00\uc9c0 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4.\\n1. callback \ud568\uc218\ub97c params\ub85c \ubc1b\uc544\uc11c \uacc4\uc18d\ud574\uc11c `ref`\uc5d0 \uc5c5\ub370\uc774\ud2b8 \ud574\uc900\ub2e4.\\n\\n\uc798 \ubcf4\uba74, `L7-L9`\uc5d0\uc11c dependency \uc5c6\uc774 \ub9e4 callback\uc774 \uc5c5\ub370\uc774\ud2b8 \ub418\uba74 `callbackRef`\uc5d0 \uac31\uc2e0\ud55c\ub2e4.\\n\\n2. callbackRef\uc5d0 \uc800\uc7a5 \ub41c callback\uc744 \ud638\ucd9c\ud558\ub294 \ud568\uc218\ub97c \ub9ac\ud134\ud55c\ub2e4.\\n\\n\uc5ec\uae30\uc11c\ub294 `useMemo`\ub97c \uc0ac\uc6a9\ud574\uc11c return \uac12\uc774 \uac31\uc2e0\uc774 \ub418\uc9c0 \uc54a\ub3c4\ub85d \uba54\ubaa8\uc774\uc81c\uc774\uc158\uc744 \ud558\uba74\uc11c return \uac12\uc774 \ud638\ucd9c\uc2dc\uc5d0 `callbackRef` \uac12\uc744 \uac00\uc838\uc640 \ud638\ucd9c\ud558\ubbc0\ub85c\\n\ud56d\uc0c1 \ucd5c\uc2e0\uc758 callback\uc744 \ud638\ucd9c \ud560 \uc218 \uc788\ub2e4.\\n\\n\ud750\ub984\uc744 \uc790\uc138\ud788 \uc774\ud574\ud558\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n```mermaid\\nflowchart LR\\n    First[\\"App \\\\ndata: []\\\\n handleCallback\\"] -- Initial Render --\x3e FirstChildren[\\"ChildComponent\\\\n callbackRef: handleCallback\\\\n MemoCallback\\"] --\x3e Emit[\\"Emit first\\"]\\n```\\n\ucc98\uc74c\uc758 \ud750\ub984\uc740 \uae30\uc874\uacfc \ube44\uc2b7\ud558\ub2e4. App\uc740 `handleCallback`\uc744 `ChildComponent`\ub85c \uc804\ub2ec\ud558\uace0 `ChildComponent`\ub294 `callbackRef`\uc5d0 `handleCallback`\uc744 \uc800\uc7a5\ud558\uace0 `MemoCallback`\uc744 \uc0ac\uc6a9\ud55c\ub2e4.\\n`Emit first`\uc5d0\uc11c \ud638\ucd9c \ub418\ub294 function\uc740 `MemoCallback`\uc774\uba70 `MemoCallback`\uc740 `handleCallback`\ub97c \uac00\ub9ac\ud0a4\uace0 \uc788\uc73c\ubbc0\ub85c \uc2e4\uc81c \ud638\ucd9c \ub418\ub294 \ud568\uc218\ub294 `handleCallback`\ub77c\ub294 \uac83\uc744 \uc54c \uc218 \uc788\ub2e4.\\n\\n```mermaid\\nflowchart LR\\n    Second[\\"App \\\\ndata: [1, 2, 3]\\\\n handleCallback`\\"] -- After update data --\x3e SecondChildren[\\"ChildComponent\\\\n callbackRef: handleCallback`\\\\n MemoCallback\\"] --x Emit[\\"Emit Second\\"]\\n```\\n\ub450\ubc88\uc9f8 \ud750\ub984\uc5d0\uc11c \ub2ec\ub77c\uc9c0\uac8c \ub418\ub294\ub370, data\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uc5b4 handleCallback\uc774 ``handleCallback` ``\uc73c\ub85c \uc0c8\ub86d\uac8c \uc0dd\uc131\ub418\uc5b4 `ChildComponent`\ub85c \uc804\ub2ec\uc744 \ud558\uace0 `callbackRef`\ub294 \uc774\ub97c \uc0c8\ub86d\uac8c \uac31\uc2e0\ud558\uc9c0\ub9cc,\\n\ucef4\ud3ec\ub10c\ud2b8 \ub0b4\ubd80\uc5d0\uc11c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 `MemoCallback`\ub294 reference\uac00 \ubc14\ub00c\uc9c0 \uc54a\uc73c\ubbc0\ub85c 2\ubc88\uc9f8 \ud638\ucd9c\uc774 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\ub294\ub2e4.\\n\\n\uc774\ub7ec\ud55c \ubc29\ubc95\uc740 \ud2b9\ud788 Component\ub97c \uc124\uacc4 \ud560 \ub54c \uc678\ubd80\uc5d0 memoization\uc744 \ud574\uc57c\ud55c\ub2e4\ub294 \uaddc\uce59\uc744 \ubd80\uc5ec\ud558\uc9c0 \uc54a\uace0 \ub0b4\ubd80\uc801\uc73c\ub85c \ucd5c\uc801\ud654\ub97c \ud560 \uc218 \uc788\uae30 \ub54c\ubb38\uc5d0 \uacf5\ud1b5 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc124\uacc4 \ud560 \ub54c\uc5d0\ub3c4 \uc720\uc6a9\ud558\uac8c \uc4f0\uc77c \uc218 \uc788\ub294 \ubc29\ubc95\uc774\ub77c\uace0 \uc0dd\uac01\ud55c\ub2e4.\\n\\n## Potential Issues\\n`useCallbackRef`\uac00 \ubaa8\ub4e0 \uac83\uc758 \ud574\uacb0\ucc45\uc774 \ub420 \uc218\ub294 \uc5c6\ub2e4. \uc704 \uc608\uc2dc\ub4e4\uc5d0\uc11c `handleCallback`\uc774 \uccab\ubc88\uc9f8 \ud638\ucd9c\uc774 \uc544\ub2c8\ub77c \ub450\ubc88\uc9f8 \ud638\ucd9c\uc774 \ud544\uc694\ud55c \uacbd\uc6b0\ub77c\uba74\\n\ub450\ubc88\uc9f8 \ud638\ucd9c\uc740 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \uc758\ub3c4\ud558\uc9c0 \uc54a\uc740 \ub300\ub85c \ub3d9\uc791 \ud560 \uc218 \uc788\ub2e4.\\n\\n\uc544\ub798 \uc608\uc2dc\ub294 `handleCallback`\uc5d0\uc11c data \uc815\ubcf4\ub97c \uac00\uc9c0\uace0 \ud638\ucd9c\ud558\ub294 \uac83\uc744 \ubaa9\uc801\uc73c\ub85c \ud558\ub294 \ucf54\ub4dc\uc774\ub2e4.\\n<Playground title=\\"Edge Case\\" files={edgeCaseSnippet} defaultOutput=\\"console\\" />\\n\\n\uc774 \uc608\uc81c\uc5d0\uc11c\ub294 \uc624\ud788\ub824 `useCallbackRef` \uc73c\ub85c \uc778\ud558\uc5ec `handleCallback`\uc774 \uc815\uc0c1 \ud638\ucd9c\ub418\uace0 \uc788\uc9c0 \uc54a\uc740 \ubaa8\uc2b5\uc774\ub2e4.\\n\\n```tsx\\n// handleCallback\\nconst data = useAsyncData();\\n\\nconst handleCallback = useCallback(() => {\\n  // highlight-start\\n  if (data.length !== 0) {\\n    console.log(`handle callback: ${data}`);\\n  }\\n  // highlight-end\\n}, [data]);\\n```\\n`data`\uac00 \uc788\ub294 \uac83\uc744 \uc804\uc81c\ub85c \ub3d9\uc791\ud558\uae30 \ub54c\ubb38\uc5d0 (`data.length !== 0`)\\n\uc624\ud788\ub824 \uc911\ubcf5 \ud638\ucd9c\uc744 \uc720\ub3c4\ud558\ub294 \uac83\uc774 \uc62c\ubc14\ub978 \ubaa9\uc801\uc774\ub77c\uace0 \ubcfc \uc218 \uc788\ub2e4.\\n\\n## Conclusion\\n\\nReact\uc5d0\uc11c function\uc744 props\ub85c \uc804\ub2ec \ud560 \ub54c re-render \ub85c \uc778\ud558\uc5ec \ubc1c\uc0dd \ud560 \uc218 \uc788\ub294 \uc774\uc288\ub4e4\uc744 `useCallback`\uacfc \uac19\uc740 \uc815\uacf5\ubc95\uc774 \uc544\ub2cc\\n\ub2e4\ub978 \ud574\uacb0 \ubc29\uc548\uc73c\ub85c `useCallbackRef` \ub77c\ub294 custom hook \ub3d9\uc791\uc744 \uc18c\uac1c\ud558\uc600\ub2e4.\\n\\n`useCallbackRef`\ub294 props\ub85c \uc804\ub2ec \ubc1b\uc740 function\uc744 \ub9e4\ubc88 `ref`\uc5d0 \uc800\uc7a5\ud558\uba70 `ref`\uc5d0 \uc800\uc7a5 \ub41c \ud568\uc218\ub294 \ud56d\uc0c1 \ucd5c\uc2e0\uc758 props function\uc744 \uac00\uc9c0\uace0 \uc788\uc2b5\ub2c8\ub2e4.\\n\ub2e8, return \uac12\uc740 useMemo\ub85c \uac10\uc2f8\uc11c \ub178\ucd9c\uc2dc\ud0a4\uae30 \ub54c\ubb38\uc5d0 props \ubcc0\uacbd\uc73c\ub85c \uc778\ud55c re-render\ub294 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\ub294\ub2e4.\\n\\n\uc774\ub97c \ud1b5\ud574\uc11c callback \ud568\uc218 \ud638\ucd9c \ud0c0\uc774\ubc0d\uc5d0 \uac00\uc7a5 \ucd5c\uc2e0\uc758 callback \ud568\uc218\ub97c \uac00\uc838\uc624\uba74\uc11c \uc758\ub3c4\uce58 \uc54a\uc740 re-render\ub85c \uc778\ud55c \ud638\ucd9c\uc740 \ubc29\uc9c0 \ud560 \uc218 \uc788\ub2e4.\\n\\n\ub2e8, dependency\uc5d0 \ub530\ub77c\uc11c \ub4a4\ub2a6\uac8c \ud638\ucd9c, \uc5ec\ub7ec\ubc88 \ud638\ucd9c \ud558\ub294 \ucf00\uc774\uc2a4\uac00 \uc788\ub2e4\uba74 \uc624\ud788\ub824 \ub3c5\uc774 \ub420 \uc218 \uc788\ub294 \ub85c\uc9c1\uc774\ubbc0\ub85c \uc0c1\ud669\uc5d0 \ub9de\uac8c \uc798 \ud310\ub2e8\ud558\uc5ec\uc57c \ud560 \uac83\uc774\ub2e4."},{"id":"i18n-and-typescript","metadata":{"permalink":"/i18n-and-typescript","source":"@site/blog/2022-09-04-i18n-and-typescript.mdx","title":"i18n\uacfc typescript","description":"i18n and typescript","date":"2022-09-04T00:00:00.000Z","formattedDate":"2022\ub144 9\uc6d4 4\uc77c","tags":[{"label":"i18n","permalink":"/tags/i-18-n"},{"label":"typescript","permalink":"/tags/typescript"},{"label":"template literal type","permalink":"/tags/template-literal-type"}],"readingTime":39.645,"hasTruncateMarker":true,"authors":[{"name":"Hyunmo Ahn","title":"Front End Engineer @ Line Biz+","url":"https://github.com/HyunmoAhn","imageURL":"https://github.com/HyunmoAhn.png","key":"HyunmoAhn"}],"frontMatter":{"slug":"i18n-and-typescript","title":"i18n\uacfc typescript","description":"i18n and typescript","keywords":["i18n","typescript","web","Template Literal Types"],"authors":"HyunmoAhn","tags":["i18n","typescript","template literal type"]},"prevItem":{"title":"callback function props\ub85c \uc778\ud55c re-render\ub97c \ud53c\ud558\ub294 \ubc95","permalink":"/avoid-re-render-by-function-props"},"nextItem":{"title":"Front-end\uc5d0\uc11c OAS generator\ub97c \uc5b4\ub5bb\uac8c \uc4f0\uba74 \uc88b\uc744\uae4c?","permalink":"/how-to-use-oas-generator"}},"content":"## Intro\\n\ud604\uc7ac \ucc38\uc5ec\ud558\uace0 \uc788\ub294 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c typescript\uc640 [i18next](https://www.i18next.com/)\uc744 \uc0ac\uc6a9\ud558\ub294\ub370,\\ni18n JSON \ud30c\uc77c\uc758 type check\ub97c \uac15\ud558\uac8c \uc801\uc6a9\ud588\ub358 \uacbd\ud5d8\uc744 \uc815\ub9ac\ud558\uace0\uc790 \ud55c\ub2e4.\\n\\n### About I18n\\n\uba3c\uc800 i18n\uc744 \uc5b4\ub5a4\uc2dd\uc73c\ub85c \ud65c\uc6a9\ud558\uace0 \uc788\uc5c8\ub294\uc9c0 \uc18c\uac1c\ud558\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n\\ni18n\uc740 \uac19\uc740 \ud654\uba74\uc5d0\uc11c \uc5ec\ub7ec \uc5b8\uc5b4\ub85c \ub41c Text\ub97c \ubcf4\uc5ec\uc8fc\uae30 \uc704\ud574 \uc0ac\uc6a9\ud558\ub294 \uac83\uc73c\ub85c, \ud558\ub098\uc758 key, \uc5ec\ub7ec\uac1c\uc758 value\ub97c \uac00\uc9c0\uace0 \uc5b8\uc5b4\uc5d0 \ub9de\uac8c \ubcf4\uc5ec\uc8fc\ub294 \uac83\uc744 \uc758\ubbf8\ud55c\ub2e4.\\n\\n```tsx\\nconst i18nJSON = {\\n  \'simple-example\': \'This is example text\',\\n  \'values-example\': \'I need to show {0} value\',\\n  \'line-break-example\': \'Hello. \\\\n I am FE developer\'\\n} as const\\n```\\n\uccab\ubc88\uc9f8\ub85c \uc704\uc640 \uac19\uc740 Key-Value \ud615\ud0dc\uc758 \uac1d\uccb4\uac00 \uc874\uc7ac\ud55c\ub2e4. \uac1d\uccb4\ub294 JSON\uc774 \ub420 \uc218\ub3c4 \uc788\uace0, typescript\uc758 \uac1d\uccb4\uac00 \ub420 \uc218\ub3c4 \uc788\ub2e4.\\n\\n```tsx\\nimport tFunction from \'utils\';\\n\\ntFunction(\'simple-example\') // This is example text\\ntFunction(\'values-example\', [15]) // I need to show 15 value\\ntFunction(\'line-break-example\') // Hello <br /> I am FE developer\\n```\\n\ub450\ubc88\uc9f8\ub85c `tFunction`\ub97c \uc0ac\uc6a9\ud574\uc11c i18n key\ub97c \uc9d1\uc5b4 \ub123\uc5b4\uc11c key\uc5d0 \ub9de\ub294 string\uc744 \uac00\uc838\uc624\uba70, \ucf00\uc774\uc2a4\uc5d0 \ub530\ub77c\uc11c\ub294 `values-example`\uacfc \uac19\uc774 \ubcc0\uc218\ub97c \ub123\uc5b4 Text\ubcc4\ub85c \ub9de\ub294 value\ub97c \ud3ec\ud568\ud55c string\uc744 \ub9ac\ud134\ud558\ub294 \uacbd\uc6b0\ub3c4 \uc788\ub2e4.\\n\ub9c8\uc9c0\ub9c9 `line-break-example`\uc5d0\uc11c\ub294 `\\\\n` \uc904\ubc14\uafc8 \ubb38\uc790\ub97c \uc778\uc2dd\ud558\uc5ec `<br/>` \ud0dc\uadf8\ub85c \ubcc0\ud658\ud574\uc11c React\uc5d0\uc11c \uc904\ubc14\uafc8\uc744 \ud560 \uc218 \uc788\ub3c4\ub85d \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4. \\n\\n:::caution\\n\ubcf8 article\uc740 i18n\uc744 \uc801\uc6a9\ud558\uae30 \uc704\ud55c \ubc29\ubc95\uc73c\ub85c `tFunction`\uc774\ub77c\ub294 \ud568\uc218\ub97c \uac00\uc838\ub2e4 \uc4f4\ub2e4. \\nJS\ub85c\uc9c1\uc774 \uc544\ub2cc, Type \ub808\ubca8\uc5d0\uc11c\uc758 \ub0b4\uc6a9\uc744 \uc8fc\ub85c \ub2e4\ub8e8\uae30 \ub54c\ubb38\uc5d0 \uc2e4\uc81c \ub0b4\ubd80 \ub85c\uc9c1\uc774 \uc5b4\ub5bb\uac8c \ub418\ub294\uc9c0\ub294 \ub2e4\ub8e8\uc9c0 \uc54a\uc744 \uc608\uc815\uc774\ub2e4. \\n[i18next.t](https://www.i18next.com/overview/api#t)\uc640 \uac19\uc740 \ud568\uc218\uc640 \uac19\uc740 \uc5ed\ud560\uc744 \ud55c\ub2e4\uace0 \ubcf4\uba74 \ub420 \uac83\uc774\ub2e4.\\n:::\\n\\n### How about I18n return type\\n\\n\uc5ec\uae30\uc11c, `tFunction`\uc5d0\uc11c return \ub41c \uac12\uc774 \uc5b4\ub5a4 \uac12\uc73c\ub85c \ub098\uc624\ub294\uc9c0 \uc54c \uc218 \uc788\ub2e4. \uadf8\ub807\ub2e4\uba74 \uac01 return\uac12\uc758 type\uc740 \uc5b4\ub5bb\uac8c \ub420\uae4c?\\n```tsx showLineNumbers\\nimport tFunction from \'utils\';\\n\\ntFunction(\'simple-example\')\\n// This is example text\\n// string\\ntFunction(\'values-example\', [15])\\n// I need to show 15 value\\n// string\\ntFunction(\'line-break-example\')\\n// Hello <br /> I am FE developer\\n// ReactElement\\n```\\nL3, L6\ub294 string \ud0c0\uc785\uc774\ub77c\uace0 \ubcf4\uc544\ub3c4 \ubb34\ubc29\ud558\ub2e4. \ud558\uc9c0\ub9cc L9\uc5d0\uc11c\ub294 i18n text\uc5d0 `\\\\n`\uac00 \uc788\uae30 \ub54c\ubb38\uc5d0 ReactElement\uac00 \ub9ac\ud134\ub41c\ub2e4.\\n\\n:::note\\n`ReactElement`\ub85c \ub9ac\ud134\ud558\uc9c0 \uc54a\uace0, string\uc744 \ub9ac\ud134\ud558\uba74\uc11c \uc904\ubc14\uafc8\uc744 \uc9c0\uc6d0\ud558\uae30 \uc704\ud574\uc11c\ub294\\n[dangerouslySetInnerHTML](https://reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml)\ub97c \uc0ac\uc6a9\ud574\uc57c\ud55c\ub2e4.\\n\ud558\uc9c0\ub9cc \uc5ec\ub7ec \ud55c\uacc4\uac00 \uc788\uc73c\ubbc0\ub85c string \ub300\uc2e0\uc5d0 ReactElement\ub85c \ub9ac\ud134\ud55c\ub2e4.\\n:::\\n\\n\ub9cc\uc57d `values-example`\uc758 \ubcc0\uc218\ub85c `15`\uac00 \uc544\ub2c8\ub77c a tag\uc640 \uac19\uc740 JSX\ub97c \ub123\ub294\ub2e4\uba74, `values-example`\uc758 \ub9ac\ud134 \ud0c0\uc785 \ub610\ud55c \ub2ec\ub77c\uc9c4\ub2e4.\\n```tsx\\nimport tFunction from \'utils\';\\n\\ntFunction(\'values-example\', [15]) \\n// I need to show 15 value\\n// string\\n\\ntFunction(\'values-example\', [<a href=\\"/about\\">more</a>]) \\n// I need to show <a href=\\"/about\\">more</a> value\\n// ReactElement\\n```\\n\uc704\uc640 \uac19\uc774 \uac19\uc740 `values-example` I18n key\ub97c \uc0ac\uc6a9\ud558\ub354\ub77c\ub3c4 values\ub85c \uc5b4\ub5a4 \uac12\uc774 \uc624\ub290\ub0d0\uc5d0 \ub530\ub77c\uc11c \ud0c0\uc785\uc774 \ub2ec\ub77c\uc838\uc57c\ud55c\ub2e4.\\n`a tag` \ub610\ud55c `<br/>`\uacfc \ub9c8\ucc2c\uac00\uc9c0\ub85c string\uc774 \uc544\ub2c8\ub77c ReactElement\uc778 \ucef4\ud3ec\ub10c\ud2b8\ub85c \ub9ac\ud134\ud574\uc57c \ud558\uae30 \ub54c\ubb38\uc774\ub2e4.\\n\\n### What is matter?\\n\\n\uc790, i18n Text \ud0c0\uc785\uc774 \uc0c1\ud669\uc5d0 \ub530\ub77c string, ReactElement\ub85c \ub2ec\ub77c\uc9c4\ub2e4\ub294 \uac83\uc744 \uc54c\uc558\ub2e4.\\n\uadf8\ub807\ub2e4\uba74 \uc5b4\ub5a4 \uac83\uc774 \ubb38\uc81c\uc77c\uae4c?\\n\\n**`tFunction`\uc740 \uc704\uc5d0\uc11c \uc774\uc57c\uae30 \ud55c \uac83\uacfc \uac19\uc774 \ub611\ub611\ud558\uac8c \ud0c0\uc785\uc744 \ucd94\ub860\ud574\uc8fc\uc9c0 \uc54a\ub294\ub2e4\ub294 \uc810\uc774\ub2e4.**\\n\\n\uc5ec\uae30\uc11c type\uc774 \uc801\uc808\ud788 \ucd94\ub860\ub418\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc5b4\ub5a4 \ubb38\uc81c\uac00 \uc788\uc744\uae4c?\\n\\n```tsx\\n<input \\n  type=\'input\' \\n  placeholder={tFunction(\'line-break-example\')} // type error  \\n/>\\n```\\n\uc5ec\ub7ec\uac00\uc9c0 \uacbd\uc6b0\uac00 \uc788\uaca0\uc9c0\ub9cc, \ub300\ud45c\uc801\uc73c\ub85c\ub294 HTML tag\ub97c \uc0ac\uc6a9\ud560 \ub54c string\uc73c\ub85c \uc815\uc758 \ub41c attribute\uc5d0 string\uc774 \uc544\ub2cc i18n \uac12\uc774 \ud3ec\ud568 \ub420 \uc218 \uc788\ub2e4. \uc774\ub7ec\uba74, placeholder\uc5d0 xlt text \ub300\uc2e0 `[object Object]`\uac00 \ubcf4\uc774\uac8c \ub41c\ub2e4.\\n\\n\ubb3c\ub860, placeholder\uc5d0 a tag\uac00 \ub4e4\uc5b4\uac00\uac70\ub098 \\\\n \uac19\uc740 \uc904\ubc14\uafc8\uc774 \ub4e4\uc5b4\uac00\ub294 \ucf00\uc774\uc2a4\uac00 \uba85\ubc31\ud788 \uc774\uc0c1\ud558\ub2e4. \ud558\uc9c0\ub9cc i18n key\ub97c \uc798\ubabb \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\ub3c4 \uc788\uace0, i18n text\uac00 \uc798\ubabb \ub4f1\ub85d \ub41c \uacbd\uc6b0\ub3c4 \uc788\uc744 \uc218 \uc788\ub2e4.\\n\\n\uc989, typescript\ub97c \uc0ac\uc6a9\ud558\ub294\ub370 \ud0c0\uc785\uc774 \uc81c\ub300\ub85c \ucd94\ub860 \ub418\uc9c0 \uc54a\ub294 \ub2e4\ub294 \uc810\uc5d0 \uc788\uc5b4\uc11c \uc704\uc640 \uac19\uc740 \ubb38\uc81c\uc810\uc774 \uc788\uace0 \ub610 \ub2e4\ub978 \ubb38\uc81c\ub97c \uc57c\uae30 \ud560 \uc218 \uc788\ub2e4.\\n\\n\uc774\ubc88 article\uc5d0\uc11c\ub294 i18n text\uc758 format \ubcc4\ub85c \ud0c0\uc785\uc744 \uc815\uc758\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574\uc11c \uc774\uc57c\uae30 \ud574 \ubcfc \uc608\uc815\uc774\ub2e4. i18n\uc744 \uc608\ub85c \ub4e4\uc5c8\uc9c0\ub9cc \uae30\ubcf8\uc801\uc73c\ub85c\ub294 typescript [Template Literal Types](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html)\uacfc \uad00\ub828\ub41c \uc774\uc57c\uae30\uc774\ub2e4.\\n\\n:::info \uc0ac\uc804\uc9c0\uc2dd\\n- typescript 4.1+ \uc5d0 \ub300\ud55c \uc804\ubc18\uc801\uc778 \uc9c0\uc2dd\\n- Template Literal Types\uc5d0 \ub300\ud55c \uad00\uc2ec\\n- i18n system \uc0ac\uc6a9 \uacbd\ud5d8 (optional)\\n:::\\n\\n\x3c!--truncate--\x3e\\n\\n## Goal\\ni18n\uc744 \uc0ac\uc6a9\ud558\uba74\uc11c \uc904\ubc14\uafc8, \ubcc0\uc218 \ub4f1\uc744 \ub300\uc751\ud558\uae30 \uc704\ud574\uc11c\ub294 \ub8f0\uc744 \uc815\ud574\uc57c\ud55c\ub2e4.\\n\uc904\uc744 \ubc14\uafb8\uace0 \uc2f6\uc744\ub54c\ub294 `\\\\n`\uc744 \uc9d1\uc5b4\ub123\ub294\ub2e4. \uc0c1\ud669\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c0\ub294 \uac12\uc744 \ub07c\uc6cc\ub123\uace0 \uc2f6\ub2e4\uba74 `{}`\ub97c \uc0ac\uc6a9\ud55c\ub2e4 \uc640 \uac19\uc740 rule \ub9d0\uc774\ub2e4.\\n\\n\uc6b0\ub9ac\uac00 \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 i18n rule\uc5d0 \ub300\ud574\uc11c \uba3c\uc800 \uc124\uba85\uc744 \ud558\uace0, rule\uc5d0 \ub300\ud574\uc11c type\uc744 \uc5b4\ub5bb\uac8c \uc815\ud560\uc9c0 \uc774\uc57c\uae30 \ud574 \ubcfc \uc608\uc815\uc774\ub2e4.\\n\\n### I18n Rule\\n\\n#### \uc904\ubc14\uafc8\\ni18n text\uc5d0\uc11c \uc904\uc744 \ubc14\uafd4\uc11c \ubcf4\uc5ec\uc8fc\uace0 \uc2f6\uc744\ub54c\ub294 \uc904\uc744 \ubc14\uafc0 \ubd80\ubd84\uc5d0\uc11c `\\\\n`\ub97c \ub123\uc5b4\uc900\ub2e4.\\n\\n```json\\n// i18n text json\\n{\\n  \\"lineBreak\\": \\"Hello. \\\\n I am FE developer\\"\\n}\\n\\n// displayed text\\nHello\\nI am FE developer\\n```\\n\\n#### \ubcc0\uc218\\ni18n text\uc5d0\uc11c \uc815\uc801\uc778 \ud14d\uc2a4\ud2b8\uac00 \uc544\ub2c8\ub77c \uc0c1\ud669\uc5d0 \ub530\ub77c \ub2e4\ub978 Text, \uc989 \uac1c\ubc1c \ucf54\ub4dc\uc758 \ubcc0\uc218\ub97c \ub123\uc5b4\uc8fc\uace0 \uc2f6\ub2e4\uba74 `{}`\ub97c \uac10\uc2f8\uc11c \uc0ac\uc6a9\ud55c\ub2e4.\\n\ud558\ub098\uc758 i18n text\uc5d0 \uc5ec\ub7ec\uac1c\uc758 \ubcc0\uc218\ub97c \ub123\uc744 \uc218 \uc788\uae30 \ub584\ubb38\uc5d0 `{}`\uc548\uc5d0 string\uc744 0\ubd80\ud130 \uc2dc\uc791\ud558\uc5ec 1\uc529 \ub298\ub824\uac04\ub2e4.\\n```json\\n// i18n text json\\n{\\n  \\"oneValue\\": \\"This product is {0}.\\",\\n  \\"unit\\": \\"${0}\\",\\n  \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\"\\n}\\n```\\n```tsx\\nimport tFunction from \'utils\';\\n\\ntFunction(\'oneValue\', [tFunction(\'unit\', [1000])])\\n// This product is $1000.\\n\\ntFunction(\'twoValue\', [tFunction(\'unit\', [500]), 3])\\n// This product is $500 and it will be delivered after 3 days\\n```\\n\\n#### \ub9c1\ud06c\\n\ub9cc\uc57d i18n text\uc5d0 \ub9c1\ud06c\ub97c \ud3ec\ud568\ud558\uace0 \uc2f6\uc744\ub54c\ub3c4 \ubcc0\uc218\uc640 \uac19\uc740 \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud55c\ub2e4. `{}`\ub97c \uac10\uc2f8\uc11c \uc0ac\uc6a9\ud558\uace0, link\uc5d0 \ubcf4\uc5ec\uc904 text\ub294 \ubcc4\ub3c4\uc758 i18n text\ub85c \ub9cc\ub4e4\uc5b4\uc11c \uc0ac\uc6a9\ud55c\ub2e4.  \\n```json\\n// i18n text json\\n{\\n  \\"link\\": \\"click\\",\\n  \\"linkText\\": \\"{0} to show more information\\"\\n}\\n```\\n```tsx\\nimport tFunction from \'utils\';\\n\\ntFunction(\'linkText\', [<a href=\\"/more\\">{tFunction(\'link\')}</a>])\\n// <a href=\\"/more\\">click</a> to show more information \\n```\\n\\n### I18n Return Type\\n\uadf8\ub807\ub2e4\uba74 \uc704 \ucf00\uc774\uc2a4\ub4e4\uc5d0 \ub300\ud574\uc11c `tFunction`\uc740 \uc5b4\ub5a4 \ud0c0\uc785\uc73c\ub85c return \ub418\ub294 \uac83\uc774 \uc774\uc0c1\uc801\uc77c\uae4c?\\n\\n```tsx showLineNumbers\\nimport tFunction from \'utils\';\\n\\nconst i18nJson = {\\n  \\"lineBreak\\": \\"Hello. \\\\n I am FE developer\\",\\n  \\"oneValue\\": \\"This product is {0}.\\",\\n  \\"unit\\": \\"${0}\\",\\n  \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\",\\n  \\"link\\": \\"click\\",\\n  \\"linkText\\": \\"{0} to show more information\\"\\n} as const;\\n\\ntFunction(\'lineBreak\') \\n// Hello <br /> I am FE developer\\ntFunction(\'oneValue\', [tFunction(\'unit\', [1000])])\\n// This product is $1000.\\ntFunction(\'twoValue\', [tFunction(\'unit\', [500]), 3])\\n// This product is $500 and it will be delivered after 3 days\\ntFunction(\'linkText\', [<a href=\\"/more\\">{tFunction(\'link\')}</a>])\\n// <a href=\\"/more\\">click</a> to show more information \\n```\\nL12\uc740 `<br />`\uc744 \ud3ec\ud568\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 \uc77c\ubc18 string\uc73c\ub85c \ucd94\ub860\ub418\uba74 \uc548\ub41c\ub2e4. \ub530\ub77c\uc11c i18n text\uc5d0 `\\\\n` \uac19\uc740 \uc904\ubc14\uafc8\uc774 \uc788\ub2e4\uba74 `ReactElement`\ub85c \ud0c0\uc785\uc774 \ucd94\ub860\ub418\uc5b4\uc57c \ud55c\ub2e4.\\n\\nL14, L16\ub294 `values({0}, {1})`\uac00 \ub4e4\uc5b4\uac00 \uc788\uc9c0\ub9cc \ucd94\uac00\ub85c \ub4e4\uc5b4\uac04 value \uc5ed\uc2dc string \ud639\uc740 number\uc774\ub2e4. \ub530\ub77c\uc11c `string`\uc73c\ub85c \ucd94\ub860\ub418\uc5b4\ub3c4 \ub41c\ub2e4.\\n\\n\ub9c8\uc9c0\ub9c9 L18\ub294 L14, L16\uacfc\ub294 \uc870\uae08 \ub2e4\ub974\ub2e4. values\ub85c a tag\uac00 \ud3ec\ud568\ub418\uc5c8\uace0 \uc774\ub97c \uadf8\ub824\uc8fc\uae30 \uc704\ud574\uc11c\ub294 `ReactElement`\ub85c \ud0c0\uc785\uc774 \ucd94\ub860\ub418\uc5b4\uc57c\ud55c\ub2e4.\\n\\n### Recap of Goal\\n\ub530\ub77c\uc11c \ubaa9\ud45c\ub97c \uc815\ub9ac\ud558\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n- i18n key\uc5d0 \ub530\ub77c\uc11c `tFunction`\uc758 return \ud0c0\uc785\uc774 \ucd94\ub860\ub418\uc5b4\uc57c\ud55c\ub2e4.\\n- `tFunction`\uc758 return \ud0c0\uc785\uc740 i18n key\uc5d0 \ub9e4\uce6d\ub418\ub294 i18n text\uc5d0\uc11c \uac00\uc9c0\uace0 \uc788\ub294 \ud3ec\ub9f7\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c4\ub2e4.\\n  - i18n text\uc5d0\uc11c `\\\\n` \uc904\ubc14\uafc8 \ud0a4\uc6cc\ub4dc\ub97c \uac00\uc9c0\uace0 \uc788\ub2e4\uba74 `ReactElement`\ub85c \ucd94\ub860\ud55c\ub2e4.\\n  - i18n text\uc5d0\uc11c `{}` \ubcc0\uc218 \ud0a4\uc6cc\ub4dc\ub97c \uac00\uc9c0\uace0 \uc788\uace0, \ubcc0\uc218\ub85c string\uacfc number \uac19\uc740 \uac12\uc774 \ub4e4\uc5b4\uc628\ub2e4\uba74 string\uc73c\ub85c \ucd94\ub860\ud55c\ub2e4.\\n  - i18n text\uc5d0\uc11c `{}` \ubcc0\uc218 \ud0a4\uc6cc\ub4dc\ub97c \uac00\uc9c0\uace0 \uc788\uace0, \ubcc0\uc218\ub85c string\uacfc number \uac00 \uc544\ub2cc \uac12\uc774 \ub4e4\uc5b4\uc628\ub2e4\uba74 ReactElement\uc73c\ub85c \ucd94\ub860\ud55c\ub2e4.\\n- \ucd94\uac00\ub85c, \ud574\ub2f9 i18n text\uac00 `{}` \ubcc0\uc218 \ud0a4\uc6cc\ub4dc\ub97c \uac00\uc9c0\uace0 \uc788\ub294\uc9c0 \uc5ec\ubd80, \uba87\uac1c\ub97c \uac00\uc9c0\uace0 \uc788\ub294\uc9c0 \uc5ec\ubd80\uc5d0 \ub530\ub77c `tFunciton`\uc758 2\ubc88\uc9f8 parameter\uc5d0 \ud0c0\uc785\uc744 \uccb4\ud06c\ud588\uc73c\uba74 \uc88b\uaca0\ub2e4.\\n\\n## Type \uc815\uc758\\n\uc790, \uc774\uc81c \uc6b0\ub9ac\ub294 \uc704 \uc870\uac74\uc5d0 \ub9de\ucd94\uc5b4\uc11c `tFunction`\uc758 return type\uc744 \ucc44\uc6cc \ub098\uac08 \uc608\uc815\uc774\ub2e4.\\n\uc544\ub798 \ucf54\ub4dc \uc608\uc2dc\ub97c \ubcf4\uc790.\\n\\n```tsx showLineNumbers\\nimport React from \'react\';\\n\\nconst i18nJson = {\\n  \\"simple\\": \\"Hello World\\",\\n  \\"lineBreak\\": \\"Hello. \\\\n I am FE developer\\",\\n  \\"oneValue\\": \\"This product is {0}.\\",\\n  \\"unit\\": \\"${0}\\",\\n  \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\",\\n  \\"link\\": \\"click\\",\\n  \\"linkText\\": \\"{0} to show more information\\"\\n} as const;\\n\\ntype I18nJson = typeof i18nJson;\\ntype I18nKey = keyof I18nJson;\\n\\ntype TFunction = (key: I18nKey, values?: any) => string\\n\\nconst tFunction: TFunction = (key: I18nKey, values: any) => i18nJson[key]; \\n\\nconst simple = tFunction(\'simple\'); // string\\nconst lineBreak = tFunction(\'lineBreak\'); // string\\nconst oneValue = tFunction(\'oneValue\', [tFunction(\'unit\', 500)]);\\n// string\\nconst twoValue = tFunction(\'twoValue\', [tFunction(\'unit\', [500]), 3]);\\n// string\\nconst linkText = tFunction(\'linkText\', [<a href=\\"/about\\">{tFunction(\'link\')}</a>])\\n// string\\n```\\n[playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wG4AoctCAOwGd5gBGADhoCk7a4BeOAb3Jw4AIjqgwAGyQiAXKIASSSZIhwA6tEkATEQBohoycBpIAQkRQBrOYuWqAdHAA6NOAEk4KPADEAonDaSABuyhBgSFD6hiK0SABqKJIArjLyIgAqABbAdHBgONrJGHC5AgAMAL4O0cIiyTTAMLYiACT8VbWiMADuEIkpaaLZZQUQRSVlHZVeNNql8D3AKnAARkiBysChRPMomDCRAkwz2igAnnRdIsY0Nuloxmg2BnW3VhlIAB7N6dNwMDUdCyEB6cBA0A2Jkw0BAKBgwFoInIMxQeWo9BgFHIMHOEQ8rA4XDcfFxEQgmFKhM4tAoZI27kJAGkkOdeHArKyKQS2DSaNj6XAMj4GhhESS4AAKTnneSMtgs856ODBJKpOgAfnkKBo5wAlLwAHxwBhQEwAc0oGIYAJFNDFtHkwtFCO4fGlrLlzNZytVgzo2t1Bp4xuYvOJAG0ZQBdUhwK20G3icDSdkwO0OmiS-DJqRIfB6uNURPwW7mSxWNMZ11Z-BliyoKwFijW+BxAapKsu8XZ9tq-PKiPp7u0bMNJr4ZUAVnK5T10cLxcxAL6HY2pOrPfwvX6-cncCHm9H+HHMH3EZn5QXyoAzAuWyW4O9Pj8u-aa9nn98z4OADwoOAsiITAeBEAB6FBVggZJmkNfhh3fLd3gLSpfwgw0F3IIA)\\n\\n\uc774\uc804\uae4c\uc9c0 \uc608\uc81c\ub85c \uc0ac\uc6a9\ud588\ub358 i18n text \uc608\uc81c\ub4e4\uc774 \ubaa8\ub450 `i18nJson`\uc5d0 \ud3ec\ud568\ub418\uc5b4 \uc788\uace0, \uc774\ub294 `I18nJson`\uacfc `I18nKey`\ub85c \uac01\uac01\uc758 \ud0c0\uc785\uc73c\ub85c \ucd94\ub860\ub41c\ub2e4.\\n\uc774\ub294, `TFunction` \ud568\uc218 \ud0c0\uc785\uc744 \uc815\uc758\ud558\uace0, \uc774\ub97c `tFunction`\uc5d0 \uc0ac\uc6a9\ud55c\ub2e4. \ud604\uc7ac\ub294 \ubaa8\ub450 string \ud0c0\uc785\uc73c\ub85c \ub9ac\ud134\ud558\uace0 \uc788\uc9c0\ub9cc, \uc6b0\ub9ac\uc758 \ubaa9\ud45c\ub294 \uc774\ub97c \ucf00\uc774\uc2a4\uc5d0 \ub530\ub77c \uac01\uac01\\n\ub2e4\ub978 \ud0c0\uc785\uc73c\ub85c \ucd94\ub860\ub418\ub294 \uac83\uc744 \ubaa9\ud45c\ub85c \ud55c\ub2e4.\\n\uc989, \ud604\uc7ac\ub294 L20-L27 \ubaa8\ub450 string\uc73c\ub85c \ud0c0\uc785\uc774 \ucd94\ub860\ub418\uc9c0\ub9cc \uc774 \uae00\uc758 \ub9c8\uc9c0\ub9c9\uc5d0\ub294 \uac01 key\uc5d0 \ub530\ub978 text\uc758 \ud615\uc2dd\uc5d0 \ub9de\ucdb0 string\uacfc ReactElement\ub85c \ud0c0\uc785\uc774 \ub098\ub258\uc5b4\uc9c0\ub294 \uac83\uc744 \ubaa9\ud45c\ub85c \ud55c\ub2e4.\\n\\n### \uc904\ubc14\uafc8\\n\uba3c\uc800 \uc904\ubc14\uafc8, `\\\\n`\uc774 i18n text\uc5d0 \ud3ec\ud568 \ub420 \uacbd\uc6b0 string \ub300\uc2e0 ReactElement\uc73c\ub85c \ub9ac\ud134\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf8\ub2e4.\\n\uadf8\ub97c \uc704\ud574\uc11c\ub294 [Template Literal Type](https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html)\uc5d0 \ub300\ud55c \uc774\ud574\uac00 \ud544\uc694\ud558\ub2e4.\\n\\n#### Template Literal Type\\nTypescript\uc758 \ubb38\uc790\uc5f4\uc5d0\ub294 string \ud0c0\uc785\uc774 \uc788\uace0, literal type\uc774 \uc788\ub2e4. \uadf8\ub9ac\uace0 \ub354 \ub098\uc544\uac00\uc11c literal type\uc744 \uc870\ud569\ud574\uc11c \ub610 \ub2e4\ub978 \ud0c0\uc785\uc744 \ub9cc\ub4dc\ub294 `Template Literal Type`\uc774 \uc788\ub2e4.\\n\uc608\uc81c\ub85c \ubcf4\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n```tsx showLineNumbers\\nlet str1 = \'example\' // string\\nconst str2 = \'example\' // \'example\'\\n\\ntype StrPrefix = \'one\' | \'two\'\\ntype StrPostfix = \'type\' | \'sample\'\\n\\ntype TemplateStr = `${StrPostfix}_${StrPostfix}`\\n// \'one_type\' | \'two_type\' | \'one_sample\' | \'two_sample\'\\n```\\nL1\uc758 `str1`\uc740 `let`\uc73c\ub85c \uc120\uc5b8\ub418\uc5b4\uc11c literal type\uc73c\ub85c \ucd94\ub860\ub418\uc9c0 \uc54a\uace0 string \ud0c0\uc785\uc73c\ub85c \ucd94\ub860\ub41c\ub2e4. \uc65c\ub0d0\ud558\uba74 `str1` \ubcc0\uc218\ub294 \ub2e4\ub978 \uac12\uc73c\ub85c \uc7ac\ud560\ub2f9\uc774 \uac00\ub2a5\ud558\uae30 \ub584\ubb38\uc774\ub2e4.\\n\ubc18\uba74, L2\uc758 `str2`\ub294 `const`\ub85c \uc120\uc5b8\ub418\uc5b4 `\'example\'`\uc778 literal type\uc73c\ub85c \ucd94\ub860\ub41c\ub2e4.\\n\\nL4-L5\uc5d0\uc11c \uc120\uc5b8\ub41c `StrPrefix`\uc640 `StrPostfix`\ub97c \ud569\uccd0 L7\uc5d0\uc11c `TemplateStr`\ub294 4\uac1c\uc758 literal type\uc744 \uac00\uc9c0\ub294 Union \ud0c0\uc785\uc73c\ub85c \ucd94\ub860\ub41c\ub2e4.\\n\\n\uc774 \uc6d0\ub9ac\ub97c \uc774\uc6a9\ud574\uc11c i18n text\uc5d0 \uc788\ub294 `\\\\n` \ud14d\uc2a4\ud2b8\ub97c \ud655\uc778\ud558\uace0 \ubcc4\ub3c4\uc758 \ud0c0\uc785\uc73c\ub85c \ucd94\ub860\ud560 \uc608\uc815\uc774\ub2e4.\\n\\n#### \uc904\ubc14\uafc8 \ud0c0\uc785 \uc815\uc758\\n```tsx  showLineNumbers\\nimport React, { ReactElement } from \'react\';\\n\\nconst i18nJson = {\\n  \\"simple\\": \\"Hello World\\",\\n  \\"lineBreak\\": \\"Hello. \\\\n I am FE developer\\",\\n} as const;\\n\\n\\ntype I18nJson = typeof i18nJson;\\ntype I18nKey = keyof I18nJson;\\n\\n// highlight-start\\ntype LineBreakFormat = `${string}\\\\n${string}`;\\n\\ntype TFunction = <Key extends I18nKey,>(\\n  key: Key,\\n  values?: any,\\n) => I18nJson[Key] extends LineBreakFormat ? ReactElement : string;\\n// highlight-end\\n\\nconst tFunction: TFunction = (key: I18nKey, values: any) =>\\n  i18nJson[key] as any;\\n\\nconst simple = tFunction(\'simple\'); // string\\nconst lineBreak = tFunction(\'lineBreak\'); // ReactElement\\n```\\n[playground](https://www.typescriptlang.org/play?ssl=8&ssc=1&pln=9&pc=1#code/JYWwDg9gTgLgBAJQKYEMDGMA0cDejUYCiANkiEgHbwC+cAZlBCHAORQEwsDcAUD2hAoBneMACMADgoApIYLgBeXDzhwARENBhSagFzqAEkmLEIcAOrRiAEzWYV64sApIAQuxQBrPYeOmAdHAAOhRwAJJwKMwAYoRw1kgAbsYQYEhQdjy0KEJwAsIwvDwwAJ5p4ZIycqFKpWkQdHDiUrKCvHVIFVIA0kglinCefQ1dVW18HXAAMs5uHp7R0CAo8EoABgAkOCJQzgDm1CFbO-vUa0WTACrRAK4UGMDySgA8vf1IAB4wlNa5YZVvTAAPgAFEMSvpAXBEihiDckEIAPz6FAUEoASkUQNGrQoAG03gBdOCfb4UX7TWbuVALJYrOCI-DoGAkMiUeD6E4UPZFfIiOAwW73GCPCj6a53B5POBgvr6f49PrYGFwhEotGYhTY5pjfHg4k5SJorhwPh8+CacCkAaCyUiwQgliW7RIFjok0Aeg9cC5e34gn5Thc1K8NqFUoojqDcxpbs93uQzNZ5CoQA)\\n\\nL12\ub97c \ubcf4\uba74 Template Literal String\uc744 \uc0ac\uc6a9\ud574\uc11c `LineBreakFormat` \ud0c0\uc785\uc744 \ubcc4\ub3c4\ub85c \ub9cc\ub4e0\ub2e4. `${string}\\\\n${string}`\ub77c\uace0 \uc124\uc815\uc744 \ud558\uba74 string\uc73c\ub85c \uac10\uc2f8\uc9c4 `\\\\n` \ubb38\uc790\uc5f4\uc774 \uc788\uc744\ub54c\ub294\\n`LineBreakFormat`\uc73c\ub85c \ucd94\ub860\ub41c\ub2e4.\\n\\n#### Function type inference\\n\\n\uc6b0\ub9ac\ub294 `TFunction`\uc744 \ud638\ucd9c\uc2dc run-time\uc5d0 \ub4e4\uc5b4\uc624\ub294 key\uc758 literal type\uc744 \ubcf4\uace0 return type\uc744 \ucd94\ub860\ud574\uc57c\ud55c\ub2e4. type \uc601\uc5ed\uc5d0\uc11c `I18nKey`\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\uba74 key \uc785\ub825 \uac12\uc5d0 \ub530\ub77c return type\uc744 \ub2ec\ub9ac \ud560 \uc218 \uc5c6\ub2e4.\\n\uc5ec\uae30\uc11c [Function type inference](https://www.typescriptlang.org/docs/handbook/2/functions.html#inference)\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc544\ub798\uc640 \uac19\uc774 \ubcc0\uacbd\ud55c\ub2e4.\\n```tsx\\n// Before\\ntype TFunction = (key: I18nKey, values?: any) => string\\n\\n// After\\ntype TFunction = <Key extends I18nKey,>(key: Key, values?: any) => string;\\n```\\n\uc704\uc640 \uac19\uc740 \ubc29\uc2dd\uc73c\ub85c `Key`\ub97c Generic\uc73c\ub85c \ucd94\ucd9c\ud558\uace0, `TFunction`\uc744 \ud638\ucd9c\ud560\ub54c Generic\uc744 \uba85\uc2dc\uc801\uc73c\ub85c \uc120\uc5b8\ud558\uc9c0 \uc54a\uc73c\uba74, key\ub85c \ub4e4\uc5b4\uc624\ub294 literal type\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \ub41c\ub2e4.\\n\\n\ub9c8\uc9c0\ub9c9\uc73c\ub85c Key\uc5d0 \ub300\ud55c I18n text\uac00 `LineBreakFormat`\uc778\uc9c0 \ud310\ub2e8\ud558\uc5ec ReactElement\uc640 string\uc744 \ubd84\uae30\ud558\uba74 \ub41c\ub2e4.\\n```tsx\\n// Before\\ntype TFunction = <Key extends I18nKey,>(key: Key, values?: any) => string;\\n\\n// After\\ntype TFunction = <Key extends I18nKey,>(key: Key, values?: any) =>\\n// highlight-start\\n  I18nJson[Key] extends LineBreakFormat ? ReactElement : string;\\n// highlight-end\\n```\\n`typescript`\uc5d0\uc11c `extends`\ub294 interface\uc5d0\uc11c \uc0ac\uc6a9\ud560\ub54c\ub294 \uc0c1\uc18d\uc758 \uc758\ubbf8\uc774\uc9c0\ub9cc, [Conditional Types](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html)\ub85c \ud65c\uc6a9\ud560 \uc218\ub3c4 \uc788\ub2e4.\\n\ub530\ub77c\uc11c, i18n Text, `I18nJson[Key]`\uac00 `LineBreakFormat`\uc774\uba74 ReactElement\ub85c \ub9ac\ud134\ud558\uace0, \uc544\ub2c8\ub77c\uba74 string \ud0c0\uc785\uc73c\ub85c \ub9ac\ud134\ud55c\ub2e4. \\n\\n\uc5ec\uae30\uc11c, `I18nJson[Key]`\uc758 Key\ub294 run-time\uc5d0 \uc0ac\uc6a9\ub418\ub294 Literal Type \uc774\ub2e4.\\n\\n\ub530\ub77c\uc11c Key\ub85c `simple`\uc774 \ub4e4\uc5b4\uc628\ub2e4\uba74 `I18nJson[\'simple\']`\uc5d0 \ub300\ud55c \ud0c0\uc785\uc73c\ub85c \ucd94\ub860\ud558\uc5ec `\'Hello World\'` literal type\uc744 \uc0ac\uc6a9\ud55c\ub2e4. <br/>\\nKey\ub85c `lineBreak`\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uba74 `I18nJson[\'lineBreak\']`\uc758 \ud0c0\uc785\uc778 `\'Hello. \\\\n I am FE developer\'`\ub85c \ud0c0\uc785 \ube44\uad50\ub97c \uc9c4\ud589\ud558\uae30 \ub54c\ubb38\uc5d0 `LineBreakFormat`\uc758 \ube44\uad50\ubb38\uc774 \uc758\ubbf8\ub97c \uac00\uc9c0\uac8c \ub41c\ub2e4.\\n- `I18nJson[Key]`\\n  - Key: simple -> `I18nJson[\'simple\']` -> `\'Hello World\'`\\n  - Key: lineBreak -> `I18nJson[\'lineBreak\']` -> `\'Hello. \\\\n I am FE developer\'`\\n\\n\uadf8 \ub355\ubd84\uc5d0 L17-L18\uc5d0\uc11c \uac01\uac01 string\uacfc ReactElement \ud0c0\uc785\uc73c\ub85c \ub2e4\ub974\uac8c \ub9ac\ud134 \ud0c0\uc785\uc774 \uc9c4\ud589\ub41c\ub2e4.\\n\\n### \ubcc0\uc218\ub85c \ub4e4\uc5b4\uc624\ub294 \ud0c0\uc785 \ud655\uc778\ud558\uae30\\n\ub2e4\uc74c\uc73c\ub85c \ud655\uc778\ud574 \ubcfc \uac83\uc740 `TFunction`\uc758 2\ubc88\uc9f8 parameter \ubc30\uc5f4\uc5d0 number\uc640 string\ub9cc \uc788\ub294 \uacbd\uc6b0 string\uc744 \ub9ac\ud134\ud558\uace0, \uc774\uc678\uc758 ReactElement\uc640 \uac19\uc740 \uac12\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\ub2e4\uba74 ReactElement\ub97c \ub9ac\ud134\ud558\uac8c \ud55c\ub2e4.\\n\uc608\uc81c\ub85c \ubcfc \ucf54\ub4dc\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n```tsx showLineNumbers\\nimport React from \'react\';\\n\\nconst i18nJson = {\\n  \\"oneValue\\": \\"This product is {0}.\\",\\n  \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\",\\n} as const;\\n\\ntype I18nJson = typeof i18nJson;\\ntype I18nKey = keyof I18nJson;\\n\\ntype TFunction = (key: I18nKey, values?: any) => string\\n\\nconst tFunction: TFunction = (key: I18nKey, values: any) =>\\n  i18nJson[key] as any;\\n\\nconst oneValue = tFunction(\'oneValue\', [100]);\\nconst twoValue = tFunction(\'twoValue\', [100, \'200\']);\\nconst twoValueWithReactElement = tFunction(\\n  \'twoValue\',\\n  [100, <a>Hello</a>],\\n);\\n```\\n[playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wG4AoctCAOwGd5gBGADhoCk7a4BeOAb3Jw4AIlpIAaigA2AVyQiAXKIAqAC2B04YHABNZGOJoEAGAL4A6EQBohomAHcIUuQuUj1xnRH2Hj-czgUGl0jeAdgaWk4ACMkOF0kaWAANyQiUJRMGHSBJjMElABPOhtyApQtanoYCnIYIrB4gElWDi4aXjgGpohMIzbOWgoelraAaSQiroBrKb64VrYhmjrRuBUAMVkaDGBuPgAKOaLlJZpJous4FJl5OgB+ZWCigEpeAD44BihgGgBzSjVBjdba7GD7GjKLY7PYHODHKZnCZTa63Vx0Z40N6fAbLDoAbROAF1SHAgbQQeIXPIujAwXCaId8NS7kh8NcCUwTCZia8KMD4I5nGy6QyIbRmcKaezOdyTNcAEw8vkCylCpwygDqwBgamQ6BgAFFpEgQEgaPA+PTYRKmfhpWyOXAuTzrgAeFAfAASSWkEHdAHovaryEA)\\n\\n\uae30\uc874 playground \ucf54\ub4dc\uc5d0\uc11c \ud544\uc694\ud55c \ubd80\ubd84\ub9cc \ub0a8\uaca8\ub450\uc5c8\ub2e4.\\n\uc6b0\ub9ac\uc758 \ubaa9\ud45c\ub294 L15, L16\uc740 \ub450\ubc88\uc9f8 \uc778\uc790\ub85c number, string \ub85c\ub9cc \uc774\ub8e8\uc5b4\uc9c4 \ubc30\uc5f4\uc774 \ub4e4\uc5b4\uc624\uae30 \ub54c\ubb38\uc5d0 string\uc73c\ub85c \ub9ac\ud134\ud558\uace0, L17\uc740 `a tag`\ub97c \ubcc0\uc218\ub85c \ub123\uae30 \ub54c\ubb38\uc5d0 ReactElement\ub85c \ub9ac\ud134\ud558\ub294 \uac83\uc774\ub2e4.\\n\\n\ud574\uacb0\ubc29\ubc95\uc740 \uac04\ub2e8\ud558\ub2e4. values\uac00 `(string | number)[]` \ud0c0\uc785\uc778\uc9c0 \uc544\ub2cc\uc9c0 \ud310\ub2e8\ud558\uae30\ub9cc \ud558\uba74 \ub41c\ub2e4.\\n```tsx\\ntype TFunction = <Params extends any[],>(key: I18nKey, values?: Params) =>\\n  Params extends (string | number)[]\\n  ? string : ReactElement\\n```\\n\uc704 \ucf54\ub4dc\uc5d0\uc11c `values`\uc758 \ud0c0\uc785\uc744 [type inference](https://www.typescriptlang.org/docs/handbook/2/functions.html#inference)\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c Generic type\uc73c\ub85c \ucd94\ucd9c\ud558\uace0 \\n`tFunction` \ud638\ucd9c\uc2dc\uc5d0 \uc544\ubb34\ub7f0 Generic\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294\ub2e4. \uadf8\ub807\ub2e4\uba74 \uc6b0\ub9ac\ub294 `Params`\uc758 \ud0c0\uc785\uc73c\ub85c condition type\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.\\n\\n`Params`\uac00 number, string\uc73c\ub85c\ub9cc \uc774\ub8e8\uc5b4\uc9c4 \ubc30\uc5f4\uc774\ub77c\uba74 \uc790\ub3d9\uc73c\ub85c string\uc73c\ub85c \ud0c0\uc785 \ucd94\ub860\uc774 \ub418\uace0, \ub2e4\ub978 \uac12(ReactElement)\uac00 \ud3ec\ud568\ub418\uc5b4\uc788\ub2e4\uba74 ReactElement\ub85c \ub9ac\ud134\ub41c\ub2e4.\\n[playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wG4AoctCAOwGd5gBGADhoCk7a4BeOAb3Jw4AIlpIAaigA2AVyQiAXKIAqAC2B04YHABNZGOJoEAGAL4A6EQBohomAHcIUuQuUj1xnRH2Hj-czgUGl0jeAdgaWk4ACMkOF0kaWAANyQiUJRMGHSBJjMElABPOhtyApQtanoYCnIYIrB4gElWDi4aXjgGpohMIzbOWgoelraAaSQiroBrKb64VrYhmjrRuBUAMVkaDGBuPgAeAAUUKBQQLSQADxyQrWCigG0AXWsAPgAKOaLlJZpJkVrHAUjJ5HQAPzKU7nS4ASl47zgMIuV1uSHucE+DCgwBoAHM4AAfOA0WQgOJQOGvOAQuA4vGE5TIdAwACi0iQIAxMEo1QY3W2uxg+xoyi2Oz2ByxPz+EymwNBrjoykeCJ4SOYyw6Tx+L1IcD5tAF4hc8i6MCFUpon3wprBSHwwKeTBMJhecIo-PgjmcDotVpFtFtvrNjudrpMwIATG6PV7jT6nGGAOrAGBqFkYDlcnkByVBm34UMOp1wF1u4GHFDvAASSWkEEOAHoa-HyEA)\uc5d0\uc11c \ud655\uc778\ud574\ubcf4\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \ucd94\ub860\ub41c\ub2e4.\\n```tsx\\nconst oneValue = tFunction(\'oneValue\', [100]); // string\\nconst twoValue = tFunction(\'twoValue\', [100, 200]); // string\\nconst twoValueWithReactElement = tFunction(\\n  \'twoValue\',\\n  [100, <a>Hello</a>],\\n); // ReactElement\\n```\\n\uc774\ub85c\uc368 \ubcc0\uc218\uc5d0 number, string\uc774 \uc544\ub2cc \uac12\uc774 \ub4e4\uc5b4\uac00\uba74 ReactElement\ub85c \ucd94\ub860\ud560 \ubc29\ubc95\uc744 \ucc3e\uc558\ub2e4.\\n\\n\uadf8\ub7f0\ub370, \ubcc0\uc218\uac00 \ud3ec\ud568\ub41c i18n\uc744 \uc0ac\uc6a9\ud55c\ub2e4\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \ucf00\uc774\uc2a4\ub3c4 \uc788\uc744 \uac83 \uac19\ub2e4.\\n```tsx\\nconst i18nJson = {\\n  \\"normal\\": \\"Hello World\\",\\n  \\"oneValue\\": \\"This product is {0}.\\",\\n  \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\",\\n} as const;\\n\\nconst oneValue = tFunction(\'oneValue\');\\n// NEED type error!!\\n// \ubcc0\uc218\uac00 \uc0ac\uc6a9\ub418\uc5b4\uc57c \ud558\uc9c0\ub9cc \ube48 \uac12\uc744 \ub123\uc740 \uacbd\uc6b0.\\nconst twoValue = tFunction(\'twoValue\', [100]);\\n// NEED type error!!\\n// \ubcc0\uc218\uac00 2\uac1c \ub4e4\uc5b4\uac00\uc57c\ud558\uc9c0\ub9cc 1\uac1c\ub9cc \ub4e4\uc5b4\uac04 \uacbd\uc6b0.\\nconst normal = tFunction(\'normal\', [100]);\\n// NEED type error!!\\n// \ubcc0\uc218\uac00 \uc5c6\uc5b4\uc57c\ud558\ub294\ub370 \uc0ac\uc6a9\ub418\uace0 \uc788\ub294 \uacbd\uc6b0.\\n```\\n\uc989, \ubcc0\uc218\uc758 \uac1c\uc218\uac00 \ub9de\uc9c0 \uc54a\uac70\ub098 \uc0ac\uc6a9\ud574\uc57c\ud558\ub294\ub370 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uac70\ub098, \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc544\uc57c\ud558\ub294\ub370 \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\uc5d0 \ub300\ud55c \uac83\uc774\ub2e4.\\n\uc774\ub97c \uc704\ud574\uc11c\ub294 \uc870\uae08 \ub354 \ubcf5\uc7a1\ud55c \ud0c0\uc785 \uc120\uc5b8\uc774 \ud544\uc694\ud558\uac8c \ub418\ub294\ub370, \ub2e4\uc74c \ubb38\ub2e8\uc744 \uc774\uc5b4\uc11c \ubcf4\uc790.\\n\\n### \ubcc0\uc218 \uac1c\uc218 \ud655\uc778\ud558\uae30\\n\uc790, \uc774\uc81c \uc6b0\ub9ac\ub294 i18n text\uc5d0 `{}`\uac00 \uac10\uc2f8\uc9c4 \ubb38\uc790\uc5f4\uc774 \uba87\uac1c\uac00 \ub418\ub294\uc9c0 \ucc3e\uc544\uc57c\ud55c\ub2e4. \uc774\uc804\uc5d0 \uc904\ubc14\uafc8\uc5d0\uc11c \uc0ac\uc6a9\ud55c\ub300\ub85c [Template Literal Type](https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html)\uc744 \\n\uc0ac\uc6a9\ud560\ud14c\uc9c0\ub9cc, \uadf8\uac83\ub9cc\uc73c\ub85c\ub294 \ubd80\uc871\ud558\ub2e4.\\n\\n#### [Recursive Conditional Types](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html#recursive-conditional-types)\\n\uc6b0\ub9ac\ub294 `{}`\ub85c \uac10\uc2f8\uc9c4 \ubb38\uc790\uc5f4\uc744 \ucc3e\uc544\ub0b4\uace0 \ub2e4\uc2dc `{}`\ub85c \uac10\uc2f8\uc9c4 \ubb38\uc790\uc5f4\uc774 \uc788\ub294\uc9c0 \ud655\uc778\ud558\ub294 \uac83\uc774 \ud544\uc694\ud558\ub2e4. \uc774\ub97c \uc704\ud574 \uc4f0\uc774\ub294\uac8c Recursive \ubc29\ubc95\uc774\ub2e4.\\n```tsx\\n// This is not working!\\ntype ValuesArray<I18nText extends string> =\\n  I18nText extends `${string}{${string}}${string}`\\n  ? [any, ...ValuesArray<I18nText>] : [];\\n```\\n\ubc14\ub85c \uc704\uc640 \uac19\uc740 \ubc29\uc2dd\uc73c\ub85c \uc0ac\uc6a9\ud55c\ub2e4. (\ubb3c\ub860 \uc704\ucabd \ucf54\ub4dc\ub294 \ud2c0\ub9b0 \ucf54\ub4dc\uc774\ub2e4.)\\n\\n`ValuesArray`\ub97c \uc120\uc5b8\ud558\uace0 \ud0c0\uc785 \ucd94\ub860\uc744 \uc704\ud574 `I18nText`\ub85c i18n text\ub97c \ub118\uaca8\uc900\ub2e4\uace0 \uc0dd\uac01\ud55c\ub2e4.\\n\uadf8\ub9ac\uace4, I18nText\uc5d0 `{}` \ud615\uc2dd\uc758 literal type\uc774 \uc874\uc7ac\ud55c\ub2e4\uba74, \ubc30\uc5f4\uc744 \ud558\ub098 \ub9cc\ub4e4\uace0 \ub2e4\uc2dc `ValuesArray`\ub97c \uc218\ud589\ud558\ub294 \uac83\uc774\ub2e4.\\n\\n\ubb3c\ub860, \uc9c0\uae08 \uc774 \ucf54\ub4dc\ub294 \uc815\uc0c1\ub3d9\uc791\ud558\uc9c0 \uc54a\uc744 \uac83\uc774\ub2e4. <br/>\\nRecursive\uc758 input, \uc989 I18nText\ub85c \ub2e4\uc2dc \uc628\uc804\ud55c I18nText\ub97c \ub123\uace0 \uc788\uae30 \ub54c\ubb38\uc774\ub2e4. <br/>\\n\uc6b0\ub9ac\ub294 `{}`\uac00 \ud3ec\ud568\ub41c string \uc911 \ub0a8\uc740 \uc624\ub978\ucabd string\uc744 \ucd94\ucd9c\ud574\uc11c recursive\uc758 input\uc73c\ub85c \ub123\uc5b4\uc57c\ud55c\ub2e4.\\n\uc774\ub97c \uc608\uc2dc\ub85c \uc124\uba85\ud558\uc790\uba74\\n1. `Hello {0} World {1} Thank {2} you`\\n2. `World {1} Thank {2} you`\\n3. `Thank {2} you`\\n\\n`ValuesArray`\uc5d0 1\ubc88 text\ub97c \uc0ac\uc6a9\ud560\ub54c, \ub9ac\ud134 \uac12\uc740 `[any, ...ValuesArray<?>]`\uac00 \ub420 \uac83\uc774\ub2e4. \uadf8\ub7ec\uace0 \ub2e4\uc74c ValuesArray\uc758 ? \uc5d0\ub294 2\ubc88 text\uac00 \ud3ec\ud568\ub418\uc5b4\uc57c\ud55c\ub2e4.\\n\ub2e4\uc74c `ValuesArray`\ub294 2\ubc88 text\ub97c \uc0ac\uc6a9\ud558\uace0 \ub9ac\ud134 \uac12\uc73c\ub85c `[any, any, ...ValuesArray<?>]`\ub97c \uc0ac\uc6a9\ud560 \uac83\uc774\ub2e4.\\n\ub9c8\uc9c0\ub9c9\uc73c\ub85c, `ValuesArray`\ub294 3\ubc88 text\ub97c input\uc73c\ub85c \uc0ac\uc6a9\ud574\uc57c\ud558\uace0 \ub9ac\ud134 \uac12\uc73c\ub85c\ub294 [any, any, any]\uac00 \ub418\uc5b4\uc5b4\uc57c\ud55c\ub2e4.\\n\\n\uc704\uc640 \uac19\uc740 \ub85c\uc9c1\uc744 \uc704\ud574\uc11c\ub294 [infer](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#inferring-within-conditional-types)\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\\n\\n#### [Inferring Within Conditional Types](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#inferring-within-conditional-types)\\n`Infer`\ub97c \uc0ac\uc6a9\ud558\uba74 conditional type\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 Generic\uc744 \uac00\uc838\ub2e4 \ub9ac\ud134 \ud0c0\uc785\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.\\n\uc989, \ub2e4\uc74c\uacfc \uac19\uc774 \ub41c\ub2e4.\\n```tsx\\ntype ValuesFormat<Suffix extends string> =\\n  `${string}{${string}}${Suffix}`;\\ntype ValuesArray<I18nText extends string> =\\n  I18nText extends ValuesFormat<infer Rest>\\n  ? [any, ...ValuesArray<Rest>] : [];\\n```\\n`ValuesFormat`\uc740 \ub2e8\uc21c `{}`\ub97c \ud3ec\ud568\ud558\ub294 \ubb38\uc790\uc5f4\uc774 \uc544\ub2cc `Suffix`\ub77c\ub294 Generic\uc744 `}` \ub4a4\uc5d0 \ud3ec\ud568\ud558\ub294 \ud0c0\uc785\uc774\ub2e4. \uc774\ub294 \ub2e8\ub3c5\uc73c\ub85c \uc4f0\uc774\uba74 \uc758\ubbf8\uac00 \uc5c6\uc9c0\ub9cc, \uc544\ub798\uc758 `ValuesArray`\uc5d0\uc11c infer\uc640 \uc4f0\uc774\uba74 \uc758\ubbf8\uac00 \ub2ec\ub77c\uc9c4\ub2e4.\\n\uc774\uc804 \uc608\uc81c\uc640 \uac19\uc774 `ValuesArray`\ub294 `{}`\uac00 \uc788\ub294\uc9c0 \ud655\uc778\uc744 \ud558\uace0 \ubc30\uc5f4\uc744 \ucc44\uc6b4\ub2e4. \uadf8\ub7ec\uace0\ub294 `infer Rest`\ub97c \uc0ac\uc6a9\ud558\ub294\ub370 `Rest`\ub294 \ubc14\ub85c `ValuesFormat`\uc758 \uccab\ubc88\uc9f8 Generic\uc778 Suffix\ub97c \uc758\ubbf8\ud558\uac8c \ub418\uace0 Rest\ub97c \ub2e4\uc74c recursive\uc5d0 \uc0ac\uc6a9\ud558\uba74 \uc6b0\ub9ac\uac00 \uc6d0\ud558\ub294 \ubc14\uac00 \uc644\uc131\ub41c\ub2e4.\\n```tsx\\ntype Example = \'Hello {0} World {1} Thank {2} you\';\\n\\ntype ValuesFormat<Suffix extends string> =\\n  `${string}{${string}}${Suffix}`;\\ntype ValuesArray<I18nText extends string> =\\n  I18nText extends ValuesFormat<infer Rest>\\n  ? [any, ...ValuesArray<Rest>] : [];\\n\\ntype Result = ValuesArray<Example> // [any, any, any];\\n```\\n[playground](https://www.typescriptlang.org/play?#code/C4TwDgpgBAogHgQwLZgDbQLxQOQAkKqoD2UA3gAwC+UA6kQE6oAmZAjNQCoAWCAdgNZkATNRBEArtgDcAKBmhIUAGoJU4iAGcAYgyQJgAHgDK4gGamAlnCgQ4wCLyYaoG4PQu8A5gD4oWAAYAJKSu7l6UpMGhHp6UlMEm5laU-rIK0CpqmgCC9PQIIAYAkqwAHLwctsA2dg5OLm4xvlgl5ZV2NfaOzpnq2rr6Bh6mEPRQAEqawL4A-FAA2nwgADRQAHQbvTl5BQaTrt4AulAAXAuHsvLg0PviqNVYWxq5+YXwyGgQvgD03wtLqwBUCWFxkQA)\\n\\n\uc790, \uc774\uc81c \ucc98\uc74c \uc608\uc81c\uc5d0 `ValuesArray`\ub97c \uc801\uc6a9\uc2dc\ucf1c\ubcf4\uc790.\\n```tsx showLineNumbers\\nimport React, { ReactElement } from \'react\';\\n\\nconst i18nJson = {\\n  \\"normal\\": \\"Hello World\\",\\n  \\"oneValue\\": \\"This product is {0}.\\",\\n  \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\",\\n} as const;\\n\\ntype I18nJson = typeof i18nJson;\\ntype I18nKey = keyof I18nJson;\\n\\ntype ValuesType = string | number | ReactElement;\\ntype ValuesFormat<Suffix extends string> =\\n  `${string}{${string} }${Suffix}`;\\ntype ValuesArray<I18nText extends string> =\\n  I18nText extends ValuesFormat<infer Rest>\\n  ? [ValuesType, ...ValuesArray<Rest>] : [];\\n\\n// highlight-start\\ntype TFunction = <\\n  Key extends I18nKey,\\n  Params extends ValuesArray<I18nJson[Key]>,\\n>(key: Key, values?: Params) => string\\n// highlight-end\\n\\nconst tFunction: TFunction = (key: I18nKey, values: any) => i18nJson[key] as any; \\n\\nconst oneValue = tFunction(\'oneValue\'); // Error?\\nconst twoValue = tFunction(\'twoValue\', [100]); // Type Error!\\n// highlight-start\\n// Argument of type \'[number]\' is not assignable\\n// to parameter of type \'[ValuesType, ValuesType]\'.\\n// highlight-end\\nconst normal = tFunction(\'normal\', [100]); // Type Error!\\n// highlight-start\\n// Type \'number\' is not assignable to type \'undefined\'.\\n// highlight-end\\n```\\n[playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDGMA0cDejUYCiANkiEgHbwC+cAZlBCHAORQEwsDcAUD2hAoBneMACMADgoApIYLgBeXDzhwARBWggUxNQC51ACSTFiEOAHVoxACZrMK9YKQA1HQFck+9QBUAFsBCcGCMNu4YcIG4AAzUAHT2jmowAO4QbsSe3mr+USEQYRFROLFwKBQ2kfApwKZwAEZIcDYmwABuSOyVKHQwnbhitDYoAJ5CibQoQQLCMLw8MCNgTQCSkjJyFIpwi8sQdJHrsoK8u6vrANJII9sA1tf7cGtSxxTzZ3AZnkI+S01KIigwAoAHM4AAfOAUdwgRpQCH4dAwEhkShzBZ-T4eJBCABiWhQMAAPABldx0OjAAAecCQVL6FSCgOBIIAfNsAAYAEhwzNB1BwPL5IOo1B5ZIp1OoHNOmK+OIAglAoKMic8KD46fAtZQbEyYEDQeylOrNfTafTdUF5XiCcTgXR+sgROyAPxwADaNt+y2wcX9NqVKpGROdMFZAF04AYPRH5hjlnAfLj3BQMMB5EoiVcbjrGU9LtdsAAFFAqkBBPN6rGZRXK1Xq14enMR1msgAU9xGBhz2Da2KEroMpfLQgAlIp2cK+DMRDsU2mYBmKAZk6n05m4J3rgZ1b24P3a0IDOURhOFOzxC9Nh6u1GpmUKCMuHAZ4I5855dsYAuNxR2ywn7YiwY4vgA9GBcCEMq0Cuvw77wKk6TYt+v5LoIAFIfKLDYB6YjRNEEagXAEFJpi0GMFAACEr6kUqIIwmicCPB8LAetCsKdBGLCREEmjwFMQjACCFAoPUpA7OYYBlig5B9PCLGYmx3p-NgKnLNxcTwbMUIEsQqHruh-4sJoUDaMQOGevhhHEaRPpNBR0BUTwdlKRxcI8VE-FlEIQkiWJEkwOYrGpi0lIUEgNgsHEQA)\\n\\nL19\uc758 `TFunction`\uc5d0\uc11c `Parmas`\uc5d0 `ValuesArray`\ub97c \uc801\uc6a9\uc2dc\ucf30\ub2e4. `ValuesArray`\uc758 Generic\uc73c\ub85c\ub294 `I18nJson[Key]`\ub97c \ub123\uc5b4\uc11c Key\ub97c \ud0c0\uc785\ucd94\ub860\uc744 \ud1b5\ud574 \ub3d9\uc801\uc73c\ub85c \ubc1b\uc544 i18n text\uac00 Generic\uc73c\ub85c \ub4e4\uc5b4\uac08 \uc218 \uc788\ub3c4\ub85d \ud55c\ub2e4.\\n\uadf8\ub807\ub2e4\uba74, Params\ub294 \uac01\uac01 length\uac00 \uace0\uc815\ub41c `ValuesType` \ubc30\uc5f4\ub85c \ucd94\ub860\ub420 \uac83\uc774\ub2e4.\\n\\n\ub530\ub77c\uc11c, L28\uc640 L31\uc758 \ud0c0\uc785 \uccb4\ud06c\uc5d0\uc11c \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uac8c \ub418\uace0 \uc5d0\ub7ec\uc758 \uc6d0\uc778\uc740 \uc801\uc808\ud55c Array length\ub97c \ub9de\ucd94\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc774\ub2e4.\\n\ud558\uc9c0\ub9cc L26\uc5d0\uc11c\ub294 \ubcc0\uc218\ub97c \ub123\uc9c0 \uc54a\uc558\ub2e4\uace0 \uc5d0\ub7ec\ub97c \ubc1c\uc0dd\uc2dc\ud0a4\uc9c0 \uc54a\ub294\ub370, \uc774\ub294 `TFunction`\uc758 values\uc5d0 \ubd99\uc740 `?` \ud0a4\uc6cc\ub4dc\ub85c \uc778\ud558\uc5ec \ubc1c\uc0dd\ud55c\ub2e4.\\n\\n\uc870\uae08\ub9cc \ub354 \uc644\uc131\ub3c4\ub97c \ub192\uc5ec\ubcf4\uc790.\\n\\n#### [Rest Parameters](https://www.typescriptlang.org/docs/handbook/2/functions.html#rest-parameters-and-arguments) \\n\\n\ud568\uc218\uc5d0\uc11c arguments\uc758 \uac1c\uc218\ub97c \ub3d9\uc801\uc73c\ub85c \uc124\uc815\ud558\uae30 \uc704\ud574\uc11c \uc0ac\uc6a9\ud558\ub294\uac74 `Rest Parameters`\uc774\ub2e4. \\n```tsx showLineNumbers\\n// highlight-start\\ntype TFunction = <\\n  Key extends I18nKey,\\n  Params extends ValuesArray<I18nJson[Key]>\\n>(key: Key, values?: Params) => string\\n// highlight-end\\n\\nconst oneValue = tFunction(\'oneValue\'); // Error?\\nconst twoValue = tFunction(\'twoValue\', [100]); // Type Error!\\n```\\n\ub530\ub77c\uc11c, \uc704\uc640 \uac19\uc740 \uc608\uc81c\uc5d0\uc11c `oneValue`\uc5d0\uc11c \uc0ac\uc6a9\ud55c `tFunction`\uc740 `?`\ub85c \uc5c6\uc5b4\ub3c4 \ub41c\ub2e4\ub294 \ud45c\uc2dc\uac00 \uc544\ub2c8\ub77c \uacbd\uc6b0\uc5d0 \ub530\ub77c values \uac1c\uc218\uac00 \ub2ec\ub77c\uc9c0\ub294 `...`(Rest Parameters)\ub97c \uc0ac\uc6a9\ud558\uba74\ub41c\ub2e4.\\n\\n```tsx showLineNumbers\\n// highlight-start\\ntype TFunction = <\\n  Key extends I18nKey,\\n  Params extends ValuesArrayResult<I18nJson[Key]>\\n>(\\n  key: Key,\\n  ...values: Params extends [] ? [undefined?] : [Params]\\n) => string\\n// highlight-end\\n\\nconst tFunction: TFunction = (key: I18nKey, ...values: any) => i18nJson[key] as any;\\n\\nconst oneValue = tFunction(\'oneValue\'); // Type Error!\\n```\\n[playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDGMA0cDejUYCiANkiEgHbwC+cAZlBCHAORQEwsDcAUD2hAoBneMACMADgoApIYLgBeXDzhwARBWggUxNQC51ACSTFiEOAHVoxACZrMK9YKQA1HQFck+9QBUAFsBCcGCMNu4YcIG4AAzUAHT2jmowAO4QbsSe3mr+USEQYRFROLFwKBQ2kfApwKZwAEZIcDYmwABuSOyVKHQwnbhitDYoAJ5CibQoQQLCMLw8MCNgTQCSkjJyFIpwi8sQdJHrsoK8u6vrANJII9sA1tf7cGtSxxTzZ3AZnkI+S01KIigwAoAHM4AAfOAUdwgRpQCH4dAwEhkShzBZ-T4eJBCABiWhQMAAPABldx0OjAAAecCQVL6FSCgOBIIAfNsAAYAEhwzNB1BwPL5IOo1B5ZIp1OoHNOmK+OIAglAoKMic8KD46fAtZQbEyYEDQeylOrNfTafTdUF5XiCcTgXR+sgROyAPxwADaNt+y2wcX9NqVKpGROdMFZAF04AYPRHZcssZlFcrRs73MRiaatRaGXq4MLjYnvkHVVn6eydYzPVH3e4KkhKRQkJUDIGUyGy+G+B8fLi6xhgPIlESrjdK3n1aPsAAFFAqkBBcfW7FCEsjNMZtVHTYe0cR1msgAU9xGBincH9cTaK4Ms-ni8tVdjcHdHrrLUbzddUZjd5QC4jABKRR2WFPgZhEHY+woAdBAMXt+xgQctiUY9rgMSdrj9f1ryTIQDHKEZgIUdlxBeHcTyjKYygoEYuDgcDBEg5x5W2GBoNgihDxYFjsRYQD6IAekEuBCGVaBXX4Jj4FSdJsTYjikMEbjZPlFhsA9MRomibAtJ0uA9KAoSRJ9JoxMYKAAEIGOEuAlRBGE0TgR4PhYD1oVhToIxYSIgk0eApiEYAQQoFB6lIHZzDAOd-yQPp4RczE3O9P5sBS5ZvLiKTZihAliAUxDkO4zQoG0Yh+OMuBTNE8SrJ4WzqpYDy4R8qJ-LKIQgpCsKIpgcxXPfBtgWbFg4iAA)\\n\\nL1\uc5d0\uc11c `values`\ub97c `...values`\ub85c \ubcc0\uacbd\ud558\uc5ec `Params`\uac00 \ube48 \ubc30\uc5f4\uc774\ub77c\uba74 `[undefined?]`\ub97c, \ube48 \ubc30\uc5f4\uc774 \uc544\ub2c8\ub77c\uba74 `[Params]`\ub85c \ud0c0\uc785 \uc124\uc815\uc744 \ud55c\ub2e4.\\n\uadf8\ub807\ub2e4\uba74 values\uac00 \ud544\uc694 \uc5c6\ub2e4\uba74 optional\ub85c \uc124\uc815\ub418\uace0, values\uac00 \ud544\uc694\ud558\ub2e4\uba74 \uac2f\uc218 \uae38\uc774\uc758 array\ub97c \ubc1b\ub294 \ubc29\ubc95\uc774\ub2e4.\\n\\n\uc5ec\uae30\uc11c Array\uc758 item\uc5d0 ?\uac00 \ub4e4\uc5b4\uac00\uc788\ub294 \uac83\uc740 [Optional elements](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#optional-elements-in-tuple-types)\uc5d0 \ub300\ud55c \ub0b4\uc6a9\uc73c\ub85c, \uac01 element\uac00 optional\ub85c \uc124\uc815\ub420 \uc218 \uc788\ub294 \ubb38\ubc95\uc774\ub2e4.\\n\\n## \uacb0\uacfc\\n\uc6b0\ub9ac\ub294 \uc774\uc804\uae4c\uc9c0\uc758 \uae00\uc5d0\uc11c \ub2e4\uc74c\uacfc \uac19\uc740 \ud0c0\uc785 \uc815\uc758\ub4e4\uc744 \uad6c\ud604\ud574\ub0b4\uc5c8\ub2e4.\\n- \uc904\ubc14\uafc8 \ud0a4\uc6cc\ub4dc\uc758 \uc720\ubb34\uc5d0 \ub530\ub77c\uc11c Return Type\uc744 \ub2e4\ub974\uac8c \uc815\uc758\ud558\uae30.\\n- i18n \ubcc0\uc218 parameter\ub85c \ub4e4\uc5b4\uc624\ub294 runtime \uac12\uc758 \ud0c0\uc785\uc5d0 \ub530\ub77c Return Type\uc744 \ub2e4\ub974\uac8c \uc815\uc758\ud558\uae30.\\n- i18n \ubcc0\uc218 \ud0a4\uc6cc\ub4dc\uc758 \uac1c\uc218\uc5d0 \ub530\ub77c TFunction\ub85c \ub4e4\uc5b4\uc624\ub294 i18n \ubcc0\uc218 \uac2f\uc218 \ud0c0\uc785 \uc815\uc758\ud558\uae30.\\n\\n\uc704 3\uac00\uc9c0 \uc815\uc758\ub4e4\uc744 \ud569\uce58\uac8c \ub418\uc5c8\uc744\ub54c \uc6b0\ub9ac\ub294 \ucc98\uc74c \uc815\uc758\ud588\ub358 [i18n Rule](#i18n-rule)\uc5d0 \ub300\ud574\uc11c \ud0c0\uc785 \ub2e8\uacc4\uc5d0\uc11c \uccb4\ud06c\uac00 \uac00\ub2a5\ud558\uac8c \ub41c\ub2e4.\\n\\n\\nimport Tabs from \'@theme/Tabs\';\\nimport TabItem from \'@theme/TabItem\';\\n\\n<Tabs defaultValue=\'lineBreak\'>\\n  <TabItem value=\'draft\' label=\'Draft\'>\\n\\n  ```tsx showLineNumbers\\n  import React from \'react\';\\n\\n  const i18nJson = {\\n    \\"simple\\": \\"Hello World\\",\\n    \\"lineBreak\\": \\"Hello. \\\\n I am FE developer\\",\\n    \\"oneValue\\": \\"This product is {0}.\\",\\n    \\"unit\\": \\"${0}\\",\\n    \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\",\\n    \\"link\\": \\"click\\",\\n    \\"linkText\\": \\"{0} to show more information\\",\\n  } as const;\\n\\n  type I18nJson = typeof i18nJson;\\n  type I18nKey = keyof I18nJson;\\n\\n  type TFunction = (key: I18nKey, values?: any) => string\\n\\n  const tFunction: TFunction = (key: I18nKey, values: any) => i18nJson[key];\\n\\n  const simple = tFunction(\'simple\'); // string\\n  const lineBreak = tFunction(\'lineBreak\'); // string\\n  const oneValue = tFunction(\'oneValue\', [tFunction(\'unit\', 500)]); // string\\n  const twoValue = tFunction(\'twoValue\', [tFunction(\'unit\', [500]), 3]); // string\\n  const linkText = tFunction(\'linkText\', [<a href=\\"/about\\">{tFunction(\'link\')}</a>]) // string\\n  ```\\n  <a href=\\"https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDG8BmUIjgcilQ3wG4AoctCAOwGd5gBGADhoCk7a4BeOAb3Jw4AIjqgwAGyQiAXKIASSSZIhwA6tEkATEQBohoycBpIAQkRQBrOYuWqAdHAA6NOAEk4KPADEAonDaSABuyhBgSFD6hiK0SABqKJIArjLyIgAqABbAdHBgONrJGHC5AgAMAL4O0cIiyTTAMLYiACT8VbWiMADuEIkpaaLZZQUQRSVlHZVeNNql8D3AKnAARkiBysChRPMomDCRAkwz2igAnnRdIsY0Nuloxmg2BnW3VhlIAB7N6dNwMDUdCyEB6cBA0A2Jkw0BAKBgwFoInIMxQeWo9BgFHIMHOEQ8rA4XDcfFxEQgmFKhM4tAoZI27kJAGkkOdeHArKyKQS2DSaNj6XAMj4GhhESS4AAKTnneSMtgs856ODBJKpOgAfnkKBo5wAlLwAHxwBhQEwAc0oGIYAJFNDFtHkwtFCO4fGlrLlzNZytVgzo2t1Bp4xuYvOJAG0ZQBdUhwK20G3icDSdkwO0OmiS-DJqRIfB6uMAeiLJpgZpolut8Fu5ksVjTGddWfwtYsqCsBeLpdNFqoifgcQGqUbLvF2aHavzyoj6bHtGzDSa+GVAFZyuU9dHC3AS2WK1WBwC+sONqSm+P8L1+lOV3BZxeF-glzA7xH1+Vt8qAMzb7v7vtqzgd5Ph+Ud7WbbMQO+V8ZwAHhQOAsiITAeBEIsUFWCBkmaQ1+DnCDL3eAtKjgjDDW3Xce3LC0gA\\">Playground</a>\\n\\n  </TabItem>\\n  <TabItem value=\'lineBreak\' label=\'Line Break\'>\\n\\n  ```tsx showLineNumbers\\n  import React, { ReactElement } from \'react\';\\n\\n  const i18nJson = {\\n    \\"simple\\": \\"Hello World\\",\\n    \\"lineBreak\\": \\"Hello. \\\\n I am FE developer\\",\\n    \\"oneValue\\": \\"This product is {0}.\\",\\n    \\"unit\\": \\"${0}\\",\\n    \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\",\\n    \\"link\\": \\"click\\",\\n    \\"linkText\\": \\"{0} to show more information\\"\\n  } as const;\\n\\n  type I18nJson = typeof i18nJson;\\n  type I18nKey = keyof I18nJson;\\n\\n  // highlight-start\\n  type LineBreakFormat = `${string}\\\\n${string}`;\\n\\n  type TFunction = <Key extends I18nKey,>(\\n    key: Key,\\n    values?: any,\\n  ) => I18nJson[Key] extends LineBreakFormat\\n    ? ReactElement : string;\\n  // highlight-end\\n\\n  // highlight-start\\n  const tFunction: TFunction = (key: I18nKey, values: any) => i18nJson[key] as any;\\n  // highlight-end\\n\\n  const simple = tFunction(\'simple\'); // string\\n  // highlight-start\\n  const lineBreak = tFunction(\'lineBreak\'); // ReactElement\\n  // highlight-end\\n  const oneValue = tFunction(\'oneValue\', [tFunction(\'unit\', 500)]); // string\\n  const twoValue = tFunction(\'twoValue\', [tFunction(\'unit\', [500]), 3]); // string\\n  const linkText = tFunction(\'linkText\', [<a href=\\"/about\\">{tFunction(\'link\')}</a>]) // string\\n  ```\\n  <a href=\\"https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDGMA0cDejUYCiANkiEgHbwC+cAZlBCHAORQEwsDcAUD2hAoBneMACMADgoApIYLgBeXDzhwARENBhSagFzqAEkmLEIcAOrRiAEzWYV64sApIAQuxQBrPYeOmAdHAAOhRwAJJwKMwAYoRw1kgAbsYQYEhQdg5qgkgAaijEAK5IPmoAKgAWwEJwYIzWhRhw1bgADNT+mapqhRTAMKUAJDjtXeowAO4Q+UUl+uVVNXUQDU0tI7QoFNbN8BPAJnAARkjxxsDJ7DsodDDpuGK01igAnkJjak4U3vNoTmjeezdL6eMpIAAeA3mGzgMDMQgqEAmcBA0FOzjo0BAKBgwEEah4mxqAmEMF4PBgLzS4UkMjkoSUlLSEDozVpskEvCZpzCtIA0kgXoo4J5BSyaVIORRydy4AAZZxuDyeaJYnHCgAGwxEUGcAHNqCFtTBdRQDRqZVTTmVor0MHiGXAADwCoUQu7bGq8qSuzAAPgAFKKXvpfXBEgVikIAPz6LYvACUij9ErpggA2q6ALpwd2Uaw1BUudyoFVq+DR-DoGAkMiUeD6HX6vgkkSw20Ue2CfQ2u24+RKIOC-TeihhiOzIRxiiJ5NsyX09PBnMoGrxrhwFuCNuacCkYUwDtdigBli77RIFgJjcAehvcCbZv42-gXyVpYPR-7J5Yb5LXivW972Qata3IKhn1JOAchmYpPz7B1TxgyNL2wdNDwQwRT16foWGwABWVpWgTLNrzgO8HxNZtW3gSZphQ+DO2-U86Ng1C4HQr9EJYHDODQwjWlI7AAGZSKAyjTT1SC2xBMFIUY49T1k908I4p0UDgCp2DoBQ1BvFAjggQoBj9HAMKY7iQSvagnX0v1SPI+9Hz1IA\\">Playground</a>\\n\\n  </TabItem>\\n  <TabItem value=\'valueTypeCheck\' label=\'+ Values Type Check\'>\\n\\n  ```tsx showLineNumbers\\n  import React, { ReactElement } from \'react\';\\n\\n  const i18nJson = {\\n    \\"simple\\": \\"Hello World\\",\\n    \\"lineBreak\\": \\"Hello. \\\\n I am FE developer\\",\\n    \\"oneValue\\": \\"This product is {0}.\\",\\n    \\"unit\\": \\"${0}\\",\\n    \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\",\\n    \\"link\\": \\"click\\",\\n    \\"linkText\\": \\"{0} to show more information\\"\\n  } as const;\\n\\n  type I18nJson = typeof i18nJson;\\n  type I18nKey = keyof I18nJson;\\n\\n  type LineBreakFormat = `${string}\\\\n${string}`;\\n\\n  // highlight-start\\n  type TFunction = <Key extends I18nKey, Params extends any[]>(\\n  // highlight-end\\n    key: Key,\\n    values?: Params,\\n  ) => I18nJson[Key] extends LineBreakFormat\\n    ? ReactElement\\n    // highlight-start\\n    : Params extends (string | number)[]\\n    ? string\\n    : ReactElement;\\n    // highlight-end\\n\\n  const tFunction: TFunction = (key: I18nKey, values: any) => i18nJson[key] as any;\\n\\n  const simple = tFunction(\'simple\'); // string\\n  const lineBreak = tFunction(\'lineBreak\'); // ReactElement\\n  const oneValue = tFunction(\'oneValue\', [tFunction(\'unit\', [500])]); // string\\n  const twoValue = tFunction(\'twoValue\', [tFunction(\'unit\', [500]), 3]); // string\\n  // highlight-start\\n  const linkText = tFunction(\\n    \'linkText\',\\n    [<a href=\\"/about\\">{tFunction(\'link\')}</a>],\\n  ) // ReactElement\\n  // highlight-end\\n  ```\\n  <a href=\\"https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDGMA0cDejUYCiANkiEgHbwC+cAZlBCHAORQEwsDcAUD2hAoBneMACMADgoApIYLgBeXDzhwARENBhSagFzqAEkmLEIcAOrRiAEzWYV64sApIAQuxQBrPYeOmAdHAAOhRwAJJwKMwAYoRw1kgAbsYQYEhQdg5qgkgAaijEAK5IPmoAKgAWwEJwYIzWhRhw1bgADNT+mapqhRTAMKUAJDjtXeowAO4Q+UUl+uVVNXUQDU0tI7QoFNbN8BPAJnAARkjxxsDJ7DsodDDpuGK01igAnkJjak4U3vNoTmjeezdL6eMpIAAeA3mGzgMDMQgqEAmcBA0FOzjo0BAKBgwEEah4mxqAmEMF4PBgLzS4UkMjkoSUlLSEDozVpskEvCZpzCtIA0kgXoo4J5BSyaVIORRydy4AAZZxuDyeaJYnHCgAGwxEUGcAHNqCFtTBdRQDRqZVTTmVor0MHiGXAADwCoUQu7bGq8qSu7AABRQUCiNXdlGsNS2LwA2gBdAB8AAoHKKXvpfQ5EgVikIAPz6ANBkBCewASkUcYldMEUddMbgoc98sV7lQKrVMAcOfw6BgJDIlA7qnzgeD9chYZqCZ1+rgAB84BRCiATlAS7HO3Bp2aHPpkD2++QqOSSSJYbaKPbBPobXbcfIlAmU-pvRRfXBM7MhPpI2WFBXxJK9JRimdYoBGFAvFwcB8Ce8CaOApDCjA56XhQCYsPB2hICwJZQQA9Hhm4mvq-CCKeXxKq2SEoXeaEsBRLZeDh+GEXuRCkIeHawXAOQzMU1G3g66G8Vm2HYFGyGCYI6G9P0LDiQArK0rQxiWqksURpp6qRpKwlMfGnIyNFCSwkzTKJ8lwBJxnSSwsmcIpymqdgADM6lwARmkkdxIJgpCAkXrR6G+e6llRk6KBwBU7B0Aoah4SgRwQIUAxxjgkmBSZII4dQToJXGqkeaxHAHgOQA\\">Playground</a>\\n\\n  </TabItem>\\n  <TabItem value=\'valueNumberCheck\' label=\'+ Value Number Check\'>\\n\\n  ```tsx showLineNumbers\\n  import React, { ReactElement } from \'react\';\\n\\n  const i18nJson = {\\n    \\"simple\\": \\"Hello World\\",\\n    \\"lineBreak\\": \\"Hello. \\\\n I am FE developer\\",\\n    \\"oneValue\\": \\"This product is {0}.\\",\\n    \\"unit\\": \\"${0}\\",\\n    \\"twoValue\\": \\"This product is {0} and it will be delivered after {1} days\\",\\n    \\"link\\": \\"click\\",\\n    \\"linkText\\": \\"{0} to show more information\\"\\n  } as const;\\n\\n  type I18nJson = typeof i18nJson;\\n  type I18nKey = keyof I18nJson;\\n\\n  type LineBreakFormat = `${string}\\\\n${string}`;\\n\\n  // highlight-start\\n  type ValuesType = string | number | ReactElement;\\n  type ValuesFormat<Suffix extends string,> = `${string}{${string}}${Suffix}`;\\n  type ValuesArray<I18nText extends string,> = I18nText extends ValuesFormat<infer Rest,> ? [ValuesType, ...ValuesArray<Rest,>] : [];\\n  // highlight-end\\n\\n  // highlight-start\\n  type TFunction = <\\n    Key extends I18nKey,\\n    Params extends ValuesArray<I18nJson[Key]>,\\n  >(\\n  // highlight-end\\n    key: Key,\\n  // highlight-start\\n    ...values: Params extends [] ? [undefined?] : [Params]\\n  // highlight-end\\n  ) => I18nJson[Key] extends LineBreakFormat\\n    ? ReactElement\\n    : Params extends (string | number)[]\\n    ? string\\n    : ReactElement;\\n\\n  // highlight-start\\n  const tFunction: TFunction = (key, ...values) => i18nJson[key] as any;\\n  // highlight-end\\n\\n  const simple = tFunction(\'simple\'); // string\\n  const lineBreak = tFunction(\'lineBreak\'); // ReactElement\\n  const oneValue = tFunction(\'oneValue\', [tFunction(\'unit\', [500])]); // string\\n  const twoValue = tFunction(\'twoValue\', [tFunction(\'unit\', [500]), 3]); // string\\n  const linkText = tFunction(\'linkText\', [<a href=\\"/about\\">{tFunction(\'link\')}</a>]) // ReactElement\\n  ```\\n  <a href=\\"https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDGMA0cDejUYCiANkiEgHbwC+cAZlBCHAORQEwsDcAUD2hAoBneMACMADgoApIYLgBeXDzhwARENBhSagFzqAEkmLEIcAOrRiAEzWYV64sApIAQuxQBrPYeOmAdHAAOhRwAJJwKMwAYoRw1kgAbsYQYEhQdg5qgkgAaijEAK5IPmoAKgAWwEJwYIzWhRhw1bgADNT+mapqhRTAMKUAJDjtXeowAO4Q+UUl+uVVNXUQDU0tI7QoFNbN8BPAJnAARkjxxsDJ7DsodDDpuGK01igAnkJjak4U3vNoTmjeezdL6eMpIAAeA3mGzgMDMQgqEAmcBA0FOzjo0BAKBgwEEah4mxqAmEMF4PBgLzS4UkMjkoSUlLSEDozVpskEvCZpzCtIA0kgXoo4J5BSyaVIORRydy4AAZZxuDyeaJYnHCgAGwxEUGcAHNqCFtTBdRQDRqZVTTjNikIylbhTr9XAAD5wCiFEAnKCu-DoGAkMiUMkUh02pBCVVQbEwAA8AGVCnQ6MBwXAIXdtjUnWaAHya42mg04Qv66jUYaJ5Op6gW0PU8NCACCUCgr1jvKkYMh6chlGs2ZN+vzSk7FG78Az-ZqjajMdjGPuyBE+YA-HAANqN+1pbD+feNlttl6x5cwXMAXTg+g3F8t1LK0V6GDxDLgsYFQqnWYlFE-2AABRQNsQBqb8BzgQ9W3bMcpQ3T8L1zXMAAoHFFF59H-Bx938RICltfQgJAsC+x-W84HXDdegSFMXGsVcrxvIioiEC8eAASkUfNYPpeDBSvcCagVFx3FQFU1RgBx12Qf1A3IKgHEI4CWN7TMIOQnM9V9D0vXSdjbykuBNMUv0iFIeSQ34QQRFhJ8KBfQR9EfZ9cXkJRkPQvd9zw2YhE4hR83ESVePQq8UBqLYXi4OA+BJGzNHAUhhRgOyHIoZCWAS7QkBYdjooAenyoyhzNKzSTgL4lTE5LUtc9KWEq0SvFygqipksygwUuL4BycMapc18Mt6-CcuwDcUoGwQMt6foWDGgBWVpWgvdiVta4qizKmzJmmEb+vsuqMp28M5s3CaDsGlgZs4BalpW7AAGY1rgQqNv1Lb4BBCd9rSjKvozU6N1jFA4Aqdg6AUNR8pQI4IEKAZcxwc7foa5xPFy6hY2hy9ONe9qA3M4MgA\\">Playground</a>\\n\\n  </TabItem>\\n</Tabs>\\n\\n\uc704\uc758 \uc644\uc131\ub41c \ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uc790. Draft\ub294 \ucd5c\ucd08 \uc608\uc2dc\ub85c \uac00\uc838\uc654\ub358 [\ucf54\ub4dc](#type-\uc815\uc758)\ub97c \uc62e\uaca8\ub193\uc740 \uac83\uc774\ub2e4. \uc5ec\uae30\uc11c\ub294 \ubaa8\ub4e0 `TFunction`\uc774 string\ud0c0\uc785\uc73c\ub85c \ub9ac\ud134\ub41c\ub2e4.\\n\\n>`Line Break`\\n\\n`Line Break` \ubc84\uc804\uc5d0\uc11c\ub294 `LineBreakFormat`\uc758 \ube44\uad50\ubb38\uc744 \ub123\uc74c\uc73c\ub85c\uc368 `lineBreak`\uc758 \ud0c0\uc785\uc774 ReactElement\ub85c \ucd94\ub860\ub41c\ub2e4.\\n\\n>`Values Type Check`\\n\\n`Values Type Check`\uc5d0\uc11c\ub294 `Params`\ub97c \ucd94\ub860\ud558\uace0 `string | number` \ubc30\uc5f4\uc744 \ube44\uad50\ud558\uba74\uc11c `linkText`\uac00 ReactElement\ub85c \ucd94\ub860\ub418\uac8c \ucf54\ub4dc\ub97c \ucd94\uac00\ud588\ub2e4.\\n\\n> `Value Number Check`\\n\\n\ub9c8\uc9c0\ub9c9 `Value Number Check`\uc5d0\uc11c\ub294 `Params`\uc5d0 \ub300\ud55c \ud0c0\uc785\uc744 \uad6c\uccb4\ud654\ud558\uace0 `values`\ub97c Rest Parameter\ub85c \uc801\uc6a9\ud568\uc73c\ub85c\uc368 \ub9ac\ud134 \ud0c0\uc785\uc740 \ubc14\uafb8\uc9c0 \uc54a\uc558\uc9c0\ub9cc,\\n`tFunction`\uc758 2\ubc88\uc9f8 \uc778\uc790\ub85c \ub4e4\uc5b4\uac00\ub294 values\uc758 \uac2f\uc218\ub97c \ud0c0\uc785 \uccb4\ud06c \ub2e8\uacc4\uc5d0\uc11c \uccb4\ud06c\ud558\ub294 \uac83\uc73c\ub85c \ud0c0\uc785\uc744 \uac15\ud558\uac8c \uc801\uc6a9\ud558\uc600\ub2e4.\\n\\n## Recap\\n\uc6b0\ub9ac\ub294 \uc774\ub85c\uc368 i18n Text\uc5d0\uc11c \uc904\ubc14\uafc8\uacfc \ubcc0\uc218\uac00 \uc788\ub294\uc9c0 \uc5ec\ubd80\uc640, \ubcc0\uc218\uc758 runtime \ud0c0\uc785 \ubc0f \ubcc0\uc218\uc758 \uac1c\uc218\uae4c\uc9c0 type check \ub2e8\uacc4\uc5d0\uc11c \uc9c4\ud589\ud560 \uc218 \uc788\ub3c4\ub85d \ud0c0\uc785\uc744 \uc815\uc758\ud574\ubcf4\uc558\ub2e4.\\n\uc774 \uacfc\uc815\uc5d0\uc11c \uc6b0\ub9ac\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 Typescript\uc758 \uae30\ub2a5\ub4e4\uc744 \ud65c\uc6a9\ud558\uc600\ub2e4.\\n- [Template Literal Type](https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html)\\n- [Function Type inference](https://www.typescriptlang.org/docs/handbook/2/functions.html#inference)\\n- [Conditional Types](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html)\\n- [Recursive Conditional Types](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html#recursive-conditional-types)\\n- [Inferring Within Conditional Types](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#inferring-within-conditional-types)\\n- [Rest Parameters](https://www.typescriptlang.org/docs/handbook/2/functions.html#rest-parameters-and-arguments)\\n- [Optional elements in tuple types](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#optional-elements-in-tuple-types)\\n\\n\uc0c1\ub2f9\ud788 \ub9ce\uc740 \uc218\uc758 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\uc600\ub2e4. \ud3c9\uc18c\uc5d0 \ubcf5\uc7a1\ud55c \ud0c0\uc785\uc744 \uc815\uc758\ud558\uc9c0 \uc54a\uc558\ub354\ub77c\uba74 \ubaa8\ub974\uace0 \uc788\uc5c8\ub358 \uae30\ub2a5\ub3c4 \uc788\uc5c8\uc744 \uac83\uc774\uba70, \uac1c\ub150\uc801\uc73c\ub85c\ub294 \uc774\ud574\ud558\uc9c0\ub9cc \uc2e4\uc81c\ub85c \uc0ac\uc6a9\ud574 \ubcfc \uc77c\uc774 \uc5c6\uc5c8\ub358 \uae30\ub2a5\ub4e4\ub3c4 \uc788\uc5c8\uc744 \uac83\uc774\ub2e4.\\n\\n\uc6b0\ub9ac\ub294 i18n Text\ub97c Runtime\uc5d0 \uc624\ub958\ub97c \ud655\uc778\ud558\ub294 \uac83\uc774 \uc544\ub2cc TypeCheck\ub54c \uc624\ub958\ub97c \ud655\uc778\ud558\uae30 \uc704\ud574\uc11c \ubcf5\uc7a1\ud558\uc9c0\ub9cc \uc720\uc6a9\ud55c \ud0c0\uc785\uc744 \uc815\uc758\ud574\uc11c \uc0ac\uc6a9\ud558\uc600\uace0, \uac01\uac01\uc758 \uc694\uad6c\uc0ac\ud56d\uc744 \uad6c\ud604\ud558\uae30 \uc704\ud574\uc11c \ud544\uc694\ud55c typescript \uc9c0\uc2dd\ub4e4\ub3c4 \ud655\uc778\ud574\ubcf4\uc558\ub2e4.\\n\\n\uc774 \uae00\uc744 \ubcf4\ub294 \ub3c5\uc790\ub4e4\uc740 \uac01\uc790 \uac1c\ubc1c\ud558\uace0 \uc788\ub294 i18n\uc744 \uc801\uc6a9\ud558\ub294 \uc11c\ube44\uc2a4\uc5d0 \uc720\uc0ac\ud55c \ud0c0\uc785\uc744 \uad6c\ud604\ud560 \uc218\ub3c4 \uc788\uace0, \uc544\ub2c8\uba74 i18n\uc740 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc9c0\ub9cc \uc704 typescript \uac1c\ub150\ub4e4\uc744 \uc774\uc6a9\ud558\uc5ec \ud0c0\uc785\uac1c\uc120\uc744 \uc9c4\ud589\ud560 \uc218\ub3c4 \uc788\uc744 \uac83 \uc774\ub2e4.\\n\\n\ud544\uc790\ub294 i18n\uc5d0 type system\uc744 \uc801\uc6a9\ud558\uba74\uc11c \ub290\ub07c\uac8c \ub41c \uc810\uc740 \uc0dd\uac01\ubcf4\ub2e4 typescript\uc758 \ud65c\uc6a9\ubc94\uc704\uac00 \ub113\uc73c\uba70, runtime\uc5d0 \ud655\uc778\ud558\ub294 \uac83\ubcf4\ub2e4 Type-Check\ub54c \ud655\uc778\ud560 \uc218 \uc788\ub3c4\ub85d \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud55c\ub2e4\ub294 \uac74 \ub9e4\uc6b0 \uc720\uc6a9\ud558\uace0 \uc548\uc804\ud55c \ubc29\ubc95\uc774\ub77c\ub294 \uac83\uc774\ub2e4.\\n\\n\uc774 \uae00\uc744 \uc77d\uc73c\uba70 \uc2e0\uc120\ud55c \uc790\uadf9 \ud639\uc740 \uc720\uc6a9\ud55c \uc9c0\uc2dd\uc744 \uc5bb\uc5c8\uae38 \ubc14\ub77c\uba70 \ub9cc\uc57d values \uc790\ub9ac\uc5d0 \ubc30\uc5f4\uc774 \uc544\ub2c8\ub77c \uac1d\uccb4\uac00 \ub4e4\uc5b4\uc62c \uacbd\uc6b0 \uc5b4\ub5a4 \ubc29\uc2dd\uc774 \ub420 \uc218 \uc788\uc744\uc9c0 \ubd80\ub85d\uc73c\ub85c \ub0a8\uae34\ub2e4.\\n\\n## Appendix #1 \ubcc0\uc218\ub97c Array \ub300\uc2e0 Object\ub85c \ubc1b\uae30\\n\\n\uc6b0\ub9ac\ub294 i18n text\uc5d0 \ubcc0\uc218\ub97c \ub123\uc744\ub54c Array \ud615\uc2dd\uc744 \uc0ac\uc6a9\ud588\ub2e4. \ud558\uc9c0\ub9cc [i18next interpolation](https://www.i18next.com/translation-function/interpolation#basic) \uc608\uc81c\ub97c \ubcf4\uc544\ub3c4 \uadf8\ub807\uace0 \ubcc0\uc218\ub97c \ub123\ub294\ub370 \uac1d\uccb4\ub97c \ud615\uc2dd\uc73c\ub85c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0\ub3c4 \ub9ce\uc744 \uac83\uc774\ub2e4.\\n\ub530\ub77c\uc11c, \ubc30\uc5f4\uc774 \uc544\ub2cc \uac1d\uccb4\ub97c \uc8fc\uc785\ud558\ub294 tFunction\uc5d0 \ub300\ud55c \ud0c0\uc785\uc815\uc758\ub97c \ubd80\ub85d\uc73c\ub85c \uc815\ub9ac\ud55c\ub2e4.\\n\\n### \uc608\uc81c\\n\\n```tsx showLineNumbers\\nimport React, { ReactElement } from \'react\';\\n\\nconst i18nJson = {\\n  \\"oneValue\\": \\"This product is {value1}.\\",\\n  \\"twoValue\\": \\"This product is {value1} and it will be delivered after {value2} days\\",\\n  \\"link\\": \\"click\\",\\n  \\"linkText\\": \\"{link} to show more information\\"\\n} as const;\\n\\ntype I18nJson = typeof i18nJson;\\ntype I18nKey = keyof I18nJson;\\ntype LineBreakFormat = `${string}\\\\n${string}`;\\n\\ntype TFunction = <Key extends I18nKey,>(\\n  key: Key,\\n  values?: any,\\n) => I18nJson[Key] extends LineBreakFormat\\n  ? ReactElement : string;\\n\\nconst tFunction: TFunction = (key: I18nKey, values: any) => i18nJson[key] as any;\\n\\nconst oneValue = tFunction(\\n  \'oneValue\',\\n  {\\n    value1: \'$500\'\\n  },\\n); // string\\nconst twoValue = tFunction(\\n  \'twoValue\',\\n  {\\n    value1: \'$500\',\\n    value2: 3,\\n  },\\n); // string\\nconst linkText = tFunction(\\n  \'linkText\',\\n  {\\n    link: <a href=\\"/about\\">{tFunction(\'link\')}</a>,\\n  },\\n) // string\\n```\\n[playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDGMA0cDejUYCiANkiEgHbwC+cAZlBCHAORQEwsDcAUD2hAoBneMACMADgoApIYLgBeXDzhwARIKQA1FMQCuSNQC51AFQAWwIXDCMAJnoxwruAG66DY6gDo1mFeowAO4QOvqGJmoWLrYQDk4uOO7hXnAoFHbO8EHAxMRwAEZIcHZIxMCuSOyZKHQwVW4eSABMtHYoAJ5CfgFq5RQA1sbqaOVoQ-6qfcCDpkgAHjDDajj9A7QwEHBC5hBBcCDQxTN00CAoMMCCajy0KNYCwjC8PDAdYMUAkpIychSKcDeHwgdGcP1kgl4QK+PwA0kgOgCBgiQXBvlIIRQoe9igAZGZIABC7BQAwAYmcLgCAAYAEhwIigMwA5tQADoUemMlnUanYj5wUxkvQUDBXf5KAA88MRC3qGWs6IoMswAD4ABQBZEdEwqgLJAxCAD8JnSHX8AEpFKq0eC-gBtGUAXTgcsodms+IoRJJ5Mp8CN+HQMBIZEo8BM3IozJejxEgOFosughMQpFYvkSnV2pMSpVcANSCEpooHStCht4gxDu1LvuaVLscE8c0YQMAJgiYzFHVLFbTRY2DwhbEJhYtIArAAGKcsODUC1cOAAemX2xgTOj-Gb8GCoSaHa7yZ7LD3baQg9wBaao9Yk5nl8LzRMAGZ54uV2uo8zt084Gs5kWQ902PXsALlS88DWExJRQOBzHYOgFDUZcUAKCA9CWVUcE7EDxTAmYBhYC1qElVCbQXT9103ZkgA)\\n\\n\uc6b0\ub9ac\ub294 \uc704\uc640 \uac19\uc740 \uc608\uc81c\ub97c \uc0ac\uc6a9\ud560 \uac83\uc774\uba70, \ubcc0\uc218\ub85c \ub123\ub294 \ud615\ud0dc\ub294 \ubc30\uc5f4\uc5d0\uc11c \uac1d\uccb4 \ud0c0\uc785\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\ub2e4. \uc774\ub54c \uc6b0\ub9ac\ub294 \ubcc0\uc218\ub85c \ub4e4\uc5b4\uac00\ub294 \uac1d\uccb4\uc758 \ud615\uc2dd\uacfc,\\n\uac1d\uccb4\uc758 \uac12\uc744 \ubcf4\uace0 i18n text\uac00 string\uc73c\ub85c \ucd94\ub860\ub418\uae30 \uc801\ud569\ud55c\uc9c0 \ud655\uc778\ud574 \ubcfc \uac83\uc774\ub2e4.\\n\\n### \ubcc0\uc218\ub4e4\uc758 key \ud68d\ub4dd\ud558\uae30\\nText\uc758 `{}` \ud3ec\ub9f7\uc5d0 \ub4e4\uc5b4\uac00\uc788\ub294 key\ub4e4\uc744 \ud68d\ub4dd\ud558\ub294\uac74 [Recursive](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-1.html#recursive-conditional-types)\uc640 [infer](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html#inferring-within-conditional-types)\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\\n\\n```tsx\\ntype ValueFormat<\\n  Key extends string = string,\\n  Suffix extends string = string,\\n> = `${string}{${Key}}${Suffix}`\\n\\ntype ValuesKeyArray<I18nText extends string> =\\n  I18nText extends ValueFormat<infer Key, infer Suffix>\\n  ? [Key, ...ValuesKeyArray<Suffix>] : [];\\n\\ntype ValuesKeyUnion<I18nText extends string> =\\n  ValuesKeyArray<I18nText>[number];\\n\\ntype result = ValuesKeyArray<\'This product is {value1} and it will be delivered after {value2} days\'>\\n// result: \'value1\' | \'value2\'\\n```\\n[playground](https://www.typescriptlang.org/play?#code/C4TwDgpgBAaghgGwK4QGIHsBOBbOwA8A0hCFBAB7AQB2AJgM5T3CYCW1A5lALxMvscANFADKSAGbjW5MpRoM+bTj0UCAfCoAGAEgDezJRwC+uvcRBGjesZOlHNAKFCRYiFPXMBBTJjgh8AJIAjAAc1AAqFMCyVHSMBuoqwWGRlDHyjPDIaFi4BOziEJhQ5sIFRaISUuQaAPxQANqlUAB0bVnuXj5++DbVagC6UABcjQMA3E7g0B0QHiQAqtSs6NSBoRFR6XGqnBq8s-Mg3r7+yZuUag3USNgARkUTDlMumHNICNEHbnNdp-gAcnCAAtWIwwJh0LQkABjaJgqC6ABuPyCRigcDoUFY0QA7qwEAgoA8oLQIAhWEiihBaBjxFRisifgAmdG0Pz0AFqBxAA)\\n\\n\uc5ec\uae30\uc11c\ub3c4 \ub9c8\ucc2c\uac00\uc9c0\ub85c `ValueFormat`\uc744 \ud1b5\ud574\uc11c key\uc640 suffix \uac12\uc744 infer\ud560 \uc218 \uc788\uac8c \ubd84\ub9ac\ud558\uace0, `ValuesKeyArray`\uc5d0\uc11c `{}` \uc548\uc758 \uac12\ub4e4\uc744 Tuple\ub85c \ubd84\ub9ac\ud55c\ub2e4. \uadf8\ub7f0 \ub4a4 `ValuesKeyUnion`\uc5d0\uc11c union\uc73c\ub85c \ub9cc\ub4e4\uc5b4\uc8fc\ub294 \uc791\uc5c5\uc744 \ud558\ub294 \uac83\uc774\ub2e4.\\n\uc774\ub7ec\uba74 \ubcc0\uc218\ub85c \ub4e4\uc5b4\uac00\uc57c\ud560 key\ub4e4 \ucd94\ucd9c\uc744 \uc644\ub8cc\ud558\uac8c\ub41c\ub2e4.\\n\\n### \ud68d\ub4dd\ud55c Key\ub97c params\ub85c \ub4e4\uc5b4\uac08 \uc218 \uc788\ub3c4\ub85d \ud0c0\uc785 \uc124\uc815\ud558\uae30\\n```tsx showLineNumbers\\nimport React, { ReactElement } from \'react\';\\n\\nconst i18nJson = {\\n  \\"oneValue\\": \\"This product is {value1}.\\",\\n  \\"twoValue\\": \\"This product is {value1} and it will be delivered after {value2} days\\",\\n  \\"link\\": \\"click\\",\\n  \\"linkText\\": \\"{link} to show more information\\"\\n} as const;\\n\\ntype I18nJson = typeof i18nJson;\\ntype I18nKey = keyof I18nJson;\\ntype LineBreakFormat = `${string}\\\\n${string}`;\\ntype ValuesType = string | number | ReactElement;\\n\\ntype ValueFormat<\\n  Key extends string = string,\\n  Suffix extends string = string,\\n> = `${string}{${Key}}${Suffix}`\\n\\ntype ValuesKeyArray<I18nText extends string> =\\n  I18nText extends ValueFormat<infer Key, infer Suffix>\\n  ? [Key, ...ValuesKeyArray<Suffix>] : [];\\n\\ntype ValuesKeyUnion<I18nText extends string> =\\n  ValuesKeyArray<I18nText>[number];\\n\\ntype TFunction = <\\n  Key extends I18nKey,\\n  Params extends I18nJson[Key] extends ValueFormat\\n  // highlight-start\\n    ? [Record<ValuesKeyUnion<I18nJson[Key]>, ValuesType>]\\n  // highlight-end\\n    : [undefined?]\\n>(\\n  key: Key,\\n  ...values: Params\\n) => I18nJson[Key] extends LineBreakFormat\\n  ? ReactElement : string;\\n\\nconst tFunction: TFunction = (key: I18nKey, ...values: any) => i18nJson[key] as any;\\n\\nconst oneValue = tFunction(\\n  \'oneValue\',\\n  {\\n    value1: \'$500\'\\n  },\\n); // string\\nconst twoValue = tFunction(\\n  \'twoValue\',\\n  {\\n    value1: \'$500\',\\n    value2: 3,\\n  },\\n); // string\\nconst linkText = tFunction(\\n  \'linkText\',\\n  {\\n    link: <a href=\\"/about\\">{tFunction(\'link\')}</a>,\\n  },\\n) // string\\n```\\n[playground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDGMA0cDejUYCiANkiEgHbwC+cAZlBCHAORQEwsDcAUD2hAoBneMACMADgoApIYLgBeXDzhwARIKQA1FMQCuSNQC51AFQAWwIXDCMAJnoxwruAG66DY6gDo1mFeowAO4QOvqGJmoWLrYQDk4uOO7hXnAoFHbO8EHAxMRwAEZIcHZIxMCuSOyZKHQwVW4eSABMtHYoAJ5CfgFq5RQA1sbqaOVoQ-6qfcCDpkgAHjDDajj9A7QwEHBC5hBBcCDQxTN00CAoMMCCajy0KNYCwjC8PDAdYMUAkpIychSKcDeHwgdGcP1kgl4QK+PwA0kgOgCBgiQXBvlIIRQoe9igAZGZIABC7BQAwAYmcLgCAAYAEhwIigMwA5tQADoUemMlnUanYj5wMIGISmHEA7kUZlwAA+cAoehARSgMvw6BgJDIlGefGhgqaFKg5xgAB54YiFvUMtYJVKlDbsABlPR0OjAeZwC2UOzWmBMyXi30sgB8NK5gcl1Bw9LN1Go9KdLrdvNeYqFSCEZoAglAoJ1jeiKHNFh7Fl6fX7mSGlAWi-BPVa9eEDUbjScGmbsG3lQnXfMQwB+OAAbQ7cG847TGYR2dzHWNPbdQYAunATEOl-zipOzQBVChXCj5n61kuW73bcOVgHb6c5vM1i1BofyxVVDc6sWmMl6CgYA8A40AjNU8yzROEEUmOAAAUUFzEBrHrc8C0xEcERXRDrDTZsLgCVRByHZABCgOxjRvDo9wPI8MT+VCOiXINsEnUUPmXXDV2HH9SldCgkDsfslx4IMAAoAmRDoTA7AJx28ZJhRMGC4KEHgAEpFBDZCaLNdDSwbfEeOJVByUpeBB2QNUNXIKh2JtF5HhEQFv1-S5BBML8fz-eQlCEsSTALUdpNk9MTHSDpVIUENxGowQhzEld7jSCgOlswR7M0NMARgRyPIoISWDSpoWGwPBArEEwWFpABWAAGKqWDgahlK4OAAHpmovCt+BS+BglCJoMqy5ycpYHq00K3A4BKsrKpqsbAuaEwAGZ6salq2ptTqnjgNYTyUTL3MG3LtotMa8DWExjRQOBzHYOgFBYZqUAKCA9E4IMcD2pyD0OmYBhYZTqGNB6QwaprWvalkgA)\\n\\n\uc704\uc5d0\uc11c \uc774\uc57c\uae30\ud55c `ValuesKeyUnion`\uc744 \uc774\uc6a9\ud574 L22 \ucc98\ub7fc [Rest Parameters](https://www.typescriptlang.org/docs/handbook/2/functions.html#rest-parameters-and-arguments)\ub97c \uc0ac\uc6a9\ud574\uc11c\\n\ubcc0\uc218\uc758 Key\uc5d0 \ub300\ud55c object\ub9cc \ub123\uc744 \uc218 \uc788\uac8c values \ud0c0\uc785\uc744 \uc124\uc815\ud55c\ub2e4. \uadf8\ub807\ub2e4\uba74 L31-L33 \uc608\uc81c\uc5d0\uc11c \ubcc0\uc218\ub97c \ub123\uc9c0 \uc54a\uac70\ub098, \uc798\ubabb \ub123\uc5c8\uc744\ub54c \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uac8c \ub41c\ub2e4.\\n\\n### I18n text\uac00 string\uc774 \ub418\uc9c0 \uc54a\ub294 \uacbd\uc6b0 ReactElement\ub85c \ucd94\ub860\\n```tsx showLineNumbers\\nimport React, { ReactElement } from \'react\';\\n\\nconst i18nJson = {\\n  \\"oneValue\\": \\"This product is {value1}.\\",\\n  \\"twoValue\\": \\"This product is {value1} and it will be delivered after {value2} days\\",\\n  \\"link\\": \\"click\\",\\n  \\"linkText\\": \\"{link} to show more information\\"\\n} as const;\\n\\ntype I18nJson = typeof i18nJson;\\ntype I18nKey = keyof I18nJson;\\ntype LineBreakFormat = `${string}\\\\n${string}`;\\ntype ValuesType = string | number | ReactElement;\\n\\ntype ValueFormat<\\n  Key extends string = string,\\n  Suffix extends string = string,\\n> = `${string}{${Key}}${Suffix}`\\n\\ntype ValuesKeyArray<I18nText extends string> =\\n  I18nText extends ValueFormat<infer Key, infer Suffix>\\n  ? [Key, ...ValuesKeyArray<Suffix>] : [];\\n\\ntype ValuesKeyUnion<I18nText extends string> =\\n  ValuesKeyArray<I18nText>[number];\\n\\ntype TFunction = <\\n  Key extends I18nKey,\\n  Params extends I18nJson[Key] extends ValueFormat\\n    ?  [Record<ValuesKeyUnion<I18nJson[Key]>, ValuesType>] : [undefined?],\\n>(\\n  key: Key,\\n  ...values: Params\\n) => I18nJson[Key] extends LineBreakFormat\\n  // highlight-start\\n  ? ReactElement\\n    : I18nJson[Key] extends ValueFormat\\n      ? Params extends [Record<string, string | number>]\\n        ? string : ReactElement\\n  // highlight-end\\n  : string;\\n\\nconst tFunction: TFunction = (key, ...values) => i18nJson[key] as any;\\n\\nconst oneValue = tFunction(\'oneValue\', { value1: \'$500\' }); // string\\nconst twoValue = tFunction(\'twoValue\', { value1: \'$500\', value2: 3 }); // string\\n// highlight-start\\nconst linkText = tFunction(\'linkText\', { link: <a href=\\"/about\\">{tFunction(\'link\')}</a> }) // ReactElement\\n// highlight-end\\n```\\n[plaground](https://www.typescriptlang.org/play?#code/JYWwDg9gTgLgBAJQKYEMDGMA0cDejUYCiANkiEgHbwC+cAZlBCHAORQEwsDcAUD2hAoBneMACMADgoApIYLgBeXDzhwARIKQA1FMQCuSNQC51AFQAWwIXDCMAJnoxwruAG66DY6gDo1mFeowAO4QOvqGJmoWLrYQDk4uOO7hXnAoFHbO8EHAxMRwAEZIcHZIxMCuSOyZKHQwVW4eSABMtHYoAJ5CfgFq5RQA1sbqaOVoQ-6qfcCDpkgAHjDDajj9A7QwEHBC5hBBcCDQxTN00CAoMMCCajy0KNYCwjC8PDAdYMUAkpIychSKcDeHwgdGcP1kgl4QK+PwA0kgOgCBgiQXBvlIIRQoe9igAZGZIABC7BQAwAYmcLgCAAYAEhwIigMwA5tQADoUemMlnUanYj5wMIGISmHEA7kUZlwAA+cAoehARSgMvw6BgJDIlGefGhgqaFKg5xgAB54YiFvUMtYJVKlDbsABlPR0OjAeZwC2UOzWmBMyXi30sgB8NK5gcl1Bw9LN1Go9KdLrdvNeYqFSCEZoAglAoJ1jeiKHNFh7Fl6fX7mSGlAWi-BPVa9eEDUbjScGmbsG3lQnXfMQwB+OAAbQ7cG847TGYR2dzHWNPbdQYAunATEOl-zipOzQBVChXCj5n61kuW73bcOVgHb6c5vM1i1BofyxVVDc6sWmMl6CgYA8A00EVPMs0ThBFsAABRQXMQGsetzwLTERwRFd4OsNNmypQdh2QAQoDsY0bw6PcDyPDE-mQjolyDbBJ1FD5l1XYcf1KV0KCQOx+2ogAKAJkQ6EwOwCcdvGSYUTCgmChB4ABKRQQ0QiizVQ0sG3xdjiVQclKXgHhB2QNUNXIKg4ACExFMESiVLPdD9R00zVFUQdJJQWDgIbIdcOgAj7QvCsVRfJVGMHG0mIMohSGMmAzL8lkXkeERAW-X9LkEEwvx-P95CUbj+OwESxPTOSFBDcRyMs-iV3uNIKA6eLBESzQ0wBGBkqyihuJYJqmhYbA8EKsQTBYWkAFYAAYxpYOBqBkrg4AAenm2LJX4Br4GCUImhatrUo6lgNrTXrcDgAahtGiajsK5oTAAZmm2aFqWm1VqeOA1hPJRWsy3bOvei0jrwNYTGNFA4HMdg6AUNR5pQAoID0JYgxwL6UoPX6ZgGFgZOoY0YZDGbHtVCLNSoHggA)\\n\\nL35-L37\uc5d0\uc11c `ValueFormat`\uc778 \uacbd\uc6b0 condition\uc744 \uc124\uc815\ud574\uc11c `Record<string, string | number>`\ub97c \ud655\uc778\ud558\uc5ec \ubcc0\uc218\ub85c string, number \uc774\uc678\uc758 \ud0c0\uc785\uc744 \uc0ac\uc6a9\ud560 \uacbd\uc6b0 ReactElement\ub97c \uc0ac\uc6a9\ud558\uac8c \ud0c0\uc785\uc744 \uc124\uc815\ud558\uba74\\nL44\ucc98\ub7fc ReactElement\ub85c \ucd94\ub860\ub418\ub294 \uac83\uc744 \ud655\uc778 \ud560 \uc218 \uc788\ub2e4.\\n\\n\uc774\ucc98\ub7fc Array\ubfd0 \uc544\ub2c8\ub77c Object\uc5d0 \ub300\ud574\uc11c \ubcc0\uc218 type\uc744 \uc9c0\uc815\ud560 \uc218\ub3c4 \uc788\ub2e4."},{"id":"how-to-use-oas-generator","metadata":{"permalink":"/how-to-use-oas-generator","source":"@site/blog/2022-03-28-how-to-use-oas-generator-in-front-end.mdx","title":"Front-end\uc5d0\uc11c OAS generator\ub97c \uc5b4\ub5bb\uac8c \uc4f0\uba74 \uc88b\uc744\uae4c?","description":"OAS generator","date":"2022-03-28T00:00:00.000Z","formattedDate":"2022\ub144 3\uc6d4 28\uc77c","tags":[{"label":"OAS","permalink":"/tags/oas"},{"label":"OAS-generator","permalink":"/tags/oas-generator"},{"label":"typescript","permalink":"/tags/typescript"},{"label":"typescript-axios","permalink":"/tags/typescript-axios"},{"label":"how-to-use","permalink":"/tags/how-to-use"},{"label":"web","permalink":"/tags/web"}],"readingTime":33.33,"hasTruncateMarker":true,"authors":[{"name":"Hyunmo Ahn","title":"Front End Engineer @ Line Biz+","url":"https://github.com/HyunmoAhn","imageURL":"https://github.com/HyunmoAhn.png","key":"HyunmoAhn"}],"frontMatter":{"slug":"how-to-use-oas-generator","title":"Front-end\uc5d0\uc11c OAS generator\ub97c \uc5b4\ub5bb\uac8c \uc4f0\uba74 \uc88b\uc744\uae4c?","description":"OAS generator","keywords":["OAS","OAS-generator","typescript","typescript-axios","how-to-use","web"],"authors":"HyunmoAhn","tags":["OAS","OAS-generator","typescript","typescript-axios","how-to-use","web"]},"prevItem":{"title":"i18n\uacfc typescript","permalink":"/i18n-and-typescript"},"nextItem":{"title":"immer \ub0b4\ubd80 \uc0b4\ud3b4\ubcf4\uae30","permalink":"/deep-dive-to-immer"}},"content":"\ucd5c\uadfc \ud504\ub85c\uc81d\ud2b8\uc5d0 OAS-generator\ub97c \ub3c4\uc785\ud574\uc11c \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4. \uc0ac\uc6a9\ud558\uae30\ub85c \uacb0\uc815\ud560 \ub54c \uace0\ubbfc\uc774\ub098 \ud655\uc778\uc774 \ud544\uc694\ud55c \uc810\uc774 \ub9ce\uc558\uace0,\\n\uc801\uc6a9 \uc774\ud6c4 \uc88b\uc740 \uc810\ub3c4 \ub9ce\uc740 \uac83 \uac19\uc544\uc11c OAS-Generator \uc0ac\uc6a9 \uacbd\ud5d8\uc5d0 \ub300\ud574 \uae00\uc744 \uc4f0\ub824\ud55c\ub2e4.\\n\\n\uc544\ub9c8 OAS Generator\uac00 \ubb34\uc5c7\uc778\uc9c0 \uad81\uae08\ud55c \ubd84\ub4e4, \uc54c\uace0\ub294 \uc788\uc9c0\ub9cc \ub3c4\uc785\uc5d0 \uace0\ubbfc\uc774 \ub418\uc2dc\ub294 \ubd84\ub4e4,\\n\uc774\ubbf8 \uc0ac\uc6a9\ud558\uace0 \uc788\uc9c0\ub9cc \uc798 \uc0ac\uc6a9\ud558\uace0 \uc788\ub294\uc9c0 \ub9dd\uc124\uc5ec\uc9c0\ub294 \ubd84\ub4e4\uc774 \uc774 \uae00\uc744 \uc77d\uace0 \uc88b\uc740 \ubaa8\ud2f0\ube0c\ub098 \uacbd\ud5d8\uc744 \ubc30\uc6cc\uac14\uc73c\uba74 \uc88b\uaca0\ub2e4.\\n\\n\uc774 \uae00\uc5d0\uc11c \ub9d0\ud558\uace0 \uc788\ub294 \uac74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n- OAS-generator \uac00 \uc5b4\ub5a4 \uac83\uc778\uc9c0.\\n- OAS-generator \ub97c \uc0ac\uc6a9\ud588\uc744 \ub54c\uc758 \uc7a5\ub2e8\uc810.\\n- OAS-generator \ub97c \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ud574\uc57c\ud558\ub294\uc9c0.\\n  - \uc124\uc815\\n  - \ucee4\uc2a4\ud140 \ud15c\ud50c\ub9bf\\n- \ucd5c\uc801\ud654\\n\\n:::info \uc0ac\uc804\uc9c0\uc2dd\\n- Rest API\ub85c Front-end \uac1c\ubc1c\uc744 \uc9c4\ud589\ud574 \ubcf8 \uacbd\ud5d8 \\n- Mustache [\ubb38\ubc95](https://github.com/janl/mustache.js)\uc744 \uc77d\uc744 \uc218 \uc788\ub294 \uc9c0\uc2dd (Optional)\\n  - \uae00\uc744 \uc774\ud574\ud558\ub294\ub370\ub294 \ud544\uc694\uc5c6\uc9c0\ub9cc \uc2e4\uc81c\ub85c \uc0ac\uc6a9\ud55c\ub2e4\uba74 \uaf2d \uc54c\uc544\uc57c\ud55c\ub2e4.\\n:::\\n\\n\x3c!--truncate--\x3e\\n\\n\\n## OAS Generator, \uc5b4\ub5a4 \uac83?\\nOAS Generator\ub97c \uc54c\uc544\ubcf4\uae30 \uc804\uc5d0 `OAS`\ub294 \uc5b4\ub5a4 \uac83\uc778\uc9c0 \uba3c\uc800 \uc54c\uc544\ubcf4\uc790.\\n### OAS? Open Api Specification\\nOAS\ub294 Open Api Specification\uc758 \uc57d\uc790\uc774\ub2e4.\\n\\n> The OpenAPI Specification (OAS) is a vendor neutral description format for HTTP-based remote APIs.\\n\\n[OAS\uc5d0 \ub300\ud55c \ubb38\uc11c](https://oai.github.io/Documentation/introduction.html) \ub97c \ubcf4\uba74 \\nOAS\ub294 HTTP \uae30\ubc18 API\uc5d0 \ub300\ud574\uc11c \uae30\uacc4, \uc0ac\ub78c\uc774 \ubaa8\ub450 \uc774\ud574\ud560 \uc218 \uc788\ub294 \ubb38\uc11c\ub97c \uc791\uc131\ud558\ub294 \uaddc\uce59\uc744 \uba85\uba85\ud55c \uac83\uc774\ub77c\uace0 \ud55c\ub2e4.\\n\uc608\ub97c \ub4e4\uc5b4, [swagger \ubb38\uc11c](https://petstore.swagger.io/)\uc5d0\uc11c \uc544\ub798 \uc774\ubbf8\uc9c0\ucc98\ub7fc \ub9c1\ud06c\ub97c \ub204\ub974\uba74\\n[OAS \ubb38\uc11c](https://petstore.swagger.io/v2/swagger.json)\ub85c \uc5f0\uacb0\ub41c\ub2e4. Text\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\ub294 [JSON](https://petstore.swagger.io/v2/swagger.json) \ud639\uc740 yaml\ud30c\uc77c\uc774 \\nOAS(Open Api Specification)\uac00 \ub418\ub294 \uac83\uc774\ub2e4.\\n\\n![swagger-to-oas-docs](/assets/oas-generator/swagger.png)\\n\\n![swagger-to-oas-docs-oas-result](/assets/oas-generator/oas-json.png)\\n\\n### OAS Generator\\nOAS\uac00 API\uc758 json/yaml \ubb38\uc11c\ub77c\ub294 \uac83\uc744 \uc54c\uc558\ub2e4. \uadf8\ub807\ub2e4\uba74 OAS Generator\ub294 \uc5b4\ub5a4 \uac83\uc77c\uae4c?\\n\\n- OAS Generator\ub294 OAS yaml \ud30c\uc77c\ub85c Source code\ub97c \uc0dd\uc131\ud558\ub294 \ub3c4\uad6c\uc774\ub2e4.\\n- \uc989, API Swagger \u2192 OAS text \ud30c\uc77c(.yaml) \u2192 Source Code(.ts)\ub85c \ubcc0\ud658\ud55c\ub2e4.\\n- Geneartor \uc885\ub958\uc5d0 \ub530\ub77c \ub2e4\uc591\ud55c output(Java, Kotlin, typescript, etc.)\uc744 \ub9cc\ub4e4 \uc218 \uc788\ub2e4.\\n- Web Front End \uc9c4\uc601\uc5d0\uc11c\ub294 [typescript-axios](https://openapi-generator.tech/docs/generators/typescript-axios)\ub098 [typescript-fetch](https://openapi-generator.tech/docs/generators/typescript-fetch)\ub97c \uc8fc\ub85c \uc4f0\ub294 \uac83\uc73c\ub85c \uc54c\uace0 \uc788\ub2e4.\\n\\n\uc55e\uc73c\ub85c \uc124\uba85\ud558\uaca0\uc9c0\ub9cc OAS\uc758 \uacb0\uacfc\ubb3c\uc740 \ub2e4\uc74c\uacfc \uac19\uc740 \ubc29\uc2dd\uc73c\ub85c \uc790\ub3d9 \uc0dd\uc131\ub418\uace0, \uc774 \ucf54\ub4dc\ub4e4\uc744 \ud504\ub85c\uc81d\ud2b8 \ub0b4\ubd80\uc5d0 \uc0ac\uc6a9\ud558\ub294 \uac83\uc73c\ub85c \uc774\uc810\uc744 \uc5bb\ub294\ub2e4. ([code sandbox](https://codesandbox.io/s/oas-generator-sample-bygm5?file=/src/generate/api.ts:6692-6811))\\n```tsx\\n// Auto generated codes\\n...\\ndeletePet: async (petId: number, apiKey?: string, options: AxiosRequestConfig = {}): Promise<RequestArgs> => {\\n    // verify required parameter \'petId\' is not null or undefined\\n    assertParamExists(\'deletePet\', \'petId\', petId)\\n    const localVarPath = `/pet/{petId}`\\n        .replace(`{${\\"petId\\"}}`, encodeURIComponent(String(petId)));\\n    // use dummy base URL string because the URL constructor only accepts absolute URLs.\\n    const localVarUrlObj = new URL(localVarPath, DUMMY_BASE_URL);\\n    let baseOptions;\\n    if (configuration) {\\n        baseOptions = configuration.baseOptions;\\n    }\\n\\n    const localVarRequestOptions = { method: \'DELETE\', ...baseOptions, ...options};\\n    const localVarHeaderParameter = {} as any;\\n    const localVarQueryParameter = {} as any;\\n\\n    // authentication petstore_auth required\\n    // oauth required\\n    await setOAuthToObject(localVarHeaderParameter, \\"petstore_auth\\", [\\"write:pets\\", \\"read:pets\\"], configuration)\\n\\n    if (apiKey !== undefined && apiKey !== null) {\\n        localVarHeaderParameter[\'api_key\'] = String(apiKey);\\n    }\\n\\n\\n\\n    setSearchParams(localVarUrlObj, localVarQueryParameter);\\n    let headersFromBaseOptions = baseOptions && baseOptions.headers ? baseOptions.headers : {};\\n    localVarRequestOptions.headers = {...localVarHeaderParameter, ...headersFromBaseOptions, ...options.headers};\\n\\n    return {\\n        url: toPathString(localVarUrlObj),\\n        options: localVarRequestOptions,\\n    };\\n},\\n...\\n```\\n\uc704\uc640 \uac19\uc740 \uc608\uc2dc\ub294 OAS-generator\ub97c \uc774\uc6a9\ud574\uc11c \uc0dd\uc131\ud55c \ucf54\ub4dc\uc758 \uc77c\ubd80\ubd84\uc774\ub2e4. \uac01 API\uc5d0 \ub300\ud574\uc11c path, mehtod, header \ub4f1\uc5d0 \ub300\ud574\uc11c \uac12\uc744 \ubbf8\ub9ac \ub123\uc5b4\uc11c \uc0dd\uc131\ud558\uace0,\\nrequest, response\uc5d0 \ub300\ud574\uc11c \ub9e4\uce6d\uc2dc\ucf1c\uc900\ub2e4.\\n\\n## \uadf8\ub798\uc11c, \ubb50\uac00 \uc88b\uc740\ub370?\\n### \uae30\uc874 \ubc29\ubc95\uacfc \ucc28\uc774\uc810\\n![compare-with-oas-process](/assets/oas-generator/compare-with-oas-process.png)\\n\\n\uc6b0\ub9ac\ub294 \uac1c\ubc1c\uc744 \ud558\uba74\uc11c API\ub97c \uc5f0\uacc4\ud55c\ub2e4. OAS Generator\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc73c\uba74 \uc704\ucc98\ub7fc \\"AS-IS\\"\uc758\\n\uc21c\uc11c\ub85c \uac1c\ubc1c\uc744 \uc9c4\ud589\ud55c\ub2e4. API \ubb38\uc11c\ub97c \uccb4\ud06c\ud574\uc11c URL, method \ub4f1\uc744 \ud655\uc778\ud558\uace0 Request, Response\uc5d0 \ub300\ud55c type\uc744 \uc815\uc758\ud55c\ub2e4.\\n\uadf8\ub9ac\uace4, axios\uc640 \uad00\ub828 \ub41c \ud568\uc218\ub97c \uc0dd\uc131\ud574\uc11c \ud504\ub85c\uc81d\ud2b8 \ub0b4\ubd80\uc758 API call \ub85c\uc9c1\uc5d0 \uc0ac\uc6a9\ud55c\ub2e4.\\n\uc774 \uacfc\uc815\uc5d0\uc11c method\ub97c \uc798\ubabb \ud655\uc778\ud55c\ub2e4\uac70\ub098, Request / Response type\uc744 \ud558\ub098\uc529 \uc62e\uaca8\uc57c\ud55c\ub2e4\ub294 \ub4f1 \uc2e4\uc218\uac00 \ubc1c\uc0dd \ud560 \uc218 \uc788\uace0 \\n\ubc88\uac70\ub85c\uc6c0\uc774 \ubc1c\uc0dd\ud558\uae30\ub3c4 \ud55c\ub2e4. \ub610\ud55c API \ubb38\uc11c\uac00 \uc5c5\ub370\uc774\ud2b8\ub41c\ub2e4\uba74 API\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uc5c8\uc74c\uc744 \uc778\uc9c0\ud558\uace0, \ubcc0\uacbd \ub0b4\uc6a9\uc744 \ub530\ub77c\uac00\uc11c \uc218\uc815\ud574\uc57c\ud558\ub294\\n\ub178\ub825\ub3c4 \ud544\uc694\ud558\ub2e4.\\n\\n\ubc18\uba74\uc5d0, OAS Generator\ub97c \uc0ac\uc6a9\ud55c\ub2e4\uba74, \uc544\ub798\uc640 \uac19\uc740 \\"TO-BE\\" \uc21c\uc11c\ub85c \uc9c4\ud589\ud55c\ub2e4. API docs\ub85c\ubd80\ud130 yaml\ud30c\uc77c(OAS spec)\uc744 \uac00\uc838\uc628\ub2e4.\\n\ubcf4\ud1b5 yaml\ud30c\uc77c\uc740 API\ubb38\uc11c\uc5d0 \ub530\ub77c \uc790\ub3d9\uc73c\ub85c \uc0dd\uc131\ub41c\ub2e4. \ub2e4\uc74c, yaml\ud30c\uc77c\uc744 \uc774\uc6a9\ud574\uc11c Axios \ud568\uc218\ub97c \uc0dd\uc131\ud558\uace0, request / resposne\uc5d0 \ub300\ud55c\\n\ud0c0\uc785\uae4c\uc9c0 \ud568\uaed8 \uc0dd\uc131\ub41c\ub2e4. \uc774\ub97c \uadf8\ub300\ub85c API call \ub85c\uc9c1\uc5d0 \uc0ac\uc6a9\ud55c\ub2e4. API \ubb38\uc11c\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\ub354\ub77c\ub3c4 OAS Generator\ub97c \ub2e4\uc2dc \uc2e4\ud589\ud558\ub294 \uac83\uc73c\ub85c\\n\uc774\uc804 API\uacfc \ub2e4\ub978 \uc810\uc774 git diff\ub85c \ud45c\uc2dc\ub418\uace0 \uc5b4\ub5a4 \ubd80\ubd84\uc774 \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0, \uc5b4\ub5a4 \ubd80\ubd84\uc744 \ud655\uc778\ud574\uc57c\ud558\ub294\uc9c0 \uc27d\uac8c \uc54c \uc218 \uc788\ub2e4.\\n\\n\uc989, \uac1c\ubc1c\uc790\uac00 \uc9c1\uc811 \uc791\uc131\ud558\ub294 \ubd80\ubd84\uc744 \uc904\uc5ec \ubc18\ubcf5\uc791\uc5c5\uc744 \uc904\uc774\uace0 \ud734\uba3c\uc5d0\ub7ec\ub97c \ucd5c\uc18c\ud654\ud574\uc8fc\ub294 \uac83\uc774 \uc7a5\uc810\uc774\ub2e4.\\n\\n### \uc88b\uae30\ub9cc \ud55c\uac00\uc694?\\n\uc7a5\uc810\uc744 \uc774\uc57c\uae30 \ud588\uc9c0\ub9cc \ubb3c\ub860 \uc2e0\uacbd \uc368\uc57c\ud560 \uc810~~(\ub2e8\uc810)~~\uc774 \uc874\uc7ac\ud55c\ub2e4.\\n\\n#### 1. API \ubb38\uc11c\ub85c\ubd80\ud130 yaml\ud30c\uc77c\uc744 \ucd94\ucd9c \ud560 \uc218 \uc788\uc5b4\uc57c\ud55c\ub2e4.\\n\\n\ud68c\uc0ac \ubcc4, \ud504\ub85c\uc81d\ud2b8 \ubcc4 API\ubb38\uc11c\ub97c \uad00\ub9ac\ud558\ub294 \ubc29\uc2dd\uc740 \ucc9c\ucc28\ub9cc\ubcc4\uc774\ub77c\uace0 \uc0dd\uac01\ud55c\ub2e4. \uc704\uc5d0 \ub4e0 \uc608\uc2dc\ub85c\ub294 swagger\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc744 \uc804\uc81c\ub85c \ud558\uc600\uace0 \\n\ub2e4\ub978 \ub2e4\uc591\ud55c \ubc29\ubc95\uc73c\ub85c API \ubb38\uc11c\ub97c \uacf5\uc720\ud558\uac70\ub098 API \ubb38\uc11c \uc5c6\uc774 \uac1c\ubc1c\uc744 \uc9c4\ud589 \ud560 \uc218\ub3c4 \uc788\uc744 \uac83\uc774\ub2e4. \\n\ub9cc\uc57d, API\ubb38\uc11c\uac00 yaml\ud30c\uc77c\uc744 \uc0dd\uc131\ud558\ub294 \uac83\uc774 \ubd88\uac00\ub2a5\ud558\ub2e4\uba74 \uc544\ub9c8\ub3c4 OAS Generator\ub294 \uc720\ud6a8\ud558\uac8c \uc4f0\uc77c \uc218 \uc788\ub294 \ub300\uc548\uc774 \uc544\ub2d0 \uc218\ub3c4 \uc788\ub2e4.\\n\\n#### 2. API \ubb38\uc11c\ub294 \uc815\ud655\ud574\uc57c\ud55c\ub2e4.\\n\\nOAS Generator\ub294 API \ubb38\uc11c\ub97c \uae30\ubc18\uc73c\ub85c \ucf54\ub4dc\ub97c \uc0dd\uc131\ud558\uae30 \ub54c\ubb38\uc5d0 API \ubb38\uc11c\uac00 \uc815\ud655\ud558\uc9c0 \uc54a\ub2e4\uba74 \uc790\ub3d9 \uc0dd\uc131 \ucf54\ub4dc\ub3c4 \uc815\ud655\ud558\uc9c0 \uc54a\uac8c \ub41c\ub2e4.\\n\uc608\ub97c \ub4e4\uc5b4\uc11c, Request params\uc5d0 \ud544\ub4dc\ub4e4\uc774 \ubaa8\ub450 optional\ub85c \ubd99\uc5b4\uc788\ub2e4\uba74 \uc790\ub3d9 \uc0dd\uc131 \ud0c0\uc785\uc774 \ubaa8\ub450 optional\ub85c \uc0dd\uc131\ub418\uace0 \\n\ubb34\ubd84\ubcc4\ud558\uac8c optional\uc774 \ub0a8\ubc1c\ub418\ub294 \uc0c1\ud669\uc774 \ubc1c\uc0dd\ud558\uc5ec type check\uc758 \uc774\uc810\uc744 \uc783\uc5b4\ubc84\ub9b4 \uc218 \uc788\ub2e4.\\n\ub610\ud55c, \uc2e4\uc81c Server\ub294 \uc5c5\ub370\uc774\ud2b8 \ub418\uc5c8\uc9c0\ub9cc API \ubb38\uc11c\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uc9c0 \uc54a\uc740 \uc0c1\ud669\uc774\ub77c\uba74 OAS Generator\ub294\\n\uc624\ud788\ub824 \ud504\ub85c\uc81d\ud2b8\ub97c \ubcf5\uc7a1\ud558\uac8c \ub9cc\ub4e4\uc5b4\ubc84\ub9b0\ub2e4. API \ubb38\uc11c\ub97c \ud1b5\ud574 \ucf54\ub4dc\ub97c \uc0dd\uc131\ud558\ub294\ub9cc\ud07c API \ubb38\uc11c\ub294 \uc815\ud655\ud574\uc57c\ud55c\ub2e4.\\n\\n#### 3. \uc911\ubcf5 \ucf54\ub4dc, bundle size \uc99d\uac00.\\n\\nOAS Generator\ub294 API \ubb38\uc11c\uc640 template\uc744 \uc774\uc6a9\ud574\uc11c \ucf54\ub4dc\ub97c \uc790\ub3d9 \uc0dd\uc131\ud558\ub294 \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud55c\ub2e4. \\n\ub530\ub77c\uc11c template\uc758 \ud2b9\uc815 \ud328\ud134\uc774 \ubc18\ubcf5\ub418\uace0 \uc774\ub294 \uc790\uc5f0\uc2a4\ub7fd\uac8c \uc911\ubcf5\ucf54\ub4dc\ub97c \ub9cc\ub4e0\ub2e4. \uc774\ub294 \ud655\uc2e4\ud55c bundle size\uc758 \uc99d\uac00\ub85c \uc774\uc5b4\uc9c4\ub2e4.\\n\ud504\ub85c\uc81d\ud2b8 \uac1c\ubc1c\uc774 \ud3b8\ud574\uc9c0\uace0, \uc720\uc9c0\ubcf4\uc218\uac00 \uc88b\uc544\uc9c4\ub2e4\uace0 \ud55c\ub4e4, \ud37c\ud3ec\uba3c\uc2a4\uc5d0 \uc545\uc601\ud5a5\uc744 \uc900\ub2e4\uba74 \uc0ac\uc6a9\uc774 \uaebc\ub824\uc9c8 \uc218 \ubc16\uc5d0 \uc5c6\ub2e4.\\n\uc774 \uae00\uc758 \ub9d0\ubbf8\uc5d0\ub3c4 optimize\uc5d0 \ub300\ud574\uc11c \ud6c4\uc220 \ud558\uaca0\uc9c0\ub9cc, OAS Generator \uc801\uc6a9 \uc804, \ud6c4\uc5d0 \ub300\ud574\uc11c bundle size \ube44\uad50\ub294 \ud544\uc694\ud55c \uc0ac\ud56d\uc774\ub2e4.\\n\\n#### 4. \ucd08\uae30 \uc124\uc815 \ube44\uc6a9\uacfc \uc124\uc815\uc758 \uc720\uc9c0\ubcf4\uc218\\n\\nOAS Generator\ub97c \uc801\uc6a9\ud558\uba74\uc11c \ub290\uaf08\ub358 \uac83\uc740 \ucd08\uae30 \uc124\uc815 \uac12\uc774 \ubcf5\uc7a1\ud558\uc5ec \ub7ec\ub2dd\ucee4\ube0c\uac00 \uc0dd\uac01\ubcf4\ub2e4 \ub192\ub2e4\ub294 \uc810\uc774\uc5c8\uace0,\\n\ud504\ub85c\uc81d\ud2b8\uc5d0 \ub9de\uac8c \uc5ec\ub7ec \uc124\uc815 \ubc0f \ud15c\ud50c\ub9bf\uc744 \ucee4\uc2a4\ud140\ud558\uac8c \ub418\uc5c8\ub2e4. \ucee4\uc2a4\ud140\ud558\ub294 \ubd80\ubd84\uc774 \uc788\ub2e4\ub294 \uc18c\ub9ac\ub294 \uc55e\uc73c\ub85c\uc758 \ud504\ub85c\uc81d\ud2b8 \uc6b4\uc601\uc5d0\\n\uc54c\uc544\uc57c\ud558\ub294 \uc810\uc774 \ub9ce\uc544\uc9c4\ub2e4\ub294 \uac83\uc774\ubbc0\ub85c \ubb38\uc11c\ud654\ub098 \ud300 \ub0b4\ubd80\uc5d0 \ucda9\ubd84\ud788 \uacf5\uc720\ub97c \ud558\ub294 \ub4f1 \uc5ec\ub7ec \ub2e8\uacc4\ub4e4\uc774 \ud544\uc694\ud558\ub2e4\ub294 \uc810\uc774\ub2e4.\\n\\n\ud2b9\ud788, 3\ubc88\uc5d0\uc11c \uc11c\uc220\ud558\uc600\ub2e4\uc2dc\ud53c \ud504\ub85c\uc81d\ud2b8 \ud37c\ud3ec\uba3c\uc2a4\ub97c \uc704\ud574\uc11c Optimization\uc744 \uc9c4\ud589\ud558\uc600\ub2e4\uba74 \uc774\uc5d0 \ub300\ud55c \ud788\uc2a4\ud1a0\ub9ac \uacf5\uc720\ub3c4 \ud544\uc694\ud560 \uac83\uc774\ub2e4. \\n\\n### Next\\n\uc790, \uc5ec\uae30\uae4c\uc9c0\uac00 OAS Generator\ub97c \uc0ac\uc6a9\ud558\uba74 \uc5b4\ub5a4 \uc7a5\uc810, \ub2e8\uc810\uc774 \uc788\ub294\uc9c0 \ub300\ub7b5\uc801\uc778 \uc124\uba85\uc774 \ub418\uc5c8\uc73c\ub9ac\ub77c \uc0dd\uac01\ud55c\ub2e4.\\n\uc774\uc81c, \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\uc744 \ud560\uc9c0 \uc54c\uc544\ubcf4\ub294 \uc2dc\uac04\uc744 \uac00\uc9c0\uc790.\\n\\n\\n## OAS Generator \uc0ac\uc6a9 \ubc29\ubc95\\n\uc11c\ub860\uc774 \uae38\uc5c8\ub2e4. \uc774\uc81c OAS Generator\ub97c \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ud558\ub294\uc9c0 \uc124\uba85\ud55c\ub2e4. Custom Template\uc744 \uc81c\uc678\ud55c \uc6a9\ub3c4\ub294 \ub300\ubd80\ubd84 CLI\ub97c \uc0ac\uc6a9\ud558\uace0 \uc124\uc815\uc744 \uc218\uc815\ud558\ub294 \uc815\ub3c4\uc774\ub2e4.\\n\\n[code sandbox](https://codesandbox.io/s/oas-generator-sample-bygm5)\uc5d0\uc11c \uc544\ub798 \uc608\uc2dc\ub85c \ubcf4\uc5ec\uc8fc\ub294 \ucf54\ub4dc\ub97c \ud655\uc778 \ud560 \uc218 \uc788\ub2e4.\\n### 1. yaml \ud30c\uc77c\uc744 \uac00\uc838\uc628\ub2e4.\\nOAS Generator\ub294 local\uc5d0 \uc788\ub294 yaml\ud30c\uc77c\uc744 \uc774\uc6a9\ud574\uc11c \ucf54\ub4dc\ub97c \uc790\ub3d9 \uc0dd\uc131\ud558\ub294 \ubc29\uc2dd\uc774\ub2e4.\\n\ub610\ud55c, 1:1 \ub300\uc751\uc774\ubbc0\ub85c \ud558\ub098\uc758 yaml\ud30c\uc77c\uc5d0\uc11c \ud558\ub098\uc758 code\ub97c \uc0dd\uc131\ud55c\ub2e4. \ub9cc\uc57d API\ubb38\uc11c\uac00 \ub2e4\uc218\uc758 yaml\ud30c\uc77c\uc744 \uac00\uc9c0\uace0 \uc788\ub2e4\uba74\\n\uc9c0\uae08 \uc124\uba85\ud558\ub294 \ud50c\ub85c\uc6b0\ub97c \uc5ec\ub7ec\ubc88 \uc2e4\ud589\ud574\uc57c\ud55c\ub2e4.\\n\\n![usage-1](/assets/oas-generator/usage-1.png)\\n\uc704 \uc608\uc2dc\uc5d0\uc11c\ub294 `petstore.yaml`\ud30c\uc77c\uc744 \uac00\uc838\uc654\ub2e4.\\n\\n### 2. open-api-generator-cli\ub85c code\ub97c generate \ud55c\ub2e4.\\nopen-api-generator-cli\ub97c \uc774\uc6a9\ud574\uc11c template\uacfc input, output path\ub97c \uc9c0\uc815\ud574\uc11c code\ub97c \uc0dd\uc131\ud55c\ub2e4.\\n```shell\\nnpm install @openapitools/openapi-generator-cli\\nopenapi-generator-cli generate -g typescript-axios -i ./src/yaml/petstore.yaml -o ./src/generate\\n```\\n\uc704\uc640 \uac19\uc774 [openapi-generator-cli](https://github.com/OpenAPITools/openapi-generator-cli)\uc5d0 \ub300\ud55c \uc758\uc874\uc131\uc744 \ucd94\uac00\ud558\uace0,\\n`openapi-generator-cli`\ub97c \uc2e4\ud589\ud55c\ub2e4.\\n- `-g`\ub294 generator\ub97c \uc124\uc815\ud558\ub294 \uc635\uc158\uc774\uba70 \uc5ec\uae30\uc11c\ub294 `typescript-axios`\ub97c \uc0ac\uc6a9\ud55c\ub2e4. \\n- `-i`\ub294 input\uc744 \uc758\ubbf8\ud558\uba70 \ud0c0\uac9f\uc774 \ub418\ub294 yaml\ud30c\uc77c \uc704\uce58\ub97c \uc9c0\uc815\ud55c\ub2e4.\\n- `-o`\ub294 \ucf54\ub4dc\ub97c \uc0dd\uc131\ud560 \uc704\uce58\ub97c \uc9c0\uc815\ud55c\ub2e4.\\n\\n\uc704 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 `src/generate` \ub514\ub809\ud1a0\ub9ac \ub0b4\ubd80\uc5d0 \ucf54\ub4dc\ub4e4\uc774 \uc790\ub3d9\uc0dd\uc131\ub41c\ub2e4. \\n![usage-2.png](/assets/oas-generator/usage-2.png)\\n\\n`api.ts` \ub0b4\ubd80\uc5d0\ub294 api request\uc640 response \ud0c0\uc785\uc744 \ud3ec\ud568\ud558\uace0 \uc788\ub294 axios util \ud568\uc218\uc640, type\uc774 \ud568\uaed8 \uc0dd\uc131\ub41c\ub2e4.\\n\\n### 3. Generate \ub41c \ucf54\ub4dc\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\\n\uc774\uc81c\ub294 generate \ub41c \ucf54\ub4dc\ub97c \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4.\\n![usage-3.png](/assets/oas-generator/usage-3.png)\\n\\ntypescript\ub97c \uae30\ubc18\uc73c\ub85c \uc0dd\uc131\ub41c \ucf54\ub4dc\uc774\uae30 \ub54c\ubb38\uc5d0 request\uc640 response\uc758 \ud0c0\uc785\uccb4\ud06c\ub294 \uc131\uacf5\uc801\uc73c\ub85c \uc9c4\ud589\ub41c\ub2e4. \\n`data` \uac1d\uccb4\ub97c \ucc38\uc870\ud588\uc744 \ub54c `Pet` \ub0b4\ubd80 \ud0c0\uc785\uc778 id, name, category \ub4f1\uc744 \uc54c\ub824\uc900\ub2e4. \\n\\n### Next\\n\uc0ac\uc6a9 \ubc29\ubc95\uc744 \uac04\ub2e8\ud788 \uc694\uc57d\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \uac04\ub2e8\ud558\ub2e4.\\n> yaml\ud30c\uc77c \uc900\ube44 -> OAS generator cli \uc2e4\ud589 -> \uc0dd\uc131\ub41c \ucf54\ub4dc \uc0ac\uc6a9.\\n\\n\ud558\uc9c0\ub9cc, \ubaa8\ub4e0 \ub3c4\uad6c\ub4e4\uc774 \uadf8\ub807\ub4ef \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc0ac\uc6a9\ud558\ub824\uba74 \uc0c1\ud669\uc5d0 \ub9de\uac8c \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \ud558\ub294 \uacfc\uc815\uc774 \ud544\uc694\ud558\ub2e4.\\n[\uacf5\uc2dd \ubb38\uc11c](https://openapi-generator.tech/docs/customization)\uc5d0\uc11c\ub294 \uc5ec\ub7ec \ubc29\ubc95\uc758 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \uac00\uc774\ub4dc\uac00 \uc788\uc9c0\ub9cc,\\n\ub0b4\uac00 \uc0ac\uc6a9\ud588\ub358 \uac83\uc740 template\uc744 custom\ud574\uc11c \uc0ac\uc6a9\ud558\ub294 \ubc29\uc2dd\uc774\uc5c8\ub2e4. \uc55e\uc73c\ub85c \uc11c\uc220\ud560 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \ubc29\uc2dd\ub3c4 template\uc744 \ucee4\uc2a4\ud140 \ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud55c \ub0b4\uc6a9\uc774 \uc8fc\ub97c \uc774\ub8ec\ub2e4.\\n\\n## OAS Generator Config\\n\\nOAS generator \uc124\uc815\ub3c4 \uba87\uac00\uc9c0 \uc788\ub2e4. \uc8fc\ub85c [CLI \uc635\uc158](https://openapi-generator.tech/docs/usage#generate)\uacfc\\n[openapitools.json](https://openapi-generator.tech/docs/generators/typescript-axios) \uc124\uc815\ud30c\uc77c\uc758 \uc124\uc815\uc744 \uc870\uc815\ud55c\ub2e4.\\n\\n### OAS Generator \uc124\uc815 - CLI\\n![generator-cli-config.png](/assets/oas-generator/generator-cli-config.png)\\n- `-g`: generator\ub97c \uc124\uc815\ud558\ub294 \uc635\uc158\uc774\uba70 \uc5ec\uae30\uc11c\ub294 `typescript-axios`\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\\n- `-i`: \ub300\uc0c1 yaml \ud30c\uc77c \uc704\uce58\\n- `-o`: \uc0dd\uc131\ub41c \ud30c\uc77c \uc704\uce58 \uacbd\ub85c\\n- `-c`: generator \uc124\uc815 \ud30c\uc77c\\n- `-t`: **\ucee4\uc2a4\ud140 template \uc124\uc815 \ud30c\uc77c \uacbd\ub85c**\\n\\nCLI\ub294 `generate` \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud558\uba70 \uc635\uc158\uc740 \ud06c\uac8c 5\uac00\uc9c0\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\\n`-t` \uc635\uc158\uc740 \ucee4\uc2a4\ud140 \ud15c\ud50c\ub9bf\uc744 \uc9c0\uc815\ud560\ub54c \uc4f0\uc774\ub294\ub370 \uc55e\uc73c\ub85c\uc758 \uae00\uc5d0\uc11c \uc774\uc57c\uae30 \ud560 \uc608\uc815\uc774\ub2e4.\\n\\n### OAS Generator \uc124\uc815 - Config file\\n```json\\n{\\n  \\"$schema\\": \\"node_modules/@openapitools/openapi-generator-cli/config.schema.json\\",\\n  \\"spaces\\": 2,\\n  \\"generator-cli\\": {\\n    \\"version\\": \\"5.3.1\\"\\n  },\\n  \\"supportsES6\\": true,\\n  \\"withSeparateModelsAndApi\\": true,\\n  \\"apiPackage\\": \\"api\\",\\n  \\"modelPackage\\": \\"models\\",\\n  \\"enumPropertyNaming\\": \\"original\\",\\n  \\"enumNameSuffix\\": \\"\\",\\n  \\"useSingleRequestParameter\\": false\\n}\\n```\\n\uc774 \uc124\uc815 \ud30c\uc77c\uc740 CLI \uc635\uc158\uc5d0\uc11c `-c`\uc5d0 \ub4e4\uc5b4\uac00\ub294 \ud30c\uc77c\uc774\uba70, \uc8fc\ub85c generator\uc758 \uc124\uc815 \uac12\uc774 \ub4e4\uc5b4\uac04\ub2e4. \\n\uc774 \uc608\uc2dc\uc5d0\uc11c\ub294 `typescript-axios`\ub97c \uc0ac\uc6a9\ud558\uba70 \uc790\uc138\ud55c \uc635\uc158\uc740 [\uc774\ucabd](https://openapi-generator.tech/docs/generators/typescript-axios/) \uc744 \ucc38\uace0\ud558\uc790.\\n\\n## OAS Generator Template\\n\ubc94\uc6a9\uc131\uc744 \ub744\uace0 \ub9cc\ub4e4\uc5b4\uc9c4 \uc124\uc815\uc778 \uae30\ubcf8 \uc124\uc815\uc744 \uadf8\ub300\ub85c \uc0ac\uc6a9\ud558\uba74 \uc88b\uaca0\uc9c0\ub9cc, \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc0ac\uc6a9\ud55c\ub2e4\uba74 \uc0c1\ud669\uc5d0 \ub9de\uac8c \\n\uc218\uc815\uc744 \ud574\uc57c\ud558\ub294 \ubd80\ubd84\uc774 \uc874\uc7ac\ud55c\ub2e4. [\ubb38\uc11c Customization \uac00\uc774\ub4dc](https://openapi-generator.tech/docs/customization) \ud56d\ubaa9\ub3c4 \uc788\uc9c0\ub9cc,\\n\uc774 \uc911\uc5d0 \uac00\uc7a5 \uc9c1\uc811\uc801\uc73c\ub85c \ub3c4\uc6c0\uc774 \ub418\uc5c8\ub358 \ud56d\ubaa9\uc740 [Retrieving Templates](https://openapi-generator.tech/docs/templating#retrieving-templates), \\n\uc989, \uae30\ubcf8\uc73c\ub85c \ub4f1\ub85d\ub418\uc5b4 \uc788\ub294 Template\uc744 \uac00\uc838\uc640\uc11c \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub9de\uac8c \uc218\uc815\ud574\uc11c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774\ub2e4.\\n\uc9c0\uae08 \uc124\uba85\ud558\ub294 \ubc29\uc2dd\uc740 CLI\uc5d0\uc11c \uae30\uc7ac\ud55c `-t` \uc635\uc158\uc5d0 \ub4e4\uc5b4\uac00\ub294 \ud15c\ud50c\ub9bf\uacfc \ud06c\uac8c \uc5f0\uad00\ub418\uc5b4\uc788\ub2e4.\\n\\n### Custom Template\uc740 \uc5b8\uc81c \uc0ac\uc6a9\ud560\uae4c?\\n\uae30\ubcf8 \uc124\uc815\uc744 \uc0ac\uc6a9\ud558\ub294 Template\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0, \uc774\ub97c \uc218\uc815\ud574\uc11c \uc0ac\uc6a9\ud558\uace0 \uc2f6\uc744 \ub584 \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uc774\ub2e4.\\n\uc608\ub97c \ub4e4\uba74, \uc544\ub798\uc640 \uac19\uc774 `addPet`\uc774\ub098 `deletePet` \uba54\uc18c\ub4dc \uba85 \ub4a4\uc5d0 `Axios` \uac19\uc740 suffix\ub97c \ubd99\uc774\uace0 \uc2f6\ub2e4\uba74 \\ntemplate\uc744 \uc218\uc815\ud558\uba74 \ub41c\ub2e4.\\n\\nimport Tabs from \'@theme/Tabs\';\\nimport TabItem from \'@theme/TabItem\';\\n\\n<Tabs>\\n  <TabItem value=\'before\' label=\'Before using custom template\'>\\n\\n  ```tsx\\n  export class PetApi extends BaseAPI {\\n    public addPet(body: Pet, options?: AxiosRequestConfig) {\\n      return PetApiFp(this.configuration).addPet(body, options).then((request) => request(this.axios, this.basePath));\\n    }\\n\\n    public deletePet(petId: number, apiKey?: string, options?: AxiosRequestConfig) {\\n      return PetApiFp(this.configuration).deletePet(petId, apiKey, options).then((request) => request(this.axios, this.basePath));\\n    }\\n    ...\\n  }\\n  ```\\n\\n  </TabItem>\\n  <TabItem value=\'after\' label=\'After using custom template\'>\\n\\n  ```tsx\\n  export class PetApi extends BaseAPI {\\n    // highlight-next-line\\n    public addPetAxios(body: Pet, options?: AxiosRequestConfig) {\\n      return PetApiFp(this.configuration).addPet(body, options).then((request) => request(this.axios, this.basePath));\\n    }\\n\\n    // highlight-next-line\\n    public deletePetAxios(petId: number, apiKey?: string, options?: AxiosRequestConfig) {\\n      return PetApiFp(this.configuration).deletePet(petId, apiKey, options).then((request) => request(this.axios, this.basePath));\\n    }\\n    ...\\n  }\\n  ```\\n\\n  </TabItem>\\n</Tabs>\\n\\n\ubb3c\ub860 \uac04\ub2e8\ud55c \uc608\uc2dc\uc77c \ubfd0\uc774\uace0, parameter\ub97c \ucd94\uac00\ud55c\ub2e4\uac70\ub098, \ub2e4\ub978 \ud568\uc218\ub97c \ucd94\uac00\ud558\ub294 \ucee4\uc2a4\ud140\ub3c4 \uac00\ub2a5\ud558\ub2e4.\\n\\n### Flow of Custom Template\\n\\n![generate-flow.png](/assets/oas-generator/generate-flow.png)\\n\uc774\uc804\uae4c\uc9c0 \uc124\uba85\ud55c flow\ub294 \uc704\uc640 \uac19\uc774 yaml\ud30c\uc77c\uc5d0\uc11c Axios \ud568\uc218\ub97c \uc0dd\uc131\ud558\ub294 \ud50c\ub85c\uc6b0\uc774\ub2e4.\\n\uc5ec\uae30\uc11c Custom Template\uc744 \ucd94\uac00\ud55c\ub2e4\uba74 \uc544\ub798\uc640 \uac19\uc740 \ub290\ub08c\uc73c\ub85c flow\uac00 \ubcc0\ud55c\ub2e4.\\n\\n![generate-flow-with-custom.png](/assets/oas-generator/generate-flow-with-custom.png)\\nOAS Generator\ub294 yaml\ud30c\uc77c\uc5d0\uc11c JSON \ub370\uc774\ud130\ub97c \ucd94\ucd9c\ud574\ub0b8\ub2e4. \uc774 JSON \ub370\uc774\ud130\ub294 path\ub3c4 \ub4e4\uc5b4\uc788\uace0, method\ub3c4 \ub4e4\uc5b4\uc788\uace0, \\nAPI\uc5d0 \ub300\ud55c \uac01\uc885 \uc815\ubcf4\ub4e4\uc774 \uc788\ub2e4. \uc774 JSON \ub370\uc774\ud130\ub4e4\uc774 Template\uc5d0 \uc8fc\uc785\ub418\uace0 Axios \ud568\uc218\ub85c \uc0dd\uc131\ub41c\ub2e4.\\n\\n\uc5ec\uae30\uc11c \ub2e4\ub8f0 \ucee4\uc2a4\ud140\uc740 Template\uc744 \ubcc0\uacbd\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574\uc11c\uc774\ub2e4.\\n\\n### Template \ud30c\uc77c \uac00\uc838\uc624\uae30\\n```shell\\nopenapi-generator-cli author template -g typescript-axios -o ./mustaches\\n```\\n`openapi-generator`\ub294 `generate` \uc2a4\ud06c\ub9bd\ud2b8 \uc774\uc678\uc5d0 `author` \uc2a4\ud06c\ub9bd\ud2b8\ub3c4 \uc874\uc7ac\ud55c\ub2e4. <br/>\\n`author` \uc2a4\ud06c\ub9bd\ud2b8\ub85c `typescript-axios` \ud15c\ud50c\ub9bf\uc744 \uac00\uc838\uc628\ub2e4\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 template\uc774 \uc0dd\uc131\ub41c\ub2e4.\\n```markdown\\n/mustaches\\n\u3134 api.mustache\\n\u3134 apiinner.mustache\\n\u3134 baseApi.mustache\\n\u3134 common.mustache\\n\u3134 configuration.mustache\\n  ...\\n```\\n\\n\uc774\ub294 `typescript-axios`\ub85c OAS Generator\ub97c \uc2e4\ud589\ud560 \ub54c \uc0ac\uc6a9\ud558\ub294 mustache template\uc774\uba70\\nCLI\uc5d0\uc11c `-t` \uc635\uc158\uc744 \uc8fc\uc9c0 \uc54a\ub294\ub2e4\uba74 \uae30\ubcf8\uc801\uc73c\ub85c \uc6d0\uaca9\uc5d0 \uc788\ub294 \ud574\ub2f9 mustache template\uc744 \uc0ac\uc6a9\ud558\uc5ec generate\ub97c\\n\uc9c4\ud589\ud55c\ub2e4.\\n\\n\uc989, \uc218\uc815\ud558\uace0 \uc2f6\uc740 mustache template\ub9cc \uc218\uc815\ud558\uace0 \ub098\uba38\uc9c0 \uc218\uc815\ud558\uc9c0 \uc54a\uc740 template\uc740 \uc0ad\uc81c\uc2dc\ud0a4\uba74 \uc6d0\uaca9\uc5d0 \uc788\ub294 \uae30\ubcf8 \uc124\uc815\uc744\\n\ub530\ub77c \uacfc\uc815\uc744 \uc9c4\ud589\ud558\ubbc0\ub85c \uad00\ub9ac \uc601\uc5ed\uc744 \uc904\uc77c \uc218 \uc788\ub2e4.\\n\\n### Mustache Template\\n\uc774\uc81c local\ub85c \uac00\uc838\uc628 mustache\ub97c \uc218\uc815\ud560 \uc218 \uc788\uac8c \ub418\uc5c8\ub2e4. \uc774 \ubd80\ubd84\uc5d0\uc11c\ub294 mustache \ubb38\ubc95\uc5d0 \ub300\ud55c \uac04\ub7b5\ud55c \uc774\ud574\uac00 \ud544\uc694\ud558\ubbc0\ub85c, \\nmustache\uc5d0 \uc775\uc219\ud558\uc9c0 \uc54a\ub2e4\uba74 [\uc774 \uae00](https://github.com/janl/mustache.js)\uc744 \uc7a0\uc2dc \ud655\uc778\ud558\ub3c4\ub85d \ud558\uc790. \\n\uc774\ubbf8 \uc644\uc131\ub41c template\uc744 \uc218\uc815\ud558\ub294 \uac83\uc774\ubbc0\ub85c \ubcc0\uc218, Section, Lists, Inverted Sections \uc815\ub3c4\ub9cc \uc77d\uc744 \uc218 \uc788\uc73c\uba74 \ub41c\ub2e4.\\n\\n\uc608\ub97c \ub4e4\uc5b4 [\uc704\uc5d0 \uc18c\uac1c\ud55c \uc608\uc2dc](#custom-template\uc740-\uc5b8\uc81c-\uc0ac\uc6a9\ud560\uae4c)\ub300\ub85c \uc0dd\uc131\ub41c classname\uc5d0 Axios\ub77c\ub294 suffix\ub97c \ubd99\uc774\uace0 \uc2f6\ub2e4\uba74, \\n\uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud558\uba74 \ub41c\ub2e4.\\n\\n<Tabs>\\n  <TabItem value=\'before\' label=\'Before Custom Template\'>\\n\\n```tsx title=apiInner.mustache\\n{{^useSingleRequestParameter}}\\n  public {{nickname}}({{#allParams}}{{paramName}}{{^required}}?{{/required}}: {{{dataType}}}, {{/allParams}}options?: AxiosRequestConfig) {\\n  return {{classname}}Fp(this.configuration).{{nickname}}({{#allParams}}{{paramName}}, {{/allParams}}options).then((request) => request(this.axios, this.basePath));\\n}\\n{{/useSingleRequestParameter}}\\n```\\n\\n  </TabItem>\\n  <TabItem value=\'after\' label=\'After Custom Template\'>\\n\\n```tsx title=apiInner.mustache\\n{{^useSingleRequestParameter}}\\n  // highlight-next-line\\n  public {{nickname}}Axios({{#allParams}}{{paramName}}{{^required}}?{{/required}}: {{{dataType}}}, {{/allParams}}options?: AxiosRequestConfig) {\\n  return {{classname}}Fp(this.configuration).{{nickname}}({{#allParams}}{{paramName}}, {{/allParams}}options).then((request) => request(this.axios, this.basePath));\\n}\\n{{/useSingleRequestParameter}}\\n```\\n\\n  </TabItem>\\n</Tabs>\\n\\n![simple-mustache-custom.png](/assets/oas-generator/custom-template-file-structure.png)\\n\\n\uadf8\ub7f0 \ub2e4\uc74c, \uc218\uc815\ud55c template \ud30c\uc77c\ub9cc \ub0a8\uaca8\ub450\uace0 \uc218\uc815\ud558\uc9c0 \uc54a\uc740 \ub098\uba38\uc9c0 \ud15c\ud50c\ub9bf \ud30c\uc77c\uc744 \uc0ad\uc81c\ud55c\ub2e4. \uc790\ub3d9\uc73c\ub85c \ub85c\uceec\uc5d0 \uc5c6\ub294 \ud30c\uc77c\uc740 \uc6d0\uaca9\uc758 \uae30\ubcf8 \uc124\uc815\uc744 \uc0ac\uc6a9\ud558\uc5ec generate\ud55c\ub2e4.\\n\\n### JSON Data \ud655\uc778\ud558\uae30\\n\uc790 Template\uc744 \ub85c\uceec\ub85c \uac00\uc838\uc624\uae30\ub3c4 \ud588\uace0, template\uc744 \uc218\uc815\ud558\uba74 \ub41c\ub2e4\ub294 \uac83\ub3c4 \uc54c\uc558\ub2e4. \ud558\uc9c0\ub9cc \uc5ec\uc804\ud788 \uc0dd\uae30\ub294 \uad81\uae08\uc99d\uc740 \\n\uc704 template \uc774\ubbf8\uc9c0\uc5d0\uc11c `nickname`\uc774\ub098 `classname`\ubcc0\uc218\uc5d0 \uc5b4\ub5a4 \uac12\uc774 \ub4e4\uc5b4\uac00\ub294\uc9c0 \ubaa8\ub974\ub294 \uac83\uc774\ub2e4.\\n\\n\uc774\uc81c [Flow of Custom Template](#flow-of-custom-template)\uc5d0\uc11c \ub118\uc5b4\uac14\ub358, JSON Data\uc5d0 \ub300\ud574\uc11c \ud655\uc778 \ud574 \ubcfc \ucc28\ub840\ub2e4.\\nTemplate\uc5d0 \uc801\uc808\ud55c \ub370\uc774\ud130\ub97c \uc0ac\uc6a9\ud558\ub824\uba74 yaml\ud30c\uc77c\uc5d0\uc11c \uc5b4\ub5a4 \ub370\uc774\ud130\uac00 \ucd94\ucd9c\ub418\uace0, \uc5b4\ub5a4 \ud615\uc2dd\uc73c\ub85c template\uc5d0 \uc8fc\uc785\ub418\ub294\uc9c0 \uc54c\uc544\ubd10\uc57c\ud55c\ub2e4. \\n\\n```shell\\nopenapi-generator-cli generate  \\\\ \\n  -g typescript-axios  \\\\\\n  -i ./src/yaml/petstore.yaml  \\\\\\n  -o ./src/generate  \\\\\\n  --global-property=debugModels,debugOperations \\\\\\n  > output.txt\\n```\\n\uc5ec\ub7ec \ubc29\ubc95\uc774 \uc788\uc744 \uac83\uc774\ub77c \uc0dd\uac01\ud558\uc9c0\ub9cc \uc704\uc640 \uac19\uc774 CLI\uc635\uc158\uc5d0\uc11c `--global-property=debugModels,debugOperations`\ub97c \uc8fc\uac8c \ub418\uba74 \\nyaml\ud30c\uc77c\ub85c\ubd80\ud130 \uc5b4\ub5a4 \ub370\uc774\ud130\uac00 \ucd94\ucd9c\ub418\ub294\uc9c0 console\uc5d0 \ucd9c\ub825\ub41c\ub2e4. \ub530\ub77c\uc11c `> output.txt` \ub97c \ud1b5\ud574\uc11c text\ud30c\uc77c\ub85c \ud655\uc778\ud558\ub294 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud588\ub2e4.\\n`operations`\uc5d0 \ub300\ud574 \ucd94\ucd9c\ud55c \ub0b4\uc6a9\uc740 \ub300\ub7b5\uc801\uc73c\ub85c \uc544\ub798\uc640 \uac19\uc740 \uc774\ubbf8\uc9c0 \ud615\uc2dd\uc744 \ub530\ub974\uba70, \ud15c\ud50c\ub9bf\uc5d0\uc11c \ubcfc \uc218 \uc788\ub294 `operations`,\\n`classname`, `path`, `httpMethod` \ub4f1 \ub370\uc774\ud130\uac00 \ud3ec\ud568\ub418\uc5b4 mustache template\uc5d0 \uc0ac\uc6a9\ub418\ub294 \uac83\uc744 \uc54c \uc218 \uc788\ub2e4.\\n![json-data.png](/assets/oas-generator/json-data.png)\\n\\n## Custom Template \uc608\uc2dc\\nCustom Template\uc758 \uc0ac\uc6a9 \uc608\ub85c suffix \\"axios\\"\ub97c \ubd99\uc774\ub294 \uac83\uc744 \uac00\uc838\uc654\ub2e4. \ud558\uc9c0\ub9cc \uc774\ud574\ub97c \ub3d5\uae30 \uc704\ud55c \uac04\ub2e8\ud55c \uc608\uc2dc\uc77c \ubfd0\uc774\uace0, \uc2e4\uc81c \uc0ac\uc6a9\uc5d0\ub294 \ub2e4\uc591\ud55c \ubc29\ubc95\uc73c\ub85c\\n\uc751\uc6a9\uc774 \uac00\ub2a5 \ud560 \uac83\uc774\ub2e4. \uc2e4\uc81c \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc0ac\uc6a9\ud588\ub358 \ucee4\uc2a4\ud140 \uc608\uc2dc\ub97c \uac00\uc838\uc640\ubcf4\uc558\ub2e4.\\n\\n\uc804\uccb4 \ucf54\ub4dc\ub97c \ud655\uc778 \ud560 \uc218 \uc5c6\uace0, Template\uacfc \uc0dd\uc131 \ucf54\ub4dc\uc758 \uc77c\ubd80\ubd84\ub9cc \uac00\uc838\uc654\uae30 \ub584\ubb38\uc5d0 \uba85\ud655\ud558\uac8c \uc5b4\ub5bb\uac8c \uad6c\ud604\ub418\ub294\uc9c0 \uc774\ud574\ub418\uc9c0 \uc54a\uc744 \uc218 \uc788\ub2e4.\\n\ud558\uc9c0\ub9cc, \uc544\ub798 \uc608\uc2dc\ub4e4\uc744 \ud558\ub098\uc758 \uac00\ub2a5\uc131\uc73c\ub85c \ubcf4\uace0 Custom Template\uc744 \uc774\uc6a9\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \uac83\ub4e4\uc744 \ud560 \uc218 \uc788\ub2e4\ub294 \uc544\uc774\ub514\uc5b4\ub97c \uc5bb\uc5b4 \uac14\uc73c\uba74 \uc88b\uaca0\ub2e4.\\n\\n### Enum Type\uc744 Union Type\uc73c\ub85c \ubcc0\ud658\\n\\n`typescript-axios`\ud15c\ud50c\ub9bf\uc5d0\uc11c\ub294 \ud0c0\uc785\uc744 \uc815\uc758\ud560 \ub54c typescript\uc758 `Enum`\uc744 \uc0ac\uc6a9\ud55c\ub2e4. \ud558\uc9c0\ub9cc `Enum`\uc740 \uc5ec\ub7ec \uc774\uc720\ub85c \uc0ac\uc6a9\uc744 \uc9c0\uc591\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0\\n\uc774\ub97c Union Type\uc73c\ub85c \ubc14\uafb8\ub294 \uac83\uc744 \uc2dc\ub3c4\ud558\uc600\ub2e4.\\n\\n<Tabs groupId=\\"enum-to-union\\">\\n  <TabItem value=\'before\' label=\'Before Custom Template\'>\\n\\n```tsx title=modelGeneric.mustache\\n{{#vars}}\\n{{#isEnum}}\\n  export enum {{enumName}} {\\n{{#allowableValues}}\\n{{#enumVars}}\\n{{{name}}} = {{{value}}}{{^-last}},{{/-last}}\\n{{/enumVars}}\\n{{/allowableValues}}\\n}\\n{{/isEnum}}\\n{{/vars}}\\n```\\n\\n  </TabItem>\\n  <TabItem value=\'after\' label=\'After Custom Template\'>\\n\\n```tsx title=modelGeneric.mustache\\n{{#vars}}\\n{{#isEnum}}\\n  export type {{enumName}} =\\n{{#allowableValues}}\\n{{#enumVars}}\\n{{{value}}} {{^-last}}|{{/-last}}\\n{{/enumVars}}\\n{{/allowableValues}}\\n{{/isEnum}}\\n{{/vars}}\\n```\\n\\n  </TabItem>\\n</Tabs>\\n\\n\\n<Tabs groupId=\\"enum-to-union\\">\\n  <TabItem value=\'before\' label=\'Before Generated Code\'>\\n\\n```tsx\\nexport enum PetStatusEnum {\\n  Available = \'available\',\\n  Pending = \'pending\',\\n  Sold = \'sold\',\\n}\\n```\\n\\n  </TabItem>\\n  <TabItem value=\'after\' label=\'After Generated Code\'>\\n\\n```tsx\\nexport type PetStatusEnum =\\n  \'available\' |\\n  \'pending\' |\\n  \'sold\'\\n```\\n\\n  </TabItem>\\n</Tabs>\\n\\n### Snake case \ubcc0\uc218 \ub124\uc774\ubc0d\uc744 Camel case \ubcc0\uc218 \ub124\uc774\ubc0d\uc73c\ub85c \ubcc0\ud658\\nServer\uc5d0\uc11c\ub294 \ubcc0\uc218 \ub124\uc774\ubc0d \uaddc\uce59\uc744 snake case\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\uc5c8\uace0, Client\ub294 camel case\ub97c \ubcc0\uc218 \ub124\uc774\ubc0d \uaddc\uce59\uc73c\ub85c \uc0ac\uc6a9\ud558\uace0 \uc788\uc5c8\ub2e4.\\n\uadf8\ub807\uae30 \ub54c\ubb38\uc5d0 OAS \ubb38\uc11c\uc640 \uc2e4\uc81c client\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ubcc0\uc218\uba85\uc774 \ub2ec\ub77c\uc11c \ubc1c\uc0dd\ud558\ub294 \uc560\ub85c\uc0ac\ud56d\uc774 \uc788\uc5c8\ub2e4.\\n\uc774\ub97c, OAS generator\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 [lambdas](https://openapi-generator.tech/docs/templating/#mustache-lambdas)\ub97c \uc0ac\uc6a9\ud558\uc5ec\\nsnake case \ub124\uc774\ubc0d \ubcc0\uc218\ub97c camel case \ub124\uc774\ubc0d \ubcc0\uc218\ub85c \uc77c\uad04 \ubcc0\ud658\ud558\uc600\ub2e4.\\n\\n<Tabs groupId=\\"snake-to-camel\\">\\n  <TabItem value=\'before\' label=\'Before Custom Template\'>\\n\\n  ```tsx title=modelGeneric.mustache\\n    {{#vars}}\\n      \'{{baseName}}\'{{^required}}?{{/required}}: {{#isEnum}}{{{datatypeWithEnum}}}{{/isEnum}}{{^isEnum}}{{{dataType}}}{{#isNullable}} | null{{/isNullable}}{{/isEnum}};\\n    {{/vars}}\\n  ```\\n\\n  </TabItem>\\n  <TabItem value=\'after\' label=\'After Custom Template\'>\\n\\n  ```tsx title=modelGeneric.mustache\\n    {{#vars}}\\n      // highlight-next-line\\n      \'{{#lambda.camelcase}}{{baseName}}{{/lambda.camelcase}}\'{{^required}}?{{/required}}: {{#isEnum}}{{{datatypeWithEnum}}}{{/isEnum}}{{^isEnum}}{{{dataType}}}{{#isNullable}} | null{{/isNullable}}{{/isEnum}};\\n    {{/vars}}\\n  ```\\n\\n  </TabItem>\\n</Tabs>\\n\\n\\n<Tabs groupId=\\"snake-to-camel\\">\\n  <TabItem value=\'before\' label=\'Before Generated Code\'>\\n\\n```tsx\\nexport interface User {\\n  id: number;\\n  username: string;\\n  first_name: string;\\n  last_name: string;\\n  email: string;\\n  password: string;\\n  phone: string;\\n  user_status: number;\\n}\\n```\\n\\n  </TabItem>\\n  <TabItem value=\'after\' label=\'After Generated Code\'>\\n\\n```tsx\\nexport interface User {\\n  id: number;\\n  username: string;\\n  // highlight-next-line\\n  firstName: string;\\n  // highlight-next-line\\n  lastName: string;\\n  email: string;\\n  password: string;\\n  phone: string;\\n  // highlight-next-line\\n  userStatus: number;\\n}\\n```\\n\\n  </TabItem>\\n</Tabs>\\n\\n### \ud15c\ud50c\ub9bf\uc758 \uc720\ud2f8 \ud568\uc218 \uc218\uc815\\n`typescript-axios`\uc5d0\uc11c \uacf5\ud1b5\uc73c\ub85c \uc0ac\uc6a9\ud558\ub294 utility \ud568\uc218\uc758 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \ub85c\uc9c1\uc744 \uc81c\uc678\ub97c \ud558\uace0 \ucf54\ub4dc \uc0dd\uc131\uc744 \ud558\uc600\ub2e4.\\n\uc608\ub97c \ub4e4\uc5b4, serialize\ub294 \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc0ac\uc6a9 \ud560 \ud544\uc694\uac00 \uc5c6\uc5c8\uace0, \uc544\ub798\uc640 \uac19\uc774 \uc218\uc815\ud558\uc5ec serialize \ub85c\uc9c1\uc744 \uc81c\uc678\ud558\uc600\ub2e4.\\n\\n\\n<Tabs groupId=\\"custom-util-func\\">\\n  <TabItem value=\'before\' label=\'Before Custom Template\'>\\n\\n```tsx title=common.mustache\\nexport const serializeDataIfNeeded = function (value: any, requestOptions: any, configuration?: Configuration) {\\n  const nonString = typeof value !== \'string\';\\n  const needsSerialization = nonString && configuration && configuration.isJsonMime\\n    ? configuration.isJsonMime(requestOptions.headers[\'Content-Type\'])\\n    : nonString;\\n  return needsSerialization\\n    ? JSON.stringify(value !== undefined ? value : {})\\n    : (value || \\"\\");\\n}\\n```\\n\\n  </TabItem>\\n  <TabItem value=\'after\' label=\'After Custom Template\'>\\n\\n```tsx title=modelGeneric.mustache\\nexport const serializeDataIfNeeded = function (value: any, requestOptions: any, configuration?: Configuration) {\\n  const nonString = typeof value !== \'string\';\\n  // highlight-next-line\\n  const needsSerialization = false;\\n  return needsSerialization\\n    ? JSON.stringify(value !== undefined ? value : {})\\n    : (value || \\"\\");\\n}\\n```\\n\\n  </TabItem>\\n</Tabs>\\n\\n\\n<Tabs groupId=\\"custom-util-func\\">\\n  <TabItem value=\'before\' label=\'Before Generated Code\'>\\n\\n```tsx\\nexport const serializeDataIfNeeded = function (value: any, requestOptions: any, configuration?: Configuration) {\\n  const nonString = typeof value !== \'string\';\\n  const needsSerialization = nonString && configuration && configuration.isJsonMime\\n    ? configuration.isJsonMime(requestOptions.headers[\'Content-Type\'])\\n    : nonString;\\n  return needsSerialization\\n    ? JSON.stringify(value !== undefined ? value : {})\\n    : (value || \\"\\");\\n}\\n```\\n\\n  </TabItem>\\n  <TabItem value=\'after\' label=\'After Generated Code\'>\\n\\n```tsx\\nexport const serializeDataIfNeeded = function (value: any, requestOptions: any, configuration?: Configuration) {\\n  const nonString = typeof value !== \'string\';\\n  // highlight-next-line\\n  const needsSerialization = false;\\n  return needsSerialization\\n    ? JSON.stringify(value !== undefined ? value : {})\\n    : (value || \\"\\");\\n}\\n```\\n\\n  </TabItem>\\n</Tabs>\\n\\n## \ucd5c\uc801\ud654 \uc774\uc57c\uae30\\n\\nOAS Generator \uc7a5\ub2e8\uc810\ub3c4 \uc774\ud574\ud558\uc600\uace0, \uc0ac\uc6a9\ubc95\uacfc \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \ubc29\ubc95\ub3c4 \uc774\ud574\ub97c \ud558\uc600\ub2e4. \uadf8\ub807\ub2e4\uba74 \ube7c\ub193\uc744 \uc218 \uc5c6\ub294 \uc774\uc57c\uae30\ub294 \ucd5c\uc801\ud654\uc774\ub2e4.\\n\uc88b\uc740 \ub3c4\uad6c\ub97c \uc801\uc6a9\ud558\uc600\uace0, \uadf8 \ub3c4\uad6c\uac00 \ubc88\uac70\ub85c\uc6c0\uc744 \uc904\uc5ec\uc8fc\uace0 \uac1c\ubc1c \uc548\uc815\uc131\uc744 \ub192\uc5ec\uc8fc\uc9c0\ub9cc \uc131\ub2a5\uc5d0 \uc545\uc601\ud5a5\uc744 \uc900\ub2e4\uba74 \uc27d\uc0ac\ub9ac \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub2e4.\\n\\nOAS Generator\ub294 \ud06c\uac8c bundle size\uc640 \uc601\ud5a5\uc774 \uc788\ub2e4. OAS Generator\ub97c \uc0ac\uc6a9\ud558\uc600\uc744 \ub54c \ucf54\ub4dc\ub7c9\uc774 \ub298\uc5b4\ub098\uace0, \uadf8\uac83\uc774 bundle size\uc758 \uc99d\uac00\ub85c \uc774\uc5b4\uc9c4\ub2e4\uba74\\n\uc720\uc800\uac00 \uc6f9 \ud398\uc774\uc9c0\ub97c \ub2a6\uac8c \ubcf4\uac8c\ub41c\ub2e4. \ub530\ub77c\uc11c \ubc18\ub4dc\uc2dc \uccb4\ud06c\ud574\uc57c\ud55c\ub2e4.\\n\\n\ub0b4\uac00 \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc801\uc6a9\ud588\uc744 \ub54c\uc758 \uc774\uc57c\uae30\ub97c \ud558\uc790\uba74, \ud504\ub85c\uc81d\ud2b8\uc5d0\ub294 10\uac1c \uc815\ub3c4\uc758 yaml\ud30c\uc77c\uc774 \uc788\uc5c8\uace0 \uac01\uac01\uc758 yaml\ud30c\uc77c\uc774 \ud558\ub098\uc758 \uae30\ub2a5\uc744 \ub2f4\ub2f9\ud558\ub294 \uc0c1\ud669\uc774\uc5c8\ub2e4.\\n\uc774\ub97c \uae30\ub2a5\ubcc4\ub85c \ud558\ub098\uc529 \uc810\uc9c4\uc801\uc73c\ub85c \uc801\uc6a9\ud558\ub2e4\ubcf4\ub2c8 Generated code\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \uc6a9\ub7c9\uc744 \uac00\uc9c0\uac8c \ub418\uc5c8\ub2e4.\\n\\n![bundle-size-before](/assets/oas-generator/bundle-size-before.png)\\n\\n\uae30\ub2a5 1\uac1c\ub97c \uc801\uc6a9\ud588\uc744\ub54c generated code\ub294 gzip \uae30\uc900\uc73c\ub85c 20KB\uc758 \uc6a9\ub7c9\uc744 \uac00\uc9c0\uace0 \uc788\uc5c8\uace0,\\n\uae30\ub2a5 2\uac1c\uae4c\uc9c0 \uc801\uc6a9\ud588\uc744\ub54c\ub294 63KB\uc758 \uc6a9\ub7c9\uc744 \uac00\uc9c0\uace0 \uc788\uc5c8\ub2e4.\\n\ub2f9\uc2dc \ud504\ub85c\uc81d\ud2b8\uc758 \uc804\uccb4 gzip \uc6a9\ub7c9\uc774 560KB \uc815\ub3c4\uc600\ub2e4\ub294 \uac83\uc744 \uac10\uc548\ud558\uba74 \uc804\uccb4\uc758 11% \uc815\ub3c4\uc758 \uc6a9\ub7c9\uc744 \uc99d\uac00\uc2dc\ud0a4\ub294 \uce58\uba85\uc801\uc778 \uc0c1\ud0dc\uc600\ub2e4.\\n\uc2ec\uc9c0\uc5b4, \ubaa8\ub4e0 \uae30\ub2a5\uc5d0 \ub300\ud574\uc11c \uc801\uc6a9\uc744 \ud55c \uac83\uc774 \uc544\ub2c8\uc5c8\uae30 \ub54c\ubb38\uc5d0 \uc55e\uc73c\ub85c\uc758 \uc6a9\ub7c9\uc740 \uc0b0\uc220\uc801\uc73c\ub85c \ub298\uc5b4\ub0a0 \uac83\uc774\ub77c \uc608\uc0c1 \ud560 \uc218 \uc788\uc5c8\ub2e4.\\n\\n### \ud574\uacb0 1: \ucf54\ub4dc\uc758 \ucd1d\ub7c9\uc744 \uc904\uc774\uc790.\\n\uccab\ubc88\uc9f8 \uc2dc\ub3c4\ub294 \ucf54\ub4dc\uc758 \uc591\uc744 \uc904\uc774\ub294 \ubc29\ubc95\uc774\ub2e4. generate, \ucf54\ub4dc\ub97c \uc790\ub3d9\uc0dd\uc131\ud558\ub294 \ud2b9\uc131\uc0c1 \ud15c\ud50c\ub9bf \ud55c \uc904\uc774 \uc218\uc2ed\uac1c\uc758 \uc0dd\uc131\ub41c \ucf54\ub4dc\uc5d0 \uc601\ud5a5\uc744 \uc8fc\uc5c8\uace0,\\n\uc774\uac83\uc740 \uc804\uccb4\uc801\uc778 \ucf54\ub4dc\ub7c9, bundle size\uc758 \uc99d\uac00\ub85c \uc774\uc5b4\uc84c\ub2e4. \ub530\ub77c\uc11c required \ubcc0\uc218\uc758 \uac00\ub4dc \ub85c\uc9c1\uc774\ub098, \ud504\ub85c\uc81d\ud2b8\uc5d0\uc11c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 header \uc124\uc815\uacfc \uac19\uc740 \ubd80\ubd84\uc744 \uc81c\uac70\ud558\uc600\uace0,\\n\ub610\ud55c, OAS Generator\uc5d0\uc11c \ubc18\ubcf5 \uc0dd\uc131\ud558\ub294 \ub3d9\uc77c\ud55c common \ucf54\ub4dc\uc5d0 \ub300\ud574\uc11c\ub294 \uc790\ub3d9 \uc0dd\uc131\ud558\uc9c0 \uc54a\uace0 \ud504\ub85c\uc81d\ud2b8 \ub0b4\ubd80\ub85c \uc62e\uaca8 \uacf5\ud1b5 \ud568\uc218\ub85c \uc0ac\uc6a9\ud558\ub294 \ub4f1 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud558\uc600\ub2e4.\\n\\n![bundle-size-solution-1](/assets/oas-generator/bundle-size-solution-1.png)\\n\\n\uc774\ub7f0 \ud574\uacb0\ubc29\ubc95\uc73c\ub85c 63KB\uc5d0\uc11c 34KB\ub85c \uc57d 53%\uc758 \uc6a9\ub7c9\uc73c\ub85c \uc904\uc77c \uc218 \uc788\uc5c8\ub2e4. \ud504\ub85c\uc81d\ud2b8 \ubcc4\ub85c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc744 \ucf54\ub4dc\ub294 \ub2e4\ub974\uae30 \ub54c\ubb38\uc5d0 \uc904\uc5b4\ub4dc\ub294 \uc815\ub3c4\ub294 \ub2e4\ub974\uaca0\uc9c0\ub9cc,\\ntemplate\uc5d0\uc11c \ubd88\ud544\uc694\ud55c \ub85c\uc9c1\uc744 \uc81c\uac70\ud558\ub294 \uac83\uc73c\ub85c\ub3c4 bundle size\ub97c \uc904\uc774\ub294 \ub370 \ud6a8\uacfc\uac00 \uc788\uc5c8\ub2e4\ub294 \uc810 \ucc38\uace0\ubc14\ub780\ub2e4.\\n\\n### \ud574\uacb0 2: Tree shaking\\n\ucf54\ub4dc \uc591\uc740 \uc904\uc77c \ub9cc\ud07c \uc904\uc600\ub2e4. \ud558\uc9c0\ub9cc \uc544\uc9c1 bundle size\ub97c \ub354 \uc904\uc77c \ubc29\ubc95\uc774 \ub0a8\uc544\uc788\uc5c8\ub2e4. \ubc14\ub85c tree shaking \uc774\ub2e4.\\nAPI \ubb38\uc11c\uc5d0 \uae30\uc7ac\ub418\uc5b4\uc788\ub294 \ubaa8\ub4e0 API\ub97c \uc4f4\ub2e4\uba74 \uad73\uc774 tree shaking\uc744 \uace0\ub824 \ud560 \ud544\uc694\uac00 \uc5c6\uaca0\uc9c0\ub9cc \uc6b0\ub9ac \ud504\ub85c\uc81d\ud2b8\ub294 \uadf8\ub807\uc9c0 \uc54a\uc558\ub2e4.\\n\ub530\ub77c\uc11c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 API \ucf54\ub4dc\ub3c4 bundle\uc5d0 \ud3ec\ud568\ub41c\ub2e4\uba74 \ubd88\ud544\uc694\ud55c \ucf54\ub4dc\uac00 \ud3ec\ud568\uc774 \ub418\uace0 \uc788\ub294 \uac83\uc774\uba70 \uc774\ub294 \uac1c\uc120\uc774 \uac00\ub2a5\ud55c \uc810\uc774\ub77c\uace0 \ubcfc \uc218 \uc788\ub2e4.\\n\uc774\ub294 bundler \ubc0f \uc0ac\uc6a9\ud658\uacbd\uc5d0 \ub530\ub77c\uc11c \ub2e4\ub974\uaca0\uc9c0\ub9cc \ub0b4\uac00 \uacbd\ud5d8\ud588\ub358 \ud504\ub85c\uc81d\ud2b8\ub294 webpack v5\ub97c \uc0ac\uc6a9\ud558\uc5ec build\ub97c \uc9c4\ud589\ud558\uace0 \uc788\uc5c8\uace0, webpack v5\ub294 \ud30c\uc77c \ub2e8\uc704\uac00 \uc544\ub2cc,\\n\ubcc0\uc218\ub2e8\uc704\ub85c [tree shaking](https://webpack.js.org/guides/tree-shaking/)\uc744 \uc9c4\ud589\ud558\uace0 \uc788\uc5b4\uc11c tree shaking\uc774 \uc798 \ub418\uace0 \uc788\ub2e4\uace0 \uc0dd\uac01\ud588\uc9c0\ub9cc \uc2e4\uc0c1\uc740 \uc544\ub2c8\uc5c8\ub2e4.\\n\uc65c\ub0d0\ud558\uba74 API\ub4e4\uc774 \uac01\uac01\uc758 \ubcc0\uc218\ub85c \uc0dd\uc131\ub418\ub294 \uac83\uc774 \uc544\ub2cc \ud558\ub098\uc758 \uac1d\uccb4, class \uc544\ub798\uc5d0 method \ud615\ud0dc\ub85c \uc0dd\uc131\ub418\uace0 \uc788\uc5c8\uae30 \ub54c\ubb38\uc774\ub2e4.\\n\\nwebpack v5\ub294 \uac01\uac01\uc758 \ubcc0\uc218\ub294 tree shaking\uc744 \uc9c0\uc6d0\ud574\uc11c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \ubcc0\uc218\ub294 bundle\uc5d0\uc11c \uc81c\uc678\ub97c \ud558\uc600\uc9c0\ub9cc \uac1d\uccb4 \ub0b4\uc5d0 \uc874\uc7ac\ud558\ub294 key / value\ub294 \uadf8\ub807\uc9c0 \ubabb\ud588\ub2e4.\\n\ub530\ub77c\uc11c \uae30\uc874 \uac1d\uccb4 \ud558\ub098\uc5d0 \ubaa8\ub4e0 API \ud638\ucd9c \ud568\uc218\uac00 \ub4e4\uc5b4\uc788\ub358 \uad6c\uc870\uc5d0\uc11c \uac01 API \ud638\ucd9c \ud568\uc218\uac00 \uac01\uac01\uc758 \ubcc0\uc218\ub85c \ubd84\ub9ac\ub418\uc5b4\uc788\ub294 \uad6c\uc870\ub85c \ubcc0\uacbd\ud558\uc600\ub2e4.\\n\uc774 \ubcc0\uacbd\uc5d0\ub3c4 Template\uc744 Custom \ud558\ub294 \ubc29\ubc95\uc73c\ub85c \uc9c4\ud589\ud558\uc600\ub2e4.\\n\\n<Tabs>\\n  <TabItem value=\'before\' label=\'Before Generated Code\'>\\n\\n```tsx\\nexport const PetStoreApi {\\n  getPet: () => { ... },\\n  postPet: () => { ... },\\n}\\n```\\n\\n  </TabItem>\\n  <TabItem value=\'after\' label=\'After Generated Code\'>\\n\\n```tsx\\nexport const petStoreGetPet = () => { ... }\\nexport const petStorePostPet = () => { ... }\\n```\\n\\n  </TabItem>\\n</Tabs>\\n\\n![bundle-size-tree-shaking](/assets/oas-generator/bundle-size-tree-shaking.png)\\n\\nTree shaking\uae4c\uc9c0 \uc9c4\ud589\ud558\uace0 \ub098\ub2c8 34KB\uc5d0\uc11c 25KB \uc815\ub3c4\ub85c \uc6a9\ub7c9\uc774 \uc904\uc5c8\ub2e4.\\n\ube44\uc728\ub85c\ub294 \ud06c\uac8c \uac1c\uc120\ub418\uc9c4 \uc54a\uc558\uc9c0\ub9cc \uc55e\uc73c\ub85c\uc758 \ucd94\uac00 \uad6c\ud604\uc5d0\ub3c4 \uaf2d \ud544\uc694\ud55c \ucf54\ub4dc\ub9cc \ud3ec\ud568 \ub41c\ub2e4\ub294 \uac78 \ubcf4\uc7a5 \ud560 \uc218 \uc788\uc5c8\ub2e4.\\n\\n### Result\\nOAS\ub85c \uc778\ud55c bundle-size \ucd5c\uc801\ud654\ub294 \uc5ec\uae30\uae4c\uc9c0\uc774\ub2e4. \ub9c8\uc9c0\ub9c9 \uacb0\uacfc\ub9cc \ubcf4\uc790\uba74 OAS Generated code\uac00 25KB\ub97c \ucc28\uc9c0\ud574\uc11c \uc0c1\ub2f9\ud788 \ub9ce\uc740 \uac83 \ucc98\ub7fc \ubcf4\uc774\ub294\ub370,\\n\uc804\uccb4 \ud504\ub85c\uc81d\ud2b8 bundle-size\ub97c \ube44\uad50\ud574\ubcf4\uba74 \ub2e4\uc74c\uacfc \uac19\uc558\ub2e4.\\n![bundle-size-total](/assets/oas-generator/bundle-size-total.png)\\n\\nOAS\ub97c \uc544\uc608 \uc801\uc6a9\ud558\uc9c0 \uc54a\uc558\uc744\ub54c\ub294 567KB \uc815\ub3c4\ud558\ub358 \ud504\ub85c\uc81d\ud2b8\uac00 OAS \uc801\uc6a9 \uc774\ud6c4\uc5d0\ub294 572KB \uc815\ub3c4\ub85c \ubbf8\ubbf8\ud55c \uc99d\uac00\ub97c \ubcfc \uc218 \uc788\uc5c8\ub2e4.\\n\ub530\ub77c\uc11c, OAS\ub97c \uc801\uc6a9\ud558\ub354\ub77c\ub3c4 \uc801\uc808\ud55c \ucd5c\uc801\ud654 \ubc0f \ubd84\uc11d \uacfc\uc815\uc744 \uc9c4\ud589\ud55c\ub2e4\uba74 \ud06c\uac8c \uc6a9\ub7c9\uc740 \ubb38\uc81c \ub418\uc9c0 \uc54a\ub294\ub2e4\ub294 \uacb0\ub860\uc744 \ub0b4\ub838\ub2e4.\\n\\n## Recap\\n- OAS Generator\ub294 API \ubb38\uc11c\ub97c \uac1c\ubc1c \ucf54\ub4dc(.ts)\ub85c \ubcc0\ud658\ud574\uc8fc\ub294 \ub3c4\uad6c\uc774\ub2e4.\\n- \uc774\ub97c \uc0ac\uc6a9\ud558\uba74 \ud734\uba3c\uc5d0\ub7ec\ub97c \uc904\uc774\uace0, \ud0c0\uc785\uc744 \uc0dd\uc131\ud558\ub294 \ub4f1 \uc218\ub3d9\uc73c\ub85c \uc791\uc5c5\ud574\uc57c\ud560 \ub9ac\uc18c\uc2a4\ub97c \uc904\uc5ec\uc900\ub2e4.\\n- `yaml \ud30c\uc77c -> oas-generator-cli -> generated code` \uc21c\uc11c\ub85c \ucf54\ub4dc\ub97c \uc790\ub3d9 \uc0dd\uc131\ud55c\ub2e4.\\n- OAS Generator\ub294 \ucf54\ub4dc template\uc744 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ub9de\uac8c \ucee4\uc2a4\ud140\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.\\n- OAS Generator\uc5d0 \ub300\ud574\uc11c \ucd5c\uc801\ud654\ub97c \uc9c4\ud589\ud558\uc9c0 \uc54a\uc73c\uba74 bundle size\uc5d0 \ud070 \uc190\ud574\ub97c \ubcfc \uc218 \uc788\uc73c\uba70, \ucd5c\uc801\ud654\ub97c \uc9c4\ud589\ud558\uba74 \uac71\uc815\uc774 \ud544\uc694 \uc5c6\uc744 \uc815\ub3c4\ub85c \uac1c\uc120\ub41c\ub2e4."},{"id":"deep-dive-to-immer","metadata":{"permalink":"/deep-dive-to-immer","source":"@site/blog/2021-10-23-deep-dive-to-immer.md","title":"immer \ub0b4\ubd80 \uc0b4\ud3b4\ubcf4\uae30","description":"redux\uc5d0\uc11c \uc8fc\ub85c \uc0ac\uc6a9\ub418\ub294 immer\ub294 mutable\ud55c \uac1d\uccb4 \uc5c5\ub370\uc774\ud2b8\ub97c immutable\ud558\uac8c \uc0ac\uc6a9\ud558\ub294 \uac83 \ucc98\ub7fc \ub3c4\uc640\uc900\ub2e4. \uc5b4\ub5bb\uac8c \uc774\ub7f0 \ub85c\uc9c1\uc774 \uac00\ub2a5\ud55c\uac78\uae4c?","date":"2021-10-23T00:00:00.000Z","formattedDate":"2021\ub144 10\uc6d4 23\uc77c","tags":[{"label":"redux","permalink":"/tags/redux"},{"label":"redux-toolkit","permalink":"/tags/redux-toolkit"},{"label":"immer","permalink":"/tags/immer"},{"label":"library","permalink":"/tags/library"},{"label":"how-to-work","permalink":"/tags/how-to-work"},{"label":"deep-dive","permalink":"/tags/deep-dive"},{"label":"javascript","permalink":"/tags/javascript"},{"label":"web","permalink":"/tags/web"},{"label":"immutable","permalink":"/tags/immutable"}],"readingTime":44.83,"hasTruncateMarker":true,"authors":[{"name":"Hyunmo Ahn","title":"Front End Engineer @ Line Biz+","url":"https://github.com/HyunmoAhn","imageURL":"https://github.com/HyunmoAhn.png","key":"HyunmoAhn"}],"frontMatter":{"slug":"deep-dive-to-immer","title":"immer \ub0b4\ubd80 \uc0b4\ud3b4\ubcf4\uae30","description":"redux\uc5d0\uc11c \uc8fc\ub85c \uc0ac\uc6a9\ub418\ub294 immer\ub294 mutable\ud55c \uac1d\uccb4 \uc5c5\ub370\uc774\ud2b8\ub97c immutable\ud558\uac8c \uc0ac\uc6a9\ud558\ub294 \uac83 \ucc98\ub7fc \ub3c4\uc640\uc900\ub2e4. \uc5b4\ub5bb\uac8c \uc774\ub7f0 \ub85c\uc9c1\uc774 \uac00\ub2a5\ud55c\uac78\uae4c?","keywords":["redux","redux-toolkit","immer","immutable","javascript","deep-dive","how-to-work","web"],"authors":"HyunmoAhn","tags":["redux","redux-toolkit","immer","library","how-to-work","deep-dive","javascript","web","immutable"]},"prevItem":{"title":"Front-end\uc5d0\uc11c OAS generator\ub97c \uc5b4\ub5bb\uac8c \uc4f0\uba74 \uc88b\uc744\uae4c?","permalink":"/how-to-use-oas-generator"},"nextItem":{"title":"redux-devtools\uc758 time-travel-debugging \ud1ba\uc544\ubcf4\uae30","permalink":"/how-to-time-travel-debugging-at-redux-devtools"}},"content":"\uc774 \uae00\uc740 \uae30\ubcf8\uc801\uc73c\ub85c [immer](https://immerjs.github.io/immer/)\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\ub294 \uc2dc\uac04\uc744 \uac00\uc9c4\ub2e4. \ub9cc\uc57d immer\ub97c \uc798 \ubaa8\ub974\ub294 \ubd84\ub4e4\uc740 [\uc544\ub798 \ucc55\ud130](#immer\ub294-\ubb34\uc5c7\uc774\uace0-\uc65c-\uc0ac\uc6a9\ud558\ub294\uac78\uae4c)\ub97c \uba3c\uc800 \uc77d\uc5b4\ubcf4\ub294 \uac83\uc744 \uad8c\uc7a5\ud55c\ub2e4.\\n\\n## \ubb34\uc5c7\uc774 \uad81\uae08\ud560\uae4c?\\n\\n:::tip Question\\nQ1. `immer`\ub294 \uac1d\uccb4 mutable\ud558\uac8c \ubc14\uafb8\ub294 \ubc29\uc2dd\uc744 \uc5b4\ub5bb\uac8c immutable\ud55c \ubc29\uc2dd\uc73c\ub85c \ubc14\uafb8\uc5b4\uc8fc\uace0 \uc788\uc744\uae4c? \\n:::\\nimmer\ub294 mutable\ud558\uac8c \ubcc0\uacbd\ud558\ub294 \uac1d\uccb4 built-in method\ub97c \uc0ac\uc6a9\ud558\ub354\ub77c\ub3c4 immutable\ud558\uac8c \ub370\uc774\ud130\ub97c \ubc18\ud658\ud574\uc8fc\ub294 \uae30\ub2a5\uc744 \ud55c\ub2e4. \uc774 \uae30\ub2a5\uc774 \ub0b4\ubd80\uc801\uc73c\ub85c \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \uc774\ub8e8\uc5b4\uc9c0\ub294\uc9c0 \uc54c\uc544\ubcf8\ub2e4.\\n\\n\uc544\ub798 \ucf54\ub4dc \uc608\uc2dc\ub294 [immer \uacf5\uc2dd \ubb38\uc11c](https://immerjs.github.io/immer/#a-quick-example-for-comparison)\uc5d0 \uc874\uc7ac\ud558\ub294 basic example\uc744 \uac00\uc838\uc628 \uac83\uc774\ub2e4.\\n```tsx\\nimport produce from \'immer\';\\n\\nconst baseState = [\\n  { \\n    title: \\"Learn TypeScript\\", \\n    done: true,\\n  },\\n  { \\n    title: \\"Try Immer\\", \\n    done: false,\\n  },\\n]\\n\\nconst nextState = produce(baseState, (draft) => {\\n  draft.push({ title: \\"Tweet about It\\" });\\n  draft[1].done = true;\\n})\\n\\nconsole.log(baseState === nextState) // false\\nconsole.log(nextState)\\n/*\\n[\\n  { \\n    title: \\"Learn TypeScript\\", \\n    done: true,\\n  },\\n  { \\n    title: \\"Learn TypeScript\\", \\n    done: true,\\n  },\\n  { \\n    title: \\"Tweet about It\\",\\n  },\\n]\\n*/\\n```\\n\\n:::tip Question\\nQ2. `immer`\ub294 \uc5b4\ub5bb\uac8c structural sharing\uc744 \uc0ac\uc6a9\ud558\ub294\uac78\uae4c?\\n\\n*`structural sharing`: \uac1d\uccb4\ub97c copy\ud560 \ub54c \ubcc0\uacbd\ub418\uc9c0 \uc54a\uc740 \uac1d\uccb4\ub294 reference\ub97c \ub3d9\uc77c\ud558\uac8c \uc0ac\uc6a9\ud558\ub294 \ubc29\uc2dd.\\n:::\\n\\n\uac1d\uccb4\ub97c immutable\ud558\uac8c \uc5c5\ub370\uc774\ud2b8 \ud55c\ub2e4\ub294 \uac83\uc740 \uae30\uc874 \uac1d\uccb4\ub97c \uc0c8\ub85c\uc6b4 \uac1d\uccb4\ub85c \ubcf5\uc0ac\ud55c\ub2e4\ub294 \uac83\uc774\ub2e4. \uc989, \ubcf5\uc0ac\uc5d0 \ube44\uc6a9\uc774 \ubc1c\uc0dd\ud55c\ub2e4. \\nimmer\ub294 \uac1d\uccb4\ub97c \ubcf5\uc0ac\ud560 \ub54c, \ubcc0\uacbd\ub418\uc9c0 \uc54a\uc740 reference\ub294 \uc7ac\uc0ac\uc6a9\ud558\ub294 structural sharing \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud574\uc11c \uac1d\uccb4\ub97c \ubcf5\uc0ac\ud55c\ub2e4. \\nimmer\uc5d0\uc11c\ub294 \uc5b4\ub5a4\ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud574\uc11c structural sharing\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub294\uc9c0 \uc54c\uc544\ubcf8\ub2e4.\\n\\n:::tip Question\\nQ3. immer\uc5d0\uc11c\ub294 produce\ud568\uc218 \ub0b4\uc5d0\uc11c draft\ub97c \uc9c1\uc811 \uc5c5\ub370\uc774\ud2b8\ud558\ub294 \ubc29\uc2dd\uc774 \uc544\ub2c8\ub77c return\uc744 \ud1b5\ud574\uc11c \ub370\uc774\ud130\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\ub294\ub370, \uc774\ub7f0 \uacbd\uc6b0\uc5d0 \ub85c\uc9c1\uc774 \ub2e4\ub978\uc9c0?\\n:::\\n\\nimmer\ub97c \uc0ac\uc6a9\ud560 \ub54c, \uc704\uc5d0\uc11c \uc81c\uc2dc\ud55c mutable\ud55c \uac1d\uccb4 \ubcc0\uacbd \ubc29\uc2dd\uc774 \uc544\ub2cc, \uc0c8\ub85c\uc6b4 \uac1d\uccb4\ub97c \ub9ac\ud134\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\ub2e4.\\n\uc774\ub294 immer\uc640\ub294 \ubb34\uad00\ud558\uac8c immutable\ud558\uac8c Javascript\uc5d0\uc11c \uac1d\uccb4\ub97c \ubc18\ud658\ud574\uc8fc\ub294 \ubc29\uc2dd\uacfc \ub3d9\uc77c\ud558\ub2e4.\\nimmer\uc5d0\uc11c\ub294 \uc774\ub7ec\ud55c \ubc29\uc2dd\uc744 [\uacf5\uc2dd\uc801\uc73c\ub85c \ud5c8\uc6a9](https://immerjs.github.io/immer/return)\ud558\uace0 \uc788\uace0 \\n\ub450 \ubc29\uc2dd, mutable\ud558\uac8c \uac1d\uccb4\ub97c \ubcc0\uacbd\ud558\ub294 \ubc29\uc2dd\uacfc immutable\ud558\uac8c \uac1d\uccb4\ub97c \ubcc0\uacbd\uc2dc\ud0a4\ub294 \ubc29\uc2dd \ubaa8\ub450 \ud63c\uc6a9\ud574\uc11c \uc4f0\ub294 \uac1c\ubc1c\uc790\ub3c4 \ub9ce\uc744 \uac83 \uc774\ub2e4. \\n\uc774\ub7ec\ud55c \ubc29\uc2dd \ucc28\uc774\ub294 immer\uc5d0\uc11c \uc5b4\ub5a4 \ub85c\uc9c1\ucc28\uc774\ub97c \ubc1c\uc0dd\uc2dc\ud0a4\ub294\uc9c0 \uc54c\uc544\ubcf8\ub2e4. \\n\\n```tsx\\n// mutable method\\nconst nextState = produce(baseState, (draft) => {\\n  draft.push({ title: \\"Tweet about It\\" });\\n  draft[1].done = true;\\n})\\n\\n// highlight-start\\n// immutable method\\nconst nextState = produce(baseState, (draft) => {\\n  return {\\n    ...baseState,\\n    { ...baseState[1], done: true },\\n    { title: \\"Tweet about It\\" },\\n  }\\n})\\n// highlight-end\\n```\\n\\n\\n:::info \uc0ac\uc804\uc9c0\uc2dd\\n- immer \ud639\uc740 redux-toolkit\uc744 \uc0ac\uc6a9\ud574 \ubcf8 \uacbd\ud5d8\\n- [Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy)\uc5d0 \ub300\ud55c \uc774\ud574 (optional)\\n:::\\n\\n\x3c!--truncate--\x3e\\n\\n## Immer\ub294 \ubb34\uc5c7\uc774\uace0, \uc65c \uc0ac\uc6a9\ud558\ub294\uac78\uae4c?\\n\\n***immer\ub97c \uc65c \uc0ac\uc6a9\ud558\ub294\uc9c0 \uc798 \uc774\ud574\ud558\uace0 \uc788\ub2e4\uba74 \uc9c0\ub8e8\ud55c \uc774\uc57c\uae30\uac00 \ub420 \uc218 \uc788\ub2e4. \uc54c\uace0 \uc788\ub2e4\uba74 [\ub2e4\uc74c \ucc55\ud130\ub85c \ub118\uc5b4\uac00\uc790](#\uc0ac\uc6a9\ubc95).***\\n\\n[immer](https://immerjs.github.io/immer/)\ub780 \ubb34\uc5c7\uc778\uac00? immer \uacf5\uc2dd \ubb38\uc11c\uc5d0\uc11c\uc758 \uc18c\uac1c \ubb38\uad6c\ub97c \uac00\uc838\uc640\ubcf4\uc790.\\n\\n> `Immer` (German for: always) is a tiny package that allows you to work with immutable state in a more convenient way.\\n\\nimmer\ub294 javascript\uc5d0\uc11c data\uac00 immutable\ud558\uac8c \uc5c5\ub370\uc774\ud2b8 \ub418\ub294 \uac83\uc744 \ubcf4\uc7a5\ud574\uc8fc\ub294 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc774\ub2e4.\\n\\n\uadf8\ub807\ub2e4\uba74 immer\ub294 \uc5b4\ub514\uc11c \uc4f0\uc774\uace0 \uc788\uc744\uae4c? <br/>\\nredux\uc758 style guide\uc5d0\uc11c\ub294 [redux-toolkit\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc744 \uad8c\uc7a5](https://ko.redux.js.org/style-guide/style-guide#use-redux-toolkit-for-writing-redux-logic)\ud558\uace0 \uc788\uace0 immutable data \uad00\ub9ac\ub97c \uc704\ud574\uc11c\ub294\\n[immer\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774 \uc88b\ub2e4\uace0 \uad8c\uc7a5](https://ko.redux.js.org/style-guide/style-guide#use-immer-for-writing-immutable-updates)\ud558\uace0 \uc788\ub2e4. \\n\ubb3c\ub860 [redux-toolkit](https://redux-toolkit.js.org/)\uc5d0\ub294 immer\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\uc73c\ubbc0\ub85c redux-toolkit\uc744 \\n\uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4\uba74 \uc774\ubbf8 redux\uc5d0 immer\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \uac83\uc774\ub2e4.\\n\\n\uc65c immutable data\ub97c \uc0ac\uc6a9\ud574\uc57c\ud558\ub294\uac00\ub294 [redux\uc758 FAQ\ud56d\ubaa9](https://ko.redux.js.org/style-guide/style-guide#use-immer-for-writing-immutable-updates)\uc744 \ucc38\uace0\ud558\ub294 \uac83\uc774 \uc88b\ub2e4. <br/>\\n\ub0b4\uc6a9\uc744 \uac04\ub7b5\ud558\uac8c \uc124\uba85\ud558\uc790\uba74, \ub2e4\uc74c\uacfc \uac19\ub2e4. <br/>\\njavascript\uc5d0\uc11c\ub294 primitive\ud55c \ud0c0\uc785\uc758 \ubcc0\uc218(number, string, etc)\ub97c \uc81c\uc678\ud558\uba74 \ubaa8\ub450 mutable\ud55c \uc18d\uc131\uc744 \uac00\uc9c4\ub2e4. \\nnon-primitive\ud55c \ud0c0\uc785\uc740 object, array\uc640 \uac19\uc740 \uac83\ub4e4\uc774 \uc788\ub2e4. \\nnon-primitive\ud55c \ud0c0\uc785\uc758 \ubcc0\uc218\ub294 \ubcc0\uacbd\ub418\uc5b4\ub3c4 \ubcc0\uc218\uc758 reference\uac00 \ubc14\ub00c\uc9c0 \uc54a\ub294\ub2e4. \ub530\ub77c\uc11c object \ub0b4\ubd80\uac00 \ubcc0\uacbd\ub418\ub354\ub77c\ub3c4 reference\uac00 \ubcc0\uacbd\ub418\uc9c0 \uc54a\ub294 \uac83\uc774\ub2e4.\\n\\n```tsx\\nlet primitive = 5;\\nlet primitive2 = primitive;\\n\\nconsole.log(primitive === primitive2) // true\\nprimitive2 = 10;\\n\\nconsole.log(primitive === primitive2) // false\\n\\n\\nlet nonPrimitive = { a: 5 };\\nlet nonPrimitive2 = nonPrimitive;\\n\\nconsole.log(nonPrimitive === nonPrimitive2) // true\\n\\nnonPrimitive2.b = 10;\\n\\nconsole.log(nonPrimitive === nonPrimitive2) // true\\nconsole.log(nonPrimitive) \\n// { a: 5, b: 10 }  \\n```\\n[redux](https://redux-saga.js.org/)\uc5d0\uc11c\ub294 shallow equality checking\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4. shallow equality checking\uc740 \ub370\uc774\ud130\uac00 \ub3d9\uc77c\ud55c\uc9c0 \ube44\uad50\ud560 \ub54c, \\n\ub370\uc774\ud130 \ub0b4\ubd80\uac00 \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0\ub97c \ud655\uc778\ud558\ub294 \uac83\uc774 \uc544\ub2c8\ub77c \ub370\uc774\ud130\uc758 reference\uac00 \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0\ub9cc \uccb4\ud06c\ub97c \ud558\uace0 \ub3d9\uc77c\ud558\uba74 \ubcc0\uacbd\ub418\uc9c0 \uc54a\uc558\ub2e4\uace0 \ud310\ub2e8\ud558\ub294 \uac83\uc774\ub2e4.\\n\\n\ub9cc\uc57d deep equality checking\uc744 \uc0ac\uc6a9\ud558\uba74 \ubaa8\ub4e0 \uac1d\uccb4\ub97c \ud558\ub098\uc529 \ube44\uad50\ud574\uc57c\ud558\uae30 \ub54c\ubb38\uc5d0 \uc131\ub2a5\uc0c1 \uc190\ud574\ub97c \ubcf4\uac8c\ub41c\ub2e4. \\n\uadf8\ub798\uc11c object\uac12\uc744 \ubcc0\uacbd\ud560 \ub54c reference\ub3c4 \ubcc0\uacbd\ub418\ub294 \uac83\uc744 \ubcf4\uc7a5\ud558\ub294 immutable data\ub97c \uc0ac\uc6a9\ud558\uac8c \ub418\uc5c8\uace0 \uc5b4\ub5a4 \ubcc0\uacbd\uc774\ub354\ub77c\ub3c4 \uac1d\uccb4\uac00 immutable\ud568\uc744 \ubcf4\uc7a5\ud574\uc8fc\ub294 immer\ub97c \uc0ac\uc6a9\ud558\uac8c \ub418\ub294 \uac83\uc774\ub2e4.\\n\\n\ub9cc\uc57d \ub530\ub85c immer\ub97c \uc758\uc2dd\uc801\uc73c\ub85c \uc0ac\uc6a9\ud55c \uc801\uc774 \uc5c6\ub354\ub77c\ub3c4, redux\ub97c \uc0ac\uc6a9\ud558\ub294\ub370 redux-toolkit\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4\uba74\\n\uc774\ubbf8 immer\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \uac83\uc774\ub2e4.\\n\\n## \uc0ac\uc6a9\ubc95\\nimmer\uc758 \ub0b4\ubd80\ub97c \ud655\uc778\ud558\uae30 \uc804\uc5d0 immer\ub97c \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ud558\ub294\uc9c0 \ud55c\ubc88 \ud655\uc778\ud574\ubcf4\uc790.\\n\ub2e4\uc74c\uc740 [immer docs](https://immerjs.github.io/immer/#a-quick-example-for-comparison)\uc5d0 \ub098\uc640 \uc788\ub294 \uc608\uc81c\uc774\ub2e4.\\n\\n- baseState\ub97c immutable\ud558\uac8c \ubcc0\uacbd\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud55c \ube44\uad50.\\n```tsx\\nconst baseState = [\\n  {\\n    title: \\"Learn TypeScript\\",\\n    done: true\\n  },\\n  {\\n    title: \\"Try Immer\\",\\n    done: false\\n  }\\n]\\n```\\n```tsx\\n// without immer\\nconst nextState = baseState.slice()\\n\\nnextState[1] = { \\n  ...nextState[1], \\n  done: true, \\n}\\nnextState.push({ title: \'Tweet about it\' })\\n```\\n```tsx\\n// with immer\\nimport produce from \\"immer\\"\\n\\nconst nextState = produce(baseState, draft => {\\n    draft[1].done = true\\n    draft.push({ title: \\"Tweet about it\\" })\\n})\\n```\\nimmer\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc73c\uba74 \ubcf5\uc0ac \u2192 \uc5c5\ub370\uc774\ud2b8 \uacfc\uc815\uc744 \uc9c4\ud589\ud558\uace0, \uc774 \uacfc\uc815\uc5d0\uc11c mutable\ud558\uac8c \ubcc0\uacbd\ub418\uc9c4 \uc54a\ub294\uc9c0 \ud655\uc778\ud574\uc57c\ud558\ub294 \ubc18\uba74, \\nimmer\uc758 `produce` \ub97c \uc0ac\uc6a9\ud558\uba74 \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \uc0ac\uc6a9\ud558\ub354\ub77c\ub3c4 data\uac00 immutable\ud558\ub2e4\ub294 \uac83\uc744 \ubcf4\uc7a5 \ud560 \uc218 \uc788\ub2e4.\\n\\n\ub9cc\uc57d immer\ub97c \uc9c1\uc811 \uc0ac\uc6a9\ud574 \ubcf8 \uc801 \uc5c6\uace0, [redux-toolkit](https://redux-toolkit.js.org/)\uc744 \uc0ac\uc6a9\ud574\uc11c redux\ub97c \uc0ac\uc6a9\ud558\uc600\ub2e4\uba74 immer\ub97c \uc774\ubbf8 \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \uac83\uc774\ub2e4.\\n\uc798 \ubaa8\ub974\uaca0\ub2e4\uba74 redux-toolkit\uc5d0\uc11c state\ub97c mutation\ud558\ub294 [\ubc29\ubc95\uc5d0 \ub300\ud55c \ubb38\uc11c](https://redux-toolkit.js.org/api/createReducer#direct-state-mutation)\ub97c \uc77d\uc5b4\ubcf4\uc790.\\n\\n## deep-dive \uc804 immer\uc5d0 \ub300\ud574\uc11c\\n\uba3c\uc800 immer\uc758 \uc6d0\ub9ac\ub97c \uc774\uc57c\uae30 \ud574\ubcfc \uc608\uc815\uc774\ub2e4. \\n\uc5ec\uae30\uc11c \uc124\uba85\ud558\ub294 \ub0b4\uc6a9\uc740 [immer\uc758 \ubb38\uc11c](https://immerjs.github.io/immer/#how-immer-works)\uc640 \ubb38\uc11c\uc758 FAQ\uc5d0 \ub9c1\ud06c\ub418\uc5b4 \uc788\ub294 \\n[blog \uae00](https://medium.com/hackernoon/introducing-immer-immutability-the-easy-way-9d73d8f71cb3#3bff) \uc744 \ucc38\uace0\ud558\uba74 \ub354 \uc27d\uac8c \uc774\ud574\ud560 \uc218 \uc788\uc744 \uac83\uc774\ub2e4.\\n\\n### immer\ub294 \uc6d0\ub798 \uac1d\uccb4\ub97c \ubcc0\uacbd\uc2dc\ud0a4\uc9c0 \uc54a\ub294\ub2e4.\\nimmer\ub294 \uac1d\uccb4\ub97c \uc9c1\uc811 \ubcc0\uacbd\ud558\uc9c0 \uc54a\uace0 original data(`base_`)\ub97c \uadf8\ub300\ub85c \ub450\uace0, copy data(`copy_`)\ub97c \uc0dd\uc131\ud558\uace0 \ubcc0\uacbd\ud558\ub294 \ub3d9\uc791\uc744 \uc9c4\ud589\ud55c\ub2e4. \\n\uc774\ub7f0 \uc6d0\ub9ac\ub97c \uc774\uc6a9\ud574\uc11c \uae30\uc874 \ub370\uc774\ud130\ub97c \ubcc0\uacbd\ud558\uc9c0 \uc54a\uc740 \ucc44 \ubcc0\uacbd\ub41c \ub370\uc774\ud130\ub97c \ub9ac\ud134\ud55c\ub2e4.\\n\\n### immer\ub294 \uac1d\uccb4\uac00 \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0\ub97c \uae30\ub85d\ud55c\ub2e4.\\nimmer\ub294 \uac1d\uccb4\ub97c \ubcc0\uacbd\ud560 \ub54c modified flag\ub97c `true`\ub85c \uc124\uc815\ud55c\ub2e4. \\n\ub9cc\uc57d \uac1d\uccb4 \ud2b8\ub9ac\uc758 \uae4a\uc219\ud55c \uacf3\uc774 \ubcc0\uacbd\ub418\uc5c8\ub2e4\uba74 \ubcc0\uacbd\ub41c \uc790\uc2e0\uc744 \ud3ec\ud568\ud558\uc5ec root \ud2b8\ub9ac\uae4c\uc9c0 modified flag\ub97c \ubcc0\uacbd\ud558\uc5ec root\uc5d0\uc11c\ub3c4 \uac1d\uccb4 \ud2b8\ub9ac\uc758 \ub05d\uae4c\uc9c0 \uc21c\ud68c\ud560 \uc218 \uc788\ub3c4\ub85d \uc870\uc815\ud55c\ub2e4.\\n\\n\uac1d\uccb4 \ubcc0\uacbd\uacfc\uc815\uc744 \ub9c8\uce5c \ub4a4\uc5d0\ub294 modified flag\ub97c \ud655\uc778\ud558\uc5ec \ubcc0\uacbd\ub41c \uac1d\uccb4\ub4e4\ub9cc copy data(`copy_`)\ub97c \uc0ac\uc6a9\ud558\uace0 \\nmodified \ub418\uc9c0 \uc54a\uc558\ub2e4\uba74 original data(`base_`)\ub97c \uc0ac\uc6a9\ud574\uc11c \uae30\uc874 reference\ub97c \uc7ac\uc0ac\uc6a9\ud568\uc73c\ub85c\uc368 structural share\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\\n\\n### Recap\\n\uc989, \uc815\ub9ac\ud558\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 3\uc904\ub85c \uc815\ub9ac\ub41c\ub2e4.\\n\\n- original data\uc640 copy data 2\uac00\uc9c0 \uac1d\uccb4\ub97c \uad00\ub9ac\ud558\uc5ec \uc6d0\ubcf8\uc744 \ubcf4\uc874\ud558\uace0 copy data\ub9cc \ubcc0\uacbd\ud55c\ub2e4.\\n- \ubcc0\uacbd\ud55c \uac1d\uccb4\ub294 modified flag\ub97c \ucf1c\uc11c root tree\uc5d0\uc11c leaf tree\uae4c\uc9c0 \uc21c\ud68c\ud560 \uc218 \uc788\ub3c4\ub85d \ud55c\ub2e4.\\n- \ubcc0\uacbd\uc774 \uc644\ub8cc\ub41c \ub4a4 modifed flag\ub97c \uc774\uc6a9\ud574\uc11c \uc0c8 \uac1d\uccb4\uc640 \uae30\uc874 \uac1d\uccb4\ub97c \ud569\uc131\ud558\ub294 \uacfc\uc815\uc744 \uc9c4\ud589\ud55c\ub2e4.\\n\\n\\n## Deep dive to immer\\n\uc790, immer\ub85c deep dive \ud574\ubcf4\uc790. <br/>\\nimmer \ub85c\uc9c1\uc744 \ud655\uc778\ud574\ubcf4\ub824\uba74 usage\uc5d0\uc11c \uc0ac\uc6a9\ud588\ub358 `produce` \ud568\uc218\ub97c \uba3c\uc800 \uc0b4\ud3b4\ubd10\uc57c\ud55c\ub2e4.\\n\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/immer.ts#L23-L45\\nconst immer = new Immer();\\nexport const produce = immer.produce;\\nexport default produce;\\n```\\nproduce\ud568\uc218\ub294 `Immer` \ud074\ub798\uc2a4\uc758 \uba54\uc18c\ub4dc \ud568\uc218\uc774\ub2e4. `Immer` class \uc548\uc744 \uc0b4\ud3b4\ubcf4\uc790.\\n\\nproduce\ud568\uc218\uc5d0\uc11c curring \ud568\uc218 \ub300\uc751\uacfc \uc5ec\ub7ec \uc608\uc678 \ucf00\uc774\uc2a4\ub97c \uc81c\uc678\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \ucd95\uc18c\ub41c\ub2e4.\\n\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/core/immerClass.ts#L66-L122\\nexport class Immer {\\n  produce: (base, recipe) => { \\n    let result;\\n\\n    const scope = enterScope(this);\\n    const proxy = createProxy(this, base, undefined);\\n    \\n    result = recipe(proxy);\\n\\n    return processResult(result, scope);     \\n  }\\n}\\n```\\n`produce` \ud568\uc218\uac00 \uc0dd\uac01\ubcf4\ub2e4 \uac04\ub2e8\ud558\ub2c8, \uc5ec\uae30\uc11c produce \ud568\uc218 \ub85c\uc9c1\uc758 \uc21c\uc11c\ub97c \uc9da\uace0 \ub118\uc5b4\uac00\uc790.\\n1. `produce` \ud568\uc218\ub294 \uae30\uc874 \uac1d\uccb4(`base`)\uc640 \uac1d\uccb4\ub97c \uc5b4\ub5bb\uac8c \ubcc0\uacbd\uc2dc\ud0ac\uc9c0 \uacb0\uc815\ud558\ub294 \ud568\uc218(`recipe`)\ub97c \uc778\uc790\ub85c \ubc1b\ub294\ub2e4.\\n2. `scope`\ub97c \uc0dd\uc131\ud55c\ub2e4.\\n3. `proxy`\ub97c \uc0dd\uc131\ud55c\ub2e4.\\n4. `proxy`\ub97c \uc774\uc6a9\ud574\uc11c `recipe`\ub97c \uc2e4\ud589\uc2dc\ud0a8\ub2e4.\\n5. `processResult`\ub97c \uc774\uc6a9\ud574\uc11c \uc5c5\ub370\uc774\ud2b8 \ub41c \ucd5c\uc885 \uac1d\uccb4\ub97c \ub9ac\ud134\ud55c\ub2e4.\\n\\n\uc5ec\uae30\uc11c \uc758\ubb38\uc744 \uac00\uc838\uc57c\ud558\ub294 \uc810\uc740 mutable\ud558\uac8c \ubcc0\uacbd\uc2dc\ud0a4\ub294 \ub85c\uc9c1\uc774 `recipe`\uc5d0 \ud3ec\ud568\ub418\uc5b4 \uc788\uace0 `recipe`\ub294 \ub2e8\uc21c\ud788 \ud638\ucd9c\ub420 \ubfd0\uc774\ub77c\ub294 \uac83\uc774\ub2e4. \\n\ud558\uc9c0\ub9cc `recipe` \ub0b4\ubd80\uc758 mutable\ud55c \ubcc0\uacbd\ub85c\uc9c1\uc740 \ub300\uc0c1 \uac1d\uccb4\ub97c \uc9c1\uc811 \ubcc0\uacbd\ud558\uc9c0 \uc54a\uace0 immutable\uc744 \ubcf4\uc7a5\uc2dc\ucf1c\uc900\ub2e4.\\n\\n\ube44\ubc00\uc740 `proxy`\uc5d0 \uc788\uc744 \uac83 \uac19\ub2e4. \uc2e4\uc81c\ub85c `proxy`\ub97c \ub9cc\ub4e4 \ub54c [new Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy)\ub97c\\n\uc0ac\uc6a9\ud558\uace0 \uc788\uace0, \uc774 `new Proxy`\uac00 immer\uc758 \uc8fc\uc694 \ub85c\uc9c1\uc5d0 key point\ub85c \uc791\uc6a9\ud55c\ub2e4.\\n\\n\ucc28\uadfc\ucc28\uadfc \ud558\ub098\uc529 \uc0b4\ud3b4\ubcf4\uc790.\\n\\n### scope\\nscope\ub294 immer \uc804\uc5ed\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc815\ubcf4\ub4e4\uc744 \uc800\uc7a5\ud558\ub294 \uac1d\uccb4\uc774\ub2e4. immer\uc758 \uae30\ubcf8\ub3d9\uc791\uc5d0\ub294 \ud06c\uac8c \uc4f0\uc774\uc9c0 \uc54a\uc73c\ubbc0\ub85c \uc5b4\ub5a4 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\uace0 \uc788\ub294\uc9c0\ub9cc \ud6d1\uace0 \ub118\uc5b4\uac00\uc790.\\n\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/core/scope.ts#L33-L46\\nfunction createScope(\\n  parent_: ImmerScope | undefined,\\n  immer_: Immer\\n): ImmerScope {\\n  return {\\n    drafts_: [],\\n    parent_,\\n    immer_,\\n    canAutoFreeze_: true,\\n    unfinalizedDrafts_: 0\\n  }\\n}   \\n```\\n`drafts_`\ub294 \ub098\uc911\uc5d0 \ub9cc\ub4dc\ub294 `proxy` \ub97c \uc0dd\uc131\ud560 \ub54c \ud558\ub098\uc529 \ub2f4\uae30\ub294 \ubc30\uc5f4\uc774\uace0 `immer_`\ub294 immer \ud074\ub798\uc2a4\ub97c \ub2f4\ub294 \uacf5\uac04\uc774\ub2e4.\\n\\n### proxy\\nimmer\uc758 \ud575\uc2ec\uc774 \ub418\ub294 `proxy`\uc5d0 \ub300\ud574\uc11c \ud655\uc778\ud574\ubcf4\uc790.\\n\\nimmer\uc5d0\uc11c\ub294 Object \ubfd0 \uc544\ub2c8\ub77c Array, Map, Set \uadf8\ub9ac\uace0 Proxy\ub97c \uc4f0\uc9c0 \ubabb\ud558\ub294 \uacbd\uc6b0(ES5)\uae4c\uc9c0 \ub300\uc751\ud558\ubbc0\ub85c \ucf54\ub4dc\uac00 \ubcf5\uc7a1\ud574\ubcf4\uc774\ub294\ub370,\\nObject\ub9cc\uc73c\ub85c \ud55c\uc815\ud574\uc11c \ubcf8\ub2e4\uba74 \ub85c\uc9c1\uc774 \uc870\uae08 \uac04\ub2e8\ud574\uc9c4\ub2e4.\\n\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/core/immerClass.ts#L212-L229\\nexport function createProxy(immer, value, parent) {\\n  const draft = createProxyProxy(value, parent);\\n  const scope = getCurrentScope();\\n  \\n  scope.drafts_.push(draft);\\n  return draft;\\n}\\n```\\nproxy\ub97c \uc5b4\ub5bb\uac8c \ub9cc\ub4dc\ub294\uc9c0\ub294 `createProxyProxy` \ud568\uc218\ub97c \ud55c\ubc88 \ub354 \ub4e4\uc5b4\uac00\uc57c \ud655\uc778\ud560 \uc218 \uc788\uaca0\uc9c0\ub9cc, \\n\uc5ec\uae30\uc11c \uc8fc\ubaa9\ud560 \uc810\uc740 `scope.drafts_` \uc5d0 \uc0dd\uc131\ud55c proxy\ub97c \ub123\uc5b4\ub454\ub2e4\ub294 \uac83\uc774\ub2e4. \ub9e8 \ucc98\uc74c \ub9cc\ub4e0 proxy\uac00 root proxy\uc774\uae30 \ub54c\ubb38\uc5d0 \\n\ub098\uc911\uc5d0 rootProxy\ub97c \ud68d\ub4dd\ud560 \ub54c `scope.drafts_[0]`\ub97c \ucc38\uc870\ud560 \uc608\uc815\uc774\ub2e4.\\n\\n\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/core/proxy.ts#L50-L95\\nexport function createProxyProxy(base, parent) {\\n  const state = {\\n    ...\\n    scope_: getCurrentScope(),\\n    modified_: false,\\n    finalized_: false,\\n    parent_: parent,\\n    base_: base,\\n    draft_: null,\\n    copy_: null,\\n    ...\\n  }\\n\\n  const target = state;\\n  const traps = objectTraps\\n  const { revoke, proxy } = Proxy.revocable(target, traps);\\n  state.draft_ = proxy;\\n  state.revoke_ = revoke\\n  \\n  return proxy;\\n} \\n```\\n`createProxyProxy`\uc5d0\uc11c\ub294 immer \ub3d9\uc791\uc5d0 \uc0ac\uc6a9\ud560 \uc5ec\ub7ec \uba54\ud0c0 \ub370\uc774\ud130\ub4e4\uacfc \uc0c8 `Proxy`\uac1d\uccb4\ub97c \uc0dd\uc131\ud55c\ub2e4.\\nimmer\uc5d0\uc11c \uc4f0\uc774\ub294 \uba54\ud0c0\ub370\uc774\ud130\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \uc815\ub9ac\ub41c\ub2e4.\\n- `base_`: \uae30\uc874 data. produce\uc5d0\uc11c \uccab\ubc88\uc9f8 \uc778\uc790\ub85c \ub4e4\uc5b4\uc654\uc73c\uba70 \ubcc0\uacbd\ub418\uae30 \uc774\uc804 \uc6d0\ubcf8 \ub370\uc774\ud130\ub97c \uc5ec\uae30\uc5d0 \uc800\uc7a5\ud55c\ub2e4.\\n- `copy_`: \uc5c5\ub370\uc774\ud2b8 \ub41c data. \uc6d0\ubcf8 \ub370\uc774\ud130\uc640 `recipe`\ub97c \uc774\uc6a9\ud574\uc11c \uc5c5\ub370\uc774\ud2b8 \ub41c \ub370\uc774\ud130\ub97c \uc5ec\uae30\uc5d0 \uc800\uc7a5\ud55c\ub2e4. \uc544\uc9c1\uc740 \uc544\ubb34 \ub370\uc774\ud130\ub3c4 \uc800\uc7a5\ub418\uc5b4 \uc788\uc9c0 \uc54a\ub2e4.\\n- `draft_`: `draft_` \ub294 \uc5ec\uae30\uc11c \uc0dd\uc131\ub418\ub294 `Proxy` \uac1d\uccb4\ub97c \uc800\uc7a5\ud55c\ub2e4. \uc55e\uc73c\ub85c\uc758 \ub85c\uc9c1\uc5d0\uc11c `draft_.base_`\ub098 `draft_.copy_`\uc640 \uac19\uc740 \ubc29\ubc95\uc73c\ub85c \ub370\uc774\ud130\ub97c \ucc38\uc870\ud558\uac8c \ub41c\ub2e4.\\n- `modified_`: \uac1d\uccb4\uac00 \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0 \uc5ec\ubd80\ub97c \uc800\uc7a5\ud55c\ub2e4. \uae30\ubcf8 \uac12\uc740 \uac1d\uccb4\uac00 \ubcc0\uacbd\ub418\uc9c0 \uc54a\uc558\uc73c\ubbc0\ub85c `false` \uc774\ub2e4.\\n- `finalized_`: proxy\uac00 \uc5c5\ub370\uc774\ud2b8\uac00 \uc644\ub8cc\ub418\uc5b4 return \ub420 \uc900\ube44\uac00 \ub418\uc5c8\ub294\uc9c0\ub97c \uc800\uc7a5\ud55c\ub2e4. \uae30\ubcf8 \uac12\uc740 \uac1d\uccb4\uac00 \uc900\ube44 \uc911\uc774\ubbc0\ub85c `false` \uc774\ub2e4. \\n- `parent_`: \uac1d\uccb4\ub294 multi depth\ub85c \uad6c\uc131\ub420 \uc218 \uc788\ub2e4. \ub9cc\uc57d \uac1d\uccb4\uac00 \ud2b8\ub9ac \ud615\ud0dc\ub85c \uad6c\uc131\ub41c\ub2e4\uba74 \ubd80\ubaa8 \uac1d\uccb4\ub97c \uc774 \uacf3\uc5d0 \uc800\uc7a5\ud558\uac8c \ub41c\ub2e4. root proxy\uc5d0\uc11c\ub294 \ubd80\ubaa8\uac00 \uc5c6\ub2e4.\\n\\n\uc8fc\uc694 \uba54\ud0c0\ub370\uc774\ud130\ub4e4\uc740 \uc704\uc5d0\uc11c \uc815\ub9ac\ud55c \uc815\ub3c4\uc774\ub2e4. \uba54\ud0c0 \ub370\uc774\ud130\uc758 \uae30\ubcf8 \uac12\uc744 \uc124\uc815\ud558\uace0 `Proxy.revocable`\uacfc `traps`\ub97c \uc774\uc6a9\ud574\uc11c Proxy \uac1d\uccb4\ub97c \uc0dd\uc131\ud55c\ub2e4. Proxy\uc5d0 \ub300\ud574\uc11c\ub294 \ub2e4\uc74c \ucc55\ud130\uc5d0\uc11c \uc54c\uc544\ubcf4\uc790.\\n\\n:::info \uc6a9\uc5b4 \uc815\ub9ac\\n### proxy? Proxy?\\n\uc55e\uc73c\ub85c immer\uc5d0\uc11c meta \ub370\uc774\ud130\ub97c \ud3ec\ud568\ud574\uc11c `new Proxy` \uac1d\uccb4\ub97c \ud3ec\ud568\ud558\ub294 \ubcc0\uc218 `proxy`\ub97c \uc5b8\uae09\ud558\uae30\ub3c4 \ud558\uace0,\\n\uc6a9\uc5b4 \uadf8\ub300\ub85c Javascript\uc5d0\uc11c object\uc5d0 \ub300\ud55c \uc5ec\ub7ec \uae30\ubcf8 \ub3d9\uc791\uc744 \uc81c\uc5b4\ud558\uae30 \uc704\ud55c \uac1d\uccb4 `Proxy`\ub97c \uc5b8\uae09\ud558\uae30\ub3c4 \ud560 \uc608\uc815\uc774\ub2e4.\\n\uacf5\uad50\ub86d\uac8c\ub3c4 \ub450 \uc6a9\uc5b4\uac00 \\"\ud504\ub85d\uc2dc\\" \ub85c \ub3d9\uc77c\ud55c \uc6a9\uc5b4\uc774\uae30 \ub54c\ubb38\uc5d0 \uc774 \uae00\uc5d0\uc11c\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 `p` \ub300, \uc18c\ubb38\uc790 \uc720\ubb34\ub85c \uad6c\ubd84\ud574\uc11c \uc0ac\uc6a9\ud560 \uc608\uc815\uc774\ub2e4.\\n- `proxy`: immer\uc5d0\uc11c \uc0dd\uc131\ud55c \uba54\ud0c0 \ub370\uc774\ud130\uc640 `new Proxy`\ub85c \uc0dd\uc131\ud55c draft\ub97c \ud3ec\ud568\ud558\uace0 \uc788\ub294 \uac1d\uccb4.\\n- `Proxy`: javascript\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 built-in \uac1d\uccb4. Object\uc758 \uc5ec\ub7ec \uae30\ubcf8 \ub3d9\uc791\uc744 \uc81c\uc5b4\ud558\uae30 \uc704\ud55c \uac1d\uccb4\ub85c \uc4f0\uc778\ub2e4.\\n:::\\n\\n### new Proxy\\n***\uc774\ubc88 \ucc55\ud130\uc5d0\uc11c\ub294 [new Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy)\uac00\\n\uc5b4\ub5a4 \uac83\uc778\uc9c0 \uc54c\uc544\ubcf4\ub294 \uc2dc\uac04\uc744 \uac00\uc9c8 \uac83\uc774\ub2e4. Proxy\uc5d0 \ub300\ud574 \uc775\uc219\ud558\ub2e4\uba74 [\ub2e4\uc74c \ucc55\ud130\ub85c \ub118\uc5b4\uac00\ub3c4 \ubb34\uad00\ud558\ub2e4](#traps-of-immer).***\\n\\n\uc6b0\ub9ac\ub294 \uc774\uc804 \ucc55\ud130\uc5d0\uc11c `Proxy.revocable` \uc744 \uc774\uc6a9\ud574\uc11c Proxy \uac1d\uccb4\ub97c \ub9cc\ub4e4\uc5c8\ub2e4.\\n\\n[MDN \ubb38\uc11c](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy)\uc5d0\uc11c Proxy\uc5d0 \ub300\ud574 \uc815\uc758\ud55c \ub0b4\uc6a9\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n\\n> The Proxy object enables you to create a proxy for another object, which can intercept and redefine fundamental operations for that object.\\n\\nProxy \uac1d\uccb4\ub294 object\uc758 \uae30\ub2a5, set\uacfc get\uacfc \uac19\uc740 \uae30\ub2a5\ub4e4\uc744 intercept\ud558\uac70\ub098 redefine\uc744 \ud558\ub294 \uc0c8\ub85c\uc6b4 \uac1d\uccb4\ub97c \uc0dd\uc131\ud55c\ub2e4.\\nimmer\uc5d0\uc11c\ub294 \uc6d0\ubcf8 \uac1d\uccb4\ub85c Proxy \uac1d\uccb4\ub97c \ub9cc\ub4e4\uc5b4 \uc6d0\ubcf8 \uac1d\uccb4\ub97c get, set\ud560 \ub54c \uc9c1\uc811\uc801\uc73c\ub85c \uac1d\uccb4\ub97c \ubcc0\uacbd\ud558\ub294 \uac83\uc774 \uc544\ub2c8\ub77c \ub2e4\ub978 \ubc29\uc2dd\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub97c \ud558\uac8c\ub054 \ub85c\uc9c1\uc744 \\nintercept\ud558\ub294\ub370 Proxy\ub97c \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4.\\n\\n\uc608\ub97c\ub4e4\uc5b4\uc11c Object\uac00 \uc788\uace0 set\uc744 \ud560\ub54c \uc124\uc815\ud55c \uac12\uc744 2\ubc30\ub85c \ub9cc\ub4e4\uace0 \uc2f6\ub2e4\uba74 \ub2e4\uc74c\uacfc \uac19\uc774 \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4.\\n\\n```tsx\\nconst origin = {};\\nconst handler = {\\n  set: function(target, prop, value) {\\n    if (typeof value === \'number\') {\\n      target[prop] = value * 2;\\n    } else {\\n      Reflect.set(...arguments);\\n    }\\n  }\\n}\\n\\nconst proxy = new Proxy(origin, handler);\\n\\nproxy.a = 10;\\nproxy.b = {};\\n\\nconsole.log(proxy.a); // 20\\nconsole.log(proxy.b); // {}\\n```\\n`proxy.a`\uc5d0 \ud560\ub2f9\ud560 \ub54c \uc77c\ubc18 \uac1d\uccb4\uc758 set\uc744 \uc0ac\uc6a9\ud558\ub294\uac8c \uc544\ub2c8\ub77c `Proxy` \uac1d\uccb4\ub97c \ub9cc\ub4e4\ub54c \ub4f1\ub85d\ud588\ub358 `handler.set`\uc758 \ub85c\uc9c1\uc744 \ub530\ub974\uac8c \ub41c\ub2e4. \\nset\ud558\ub294 value\uac00 10\uc774\uae30 \ub54c\ubb38\uc5d0 `proxy.a` \uc5d0\ub294 10\uc774 \uc544\ub2cc 20\uc774 \uc800\uc7a5\ub41c\ub2e4. value\uac00 number\uac00 \uc544\ub2d0\ub54c\uc758 \ub3d9\uc791\uc5d0\uc11c \uc4f0\uc774\ub294 `Reflect` \ub294 \uae30\uc874 \ub85c\uc9c1\uc744 \ub530\ub974\uac8c \ud560 \ub54c \uc0ac\uc6a9\ud55c\ub2e4.\\n\\n\uc790, \ub9cc\uc57d\uc5d0 `proxy.b` \uac1d\uccb4\uc5d0 \ucd94\uac00\ub85c \uac12\uc744 \ud560\ub2f9\ud558\uba74 \uc5b4\ub5bb\uac8c \ub420\uae4c? `handler.set`\uc774 \uc0ac\uc6a9\ub418\uc5b4 40\uc774 \ud560\ub2f9\ub420\uae4c? \uc544\ub2c8\uba74 \uadf8\ub300\ub85c 20\uc774 \ud560\ub2f9\ub420\uae4c?\\n```tsx\\nproxy.b.c = 20\\n\\nconsole.log(proxy.b.c) // 20? 40?\\n```\\n\uc815\ub2f5\uc740 20\uc774\ub2e4. \uadf8 \uc774\uc720\ub294 `proxy`\ub294 Proxy \uac1d\uccb4\uc774\uc9c0\ub9cc, `proxy.b`\ub294 Proxy \uac1d\uccb4\uac00 \uc544\ub2c8\ub77c \uc77c\ubc18 \uac1d\uccb4\uc774\uae30 \ub54c\ubb38\uc774\ub2e4. \\n\ub530\ub77c\uc11c `handler.set`\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 \uc77c\ubc18 \uac1d\uccb4\uc758 set\uc744 \uc0ac\uc6a9\ud558\uc5ec \uadf8\ub300\ub85c 20\uc744 \ud560\ub2f9\ud558\uace0 \uc788\ub294 \uac83\uc774\ub2e4.\\n\\n\uc774\ub7ec\ud55c \ub3d9\uc791\uc740 immer\uc5d0\uc11c critical\ud558\uac8c \uc791\uc6a9\ub41c\ub2e4. \uac1d\uccb4\ub97c \ubcc0\uacbd\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \uba87 depth\uac00 \ub418\ub294 \uc790\uc2dd \uac1d\uccb4\ub97c \ubc14\ub85c \ubcc0\uacbd\ud558\ub294 \ucf00\uc774\uc2a4\uac00 \ub9ce\uc744 \uac83\uc774\uae30 \ub54c\ubb38\uc774\ub2e4. \\n\\n\ub530\ub77c\uc11c \ub2e4\uc74c\uacfc \uac19\uc740 \ubc29\ubc95\uc73c\ub85c \uc774\ub97c \ub300\uc751\ud55c\ub2e4.\\n```tsx\\nconst origin = {};\\nconst handler = {\\n  set: function(target, prop, value) {\\n    if (typeof value === \'number\') {\\n      target[prop] = value * 2;\\n    } else {\\n      Reflect.set(...arguments);\\n    }\\n  },\\n  // highlight-start\\n  get: function(target, prop) {\\n    if (typeof target[prop] === \'object\') {\\n      return new Proxy(target[prop], handler);\\n    }\\n    \\n    return Reflect.get(...arguments);\\n  }\\n  // highlight-end\\n}\\n\\nconst proxy = new Proxy(origin, handler);\\n\\nproxy.b = {};\\nproxy.b.c = {};\\nproxy.b.c.d = 20;\\n\\nconsole.log(proxy.b.c); // Proxy {}\\nconsole.log(proxy.b.c.d); // 40\\n```\\nProxy\ub97c \ub9cc\ub4e4\ub54c set\ubfd0 \uc544\ub2c8\ub77c get\uc5d0\uc11c\ub3c4 \ucee4\uc2a4\ud140 \ub85c\uc9c1\uc744 \ucd94\uac00\ud55c\ub2e4. Proxy \uac1d\uccb4\uc5d0\uc11c \uac12\uc744 \uac00\uc838\uc62c \ub54c \uc77c\ubc18 \uac1d\uccb4\ub97c \uac00\uc838\uc628\ub2e4\uba74 Proxy \uac1d\uccb4\ub97c \ub9cc\ub4e4\uc5b4\uc11c \uac00\uc838\uc624\uac8c\ub054 \ud558\ub294 \uac83\uc774\ub2e4.\\n\uc774\ub807\uac8c \ub418\uba74, `proxy` \uac1d\uccb4\ub3c4 Proxy \uac1d\uccb4\uc774\uace0, `proxy.b`\ub3c4 `handler.get`\uc744 \uc0ac\uc6a9\ud574\uc11c \uc77c\ubc18\uac1d\uccb4\uac00 \uc544\ub2cc Proxy\uac1d\uccb4\ub97c \ubc18\ud658\ud55c\ub2e4. \\n\ub530\ub77c\uc11c `proxy.b.c`\uc5d0 20\uc744 \ud560\ub2f9\ud55c\ub2e4\uba74, `proxy.b`\ub294 Proxy \uac1d\uccb4\uc774\ubbc0\ub85c `handle.set` \ub85c\uc9c1\uc744 \uc0ac\uc6a9\ud558\uc5ec `proxy.b.c`\uc5d0\ub294 20\uc774 \uc544\ub2cc 40\uc774 \ud560\ub2f9\ub418\uac8c \ub418\ub294 \uac83\uc774\ub2e4.\\n\\n\uc774\ub7ec\ud55c get\uacfc set\uc758 \ub3d9\uc791\uc744 \uc774\uc6a9\ud574\uc11c immer\uc5d0\uc11c\ub294 get\uc5d0\uc11c\ub294 \uae4a\uc219\ud55c \uac1d\uccb4\ub97c \ucc38\uc870\ud560\ub54c\uc5d0\ub3c4 Proxy\ub97c \ucc38\uc870\ud560 \uc218 \uc788\uac8c\ub054, \\nset\uc5d0\uc11c\ub294 \uac1d\uccb4\ub97c \uc9c1\uc811 \ubcc0\uacbd\ud558\uc9c0 \uc54a\uace0 `base_`\uc640 `copy_`\ub97c \uc774\uc6a9\ud558\ub294 \ub85c\uc9c1\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4. \ub2e4\uc74c \ucc55\ud130\uc5d0\uc11c \uc5b4\ub5bb\uac8c \uad6c\ud604\ub418\uc5b4 \uc788\ub294\uc9c0 \uc54c\uc544\ubcf4\uc790.\\n\\n:::tip `latest`\uc640 `peek`\uc5d0 \ub300\ud574\uc11c\\n\uc55e\uc73c\ub85c\uc758 immer\ucf54\ub4dc\uc5d0\uc11c immer\uc5d0\uc11c \uc4f0\uc774\ub294 \uc720\ud2f8 \ud568\uc218\uc778 `latest`\uc640 `peek`\uc5d0 \ub300\ud574\uc11c \ub9ce\uc774 \ud655\uc778\ud558\uac8c \ub420 \uac83 \uc774\ub2e4.\\n\uc774 \uc720\ud2f8 \ud568\uc218\uac00 \uc5b4\ub5a4 \ub3d9\uc791\uc744 \ud558\ub294\uc9c0 \uad81\uae08\ud558\ub2e4\uba74 \uc0b4\ud3b4\ubcf4\uc790.\\n- latest\\n```tsx\\n// https://github.com/immerjs/immer/blob/master/src/utils/common.ts#L160-L162\\nexport function latest(state) {\\n  return state.copy_ || state.base_\\n}\\n```\\nstate\ub294 produce\uc5d0\uc11c \uc0dd\uc131\ud55c proxy \uac1d\uccb4\uc774\ub2e4. proxy \uac1d\uccb4\ub294 meta data\uc640 `new Proxy`\ub85c \uc0dd\uc131\ud55c \uac1d\uccb4\ub97c \uac00\uc9c0\uace0 \uc788\ub2e4.\\n`latest`\ub294 `copy_` \ud639\uc740 `base_` \uac1d\uccb4\ub97c \uac00\uc838\uc624\ub294\ub370, \ud604\uc7ac proxy\uac00 \uac00\uc9c0\uace0 \uc788\ub294 \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294\ub370 \uc4f0\uc774\ub294 \uac83\uc744 \uc54c \uc218 \uc788\ub2e4.\\n`copy_`\ub294 \ubcc0\uacbd\ub41c \ucd5c\uc2e0 \uac1d\uccb4\uc774\uace0, `base_`\ub294 \uc6d0\ubcf8 \uac1d\uccb4\uc774\ubbc0\ub85c `copy_`\ub97c \uba3c\uc800 \uac00\uc838\uc624\ub294 \uac83\uc744 \uc6b0\uc120\uc2dc\ud558\uace0 \uc788\ub2e4.\\n\\n- peek\\n```tsx\\n// https://github.com/immerjs/immer/blob/master/src/core/proxy.ts#L234-L238\\nexport function peek(draft, prop) {\\n  const state = draft[DRAFT_STATE];\\n  const source = state ? latest(state) : draft;\\n  return source[prop]\\n}\\n```\\n`peek`\ub294 \uac1d\uccb4\uc5d0\uc11c \ud2b9\uc815 key\uc5d0 \ub300\ud55c \uac12\uc744 \uac00\uc838\uc624\ub294 \uc5ed\ud560\uc744 \ud55c\ub2e4. \uc989, draft\uc5d0\uc11c prop\ub97c key\ub85c \uac00\uc9c0\ub294 \uac12\uc744 \uac00\uc838\uc624\uae30 \uc704\ud574 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774\ub2e4.\\n\uc5ec\uae30\uc11c\ub294 3\uac00\uc9c0 \uacbd\uc6b0\uac00 \uc874\uc7ac\ud55c\ub2e4.\\n1. draft\uac00 Proxy\uac1d\uccb4\uac00 \uc544\ub2c8\ub77c \uc77c\ubc18 \uac1d\uccb4\uc778 \uacbd\uc6b0 <br/>\\n    - \uc774 \uacbd\uc6b0\ub294 `draft[DRAFT_STATE]`\uac00 `undefined` \uc774\uae30 \ub54c\ubb38\uc5d0 draft[prop] \ub97c \ucc38\uc870\ud574\uc11c \ubc14\ub85c \ub9ac\ud134\ud55c\ub2e4.\\n2. draft\uac00 Proxy \uac1d\uccb4\uc774\uace0 `copy_` \ub97c \uac16\uace0 \uc788\uc744 \uacbd\uc6b0\\n    - `copy_.[prop]`\ub97c \ub9ac\ud134\ud55c\ub2e4.\\n3. draft\uac00 Proxy \uac1d\uccb4\uc774\uace0 `copy_` \ub97c \uac16\uace0 \uc788\uc9c0 \uc54a\uc740 \uacbd\uc6b0\\n    - `base_.[prop]`\ub97c \ub9ac\ud134\ud55c\ub2e4.\\n\\n\uc989, \uc5ec\ub7ec \uacbd\uc6b0\uc5d0 \ub300\ud574\uc11c object(\ud639\uc740, proxy)\uc5d0\uc11c key\uc5d0 \ub9de\ub294 \uac12\uc744 \uad6c\ud558\uae30 \uc704\ud55c \uc720\ud2f8 \ud568\uc218 \uc778 \uac83\uc774\ub2e4.\\n:::\\n\\n### Traps of immer\\nimmer\uc758 `Proxy`\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 get\uc740 multi depth\uc758 \uac1d\uccb4\ub97c \ucc38\uc870\ud588\uc744\ub54c\uc5d0\ub3c4 Proxy\ub97c \ucc38\uc870\ud560 \uc218 \uc788\uac8c Proxy\ub97c \uc0dd\uc131\ud574\uc8fc\ub294 \uc5ed\ud560\uc744 \uac00\uc9c0\uace0 \uc788\uace0,\\nset\uc740 \uc6d0\ubcf8 \uac1d\uccb4\ub97c \ubcc0\uacbd\ud558\ub824 \ud560 \ub54c \uc774\ub97c \ub9c9\uace0 `base_`, `copy_`, `modified_`\uc640 \uac19\uc740 \uba54\ud0c0 \ub370\uc774\ud130\ub97c \uc81c\uc5b4\ud558\ub3c4\ub85d \ud558\ub294 \uc5ed\ud560\uc744 \uac00\uc9c0\uace0 \uc788\ub2e4.\\n\\n#### Get\\nget \ub85c\uc9c1\uc758 \ubaa9\uc801\uc740 deep\ud55c tree\uc5d0 \uc811\uadfc\ud558\uc5ec set\uc744 \ud558\ub354\ub77c\ub3c4 proxy\uac1d\uccb4\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \ub9cc\ub4e4\uc5b4\uc8fc\ub294 \uac83\uc774\ub2e4.\\n```tsx\\n// https://github.com/immerjs/immer/blob/master/src/core/proxy.ts#L101-L124\\nexport const objecTraps = {\\n  get(state, prop) {\\n    if (prop === DRAFT_STATE) return state;\\n\\n    const source = latest(state);\\n    const value = source[props];\\n    \\n    if (state.finalized_ || !isDraftable(value)) return value    \\n\\n    if (value === peek(state.base_, prop)) {\\n      prepareCopy(state);\\n      return state.copy_[prop] = createProxy(state.scope_.immer_, value, state)\\n    }\\n    \\n    return value\\n  }\\n}\\n```\\n\\n```tsx\\nif (prop === DRAFT_STATE) return state;\\n```\\n\\n\uac00\uc7a5 \uba3c\uc800 \ubcf4\uc774\ub294 DRAFT_STATE \ube44\uad50 \ub85c\uc9c1\uc740 immer\uc5d0\uc11c draft\ub97c \ubc14\ub85c \ud68d\ub4dd\ud558\uae30\uc704\ud55c hole\uac19\uc740 \ub3d9\uc791\uc73c\ub85c \ubcf4\uc778\ub2e4. \\n`peek` \uc640 \uac19\uc740 \uc720\ud2f8\ud568\uc218\uc5d0\uc11c proxy\uac1d\uccb4\uc5d0\uc11c `draft[DRAFT_STATE]`\ub97c \ud638\ucd9c\ud574\uc11c proxy \uadf8 \uc790\uccb4\ub97c \uac00\uc838\uc624\ub294 \uac83\uc744 \ud655\uc778 \ud560 \uc218 \uc788\ub2e4.\\n\\n```tsx\\nconst source = latest(state);\\nconst value = source[prop];\\n    \\nif (state.finalized_ || !isDraftable(value)) return value  \\n```\\n\ub2e4\uc74c \ub85c\uc9c1\uc740, proxy \uac1d\uccb4\ub97c \ub9cc\ub4e4 \ud544\uc694\uac00 \uc5c6\ub294 \uacbd\uc6b0\uc5d0 \ub300\ud55c \ubd84\uae30\uc774\ub2e4.\\nstate\uac00 `finalized` \uc0c1\ud0dc, \uc989 \ub370\uc774\ud130\uac00 \ubaa8\ub450 \uc5c5\ub370\uc774\ud2b8 \ub418\uc5b4 return\ud560 \uc900\ube44\uac00 \ub41c \uc0c1\ud0dc\ub77c\uba74 proxy\ub85c \ubcc0\uacbd\ud560 \ud544\uc694\uac00 \uc5c6\uace0,\\nvalue\uac00 `isDraftable`, \uc989 mutable\ud55c \uc18d\uc131\uc744 \uac00\uc9c0\ub294 object\ub098 array \uac19\uc740 \ud0c0\uc785\uc774 \uc544\ub2cc \uacbd\uc6b0\ub294 proxy\ub85c \ub9cc\ub4e4 \uc774\uc720\uac00 \uc5c6\uc73c\ubbc0\ub85c \uadf8\ub300\ub85c \ub9ac\ud134\uc744 \ud55c\ub2e4.\\n\\n\\n```tsx\\nif (value === peek(state.base_, prop)) {\\n  prepareCopy(state);\\n  return state.copy_[prop] = createProxy(state.scope_.immer_, value, state)\\n}\\n\\nreturn value\\n```\\n\uc774\uc81c\ub294 proxy \uac1d\uccb4\ub97c \ub9cc\ub4e4\ub54c\uc758 \ub85c\uc9c1\uc774\ub2e4. `prepareCopy` \ub97c \ud638\ucd9c\ud558\uace0 `copy_`\uc5d0 \uc790\uc2dd proxy\ub97c \uc0dd\uc131\ud55c\ub2e4. \\n`prepareCopy`\ub294 `state.base_`\ub97c `state.copy_`\ub85c shallow copy\ub97c \ud558\ub294 \ud568\uc218\uc774\ub2e4.\\n`state.copy_`\ub97c \ubcf5\uc0ac\ud574\uc11c \ub9cc\ub4e4\uace0, `state.copy_[prop]`\uc5d0 \uc0c8\ub85c\uc6b4 proxy\ub97c \uc0dd\uc131\ud558\uc5ec \uc800\uc7a5\ud55c\ub2e4.\\n\uc774\ub54c\ubd80\ud130 `base_`\uc640 `copy_`\uac00 \uac00\uc9c0\uace0 \uc788\ub294 \uac12\ub4e4\uc774 \uac19\uc9c0 \uc54a\uac8c \ub41c\ub2e4. \\n\\n\uc774\ub7ec\ud55c \ub85c\uc9c1\uc744 \ud1b5\ud574\uc11c deep tree\ub97c \ucc38\uc870\ud558\ub354\ub77c\ub3c4 \uac1d\uccb4\uc778 \uacbd\uc6b0 proxy\ub97c \uac00\uc838\uc62c \uc218 \uc788\ub3c4\ub85d \uad6c\ud604\ud574\ub193\uc558\ub2e4.\\n\\n\uc790 \uadf8\ub807\ub2e4\uba74, \ud55c\ubc88 get\uc73c\ub85c proxy\ub97c \ub9cc\ub4e0 \uac1d\uccb4\ub97c \ub2e4\uc2dc \ucc38\uc870\ud558\uba74 \ub2e4\uc2dc proxy \uac1d\uccb4\ub97c \ub9cc\ub4e4\uae4c? \\n\ub2f9\uc5f0\ud55c \ub9d0\uc774\uc9c0\ub9cc \ud55c\ubc88 proxy\ub97c \ub9cc\ub4e0 \uac1d\uccb4\ub77c\uba74 \uae30\uc874\uc5d0 \ub9cc\ub4e4\uc5b4 \ub454 \uac83\uc744 \uc7ac\uc0ac\uc6a9\ud55c\ub2e4.\\n\uc7ac\uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c\ub054 \uac80\uc0ac\ub97c \ud558\ub294 \ub85c\uc9c1\uc774  `value === peek(state.base_, prop)` \uc758 \ubd84\uae30\uc774\ub2e4.\\n\\n##### \uc774\ubbf8 \uc0dd\uc131\ud55c proxy\uc758 \uc7ac\uc0ac\uc6a9 (`value === peek(state.base_, prop)`)\\n\\n`peek(state.base_, prop)`\ub294 `base_`\uc758 prop\ub97c \uc758\ubbf8\ud558\uace0, `value`\ub294 `copy_` \ud639\uc740 `base_`\uc758 prop\ub97c \uc758\ubbf8\ud55c\ub2e4. \\n`copy_`\uac00 \uc0dd\uc131\ub418\uae30 \uc804, \uc989 get\uc744 \ud55c \uc801\uc774 \uc5c6\ub2e4\uba74 \ud56d\uc0c1 `base_`\uc640 `base_`\ub97c \ube44\uad50\ud558\ubbc0\ub85c \ud56d\uc0c1 true\uc774\uace0 proxy\ub97c \ub9cc\ub4dc\ub294 \ub85c\uc9c1\uc744 \ud56d\uc0c1 \uc2e4\ud589 \ud560 \uac83\uc774\ub2e4.\\n\ud558\uc9c0\ub9cc, get\uc744 \ud55c \uc801\uc774 \uc788\uace0 `copy_`\uac00 \ub9cc\ub4e4\uc5b4\uc9c4 \uc0c1\ud0dc\ub77c\uba74 `copy_` \uc640 `base_`\ub97c \ube44\uad50\ud55c\ub2e4.\\n\uc774\uc804 get\ub85c\uc9c1\uc5d0\uc11c `copy_[prop]`\uc5d0 proxy\ub97c \ud560\ub2f9\ud558\uc5ec \uc774\ubbf8 `base_`\uc640 \uac12\uc774 \ub2ec\ub77c\uc84c\uae30 \ub54c\ubb38\uc5d0 proxy\ub97c \ub9cc\ub4dc\ub294 \ub85c\uc9c1\uc744 \uc2a4\ud0b5\ud558\uace0 \uadf8\ub300\ub85c `state.copy_`\ub97c \ub9ac\ud134\ud55c\ub2e4.\\n\uc774\ub7ec\ud55c \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud574\uc11c get\uc5d0\uc11c \ubd88\ud544\uc694\ud558\uac8c proxy\ub97c \uc0dd\uc131\ud558\ub294 \uac83\uc744 \ubc29\uc9c0\ud558\uace0 \uc788\ub2e4.\\n\\n\ucf54\ub4dc\ub85c \ud55c\uc904\uc529 \uc124\uba85\ud558\ub2c8 \ubcf5\uc7a1\ud55c\ub370, proxy\uc758 get\ub3d9\uc791\uc5d0\uc11c \ud558\ub294 \uc77c\uc744 \uc694\uc57d\ud574\ubcf4\uc790.\\n\\n1. \uac1d\uccb4\uc5d0\uc11c \ucc38\uc870\ud558\ub294 \uac12\uc774 object\uac00 \uc544\ub2cc \uacbd\uc6b0 \uadf8\ub300\ub85c \uac12\uc744 \ub9ac\ud134\ud55c\ub2e4.\\n2. \uac1d\uccb4\uc5d0\uc11c \ucc38\uc870\ud558\ub294 \uac12\uc774 object\uc77c \uacbd\uc6b0 proxy\ub97c \ub9cc\ub4e4\uc5b4\uc11c \ub9ac\ud134\ud55c\ub2e4.\\n3. \ub9cc\uc57d \ud55c\ubc88 \ucc38\uc870\ud55c \uc801\uc774 \uc788\ub294 object\ub77c\uba74 \uc774\uc804\uc5d0 \ub9cc\ub4e4\uc5b4\ub454 proxy\ub97c \uc7ac\uc0ac\uc6a9\ud55c\ub2e4.\\n\\n#### Set\\nset \ub85c\uc9c1\uc758 \ubaa9\uc801\uc740 \uac1d\uccb4\ub97c \ubcc0\uacbd\ud558\uace0 \uac1d\uccb4\uac00 \ubcc0\uacbd\ub418\uc5c8\ub2e4\ub294 `modified_` flag\ub97c \uc124\uc815\ud558\ub294 \ubaa9\uc801\uc744 \uac00\uc9c4\ub2e4.\\n\\n```tsx\\n// https://github.com/immerjs/immer/blob/master/src/core/proxy.ts#L131-L173\\nexport const objectTraps = {\\n  set(state, prop, value) {\\n    if (!state.modified_) {\\n      const current = peek(latest(state), prop)\\n      const currentState = current?.[DRAFT_STATE]\\n      \\n      if (is(value, current) && has(state.base_, prop)) return;\\n\\n      prepareCopy(state);\\n      markChanged(state);\\n    }\\n\\n    if (state.copy[props] === value) return;\\n\\n    state.copy_[props] = value;\\n    return;\\n  }\\n} \\n```\\nset\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \uc8fc\uc694 \ub85c\uc9c1\uc744 \ucd95\uc57d\ud558\uba74 \uc704\uc640 \uac19\ub2e4.\\n```tsx\\nset() {\\n  ...\\n  if (state.copy[props] === value) return;\\n\\n  state.copy_[props] = value;\\n  return;  \\n}\\n```\\n`modified_` \uc5ec\ubd80\uc5d0 \uad00\uacc4\uc5c6\uc774 \uc9c4\ud589\ud558\ub294 \ub85c\uc9c1\uc744 \ubcf4\uba74 set\uc744 \ud560 \ub54c original data(`base_`)\ub97c \ubcc0\uacbd\ud558\uc9c0 \uc54a\uace0 `copy_`\ub9cc\uc744 \ubcc0\uacbd\uc2dc\ud0a4\ub294 \uac83\uc744 \ud655\uc778 \ud560 \uc218 \uc788\ub2e4.\\n\uc774 \uacfc\uc815\uc5d0\uc11c \uc0c8\ub85c\uc6b4 \uac12\uc774 `copy_`\uc5d0 \uc800\uc7a5\ub418\uc5b4 \uc788\ub294 \uac12\uacfc reference\uac00 \uac19\ub2e4\uba74 \uc5c5\ub370\uc774\ud2b8\ub97c \uc9c4\ud589\ud558\uc9c0 \uc54a\ub294\ub2e4. \uc774\ub85c\uc368 \ubd88\ud544\uc694\ud55c \uc5c5\ub370\uc774\ud2b8\ub294 \ubc29\uc9c0\ud558\uace0 \uc788\ub294 \uac83\ub3c4 \ud655\uc778 \ud560 \uc218 \uc788\ub2e4.\\n\\n\ub9cc\uc57d, \uc5c5\ub370\uc774\ud2b8 \ub420 \uac1d\uccb4\uac00 \ubcc0\uacbd\ub41c \uc774\ub825\uc774 \uc5c6\ub2e4\uba74 `modified_`\uac00 false\uc77c \ud150\ub370, set \ub85c\uc9c1\uc5d0\uc11c `modified_` flag\uac00 \ubcc0\uacbd\ub41c\ub2e4. \\n```tsx\\nset(state, prop, value) {\\n  if (!state.modified_) {\\n    const current = peek(latest(state), prop)\\n    const currentState = current?.[DRAFT_STATE]\\n    \\n    if (is(value, current) && has(state.base_, prop)) return;\\n\\n    // highlight-start\\n    prepareCopy(state);\\n    markChanged(state);\\n    // highlight-end\\n  }\\n  ...\\n}\\n```\\nset\uc744 \uc9c4\ud589\ud560 \ub54c `modified`\uac00 false \uc0c1\ud0dc\ub77c\uba74 \ubcc0\uacbd \ub85c\uc9c1\uc744 \uc9c4\ud589\ud55c\ub2e4. edge\ub85c\uc9c1\uc744 \uc81c\uc678\ud558\uace0 \uae30\ubcf8\ub85c\uc9c1\ub9cc \ubcf8\ub2e4\uba74 `prepareCopy`\uc640 `markChanged` \ud568\uc218\ub97c \uc2e4\ud589\ud55c\ub2e4.\\n\\n:::info\\n#### get\uc5d0\uc11c\uc758 `prepareCopy`\uc640 set\uc5d0\uc11c\uc758 `prepareCopy`\\n\\n\uc774\uc804\uc5d0 get\uc744 \uc9c4\ud589\ud560 \ub54c `prepareCopy`\ub97c \uc0ac\uc6a9\ud558\ub294 \uac78 \ubcf4\uc558\ub2e4. get\ud560\ub54c copy\ub97c \uc9c4\ud589\ud558\uace0 set\ud560\ub54c\ub3c4 copy\ub97c \uc9c4\ud589\ud558\ub294\uac78\uae4c?\\n\\n\uc790\uc138\ud788\ubcf4\uba74 get\uc758 `prepareCopy`\uc640 set\uc758 `prepareCopy`\ub294 \ubaa9\uc801\uc774 \ub2e4\ub974\ub2e4.\\nget\uc758 `prepareCopy`\ub294 \ucc38\uc870\ud560 \uac1d\uccb4\uc758 \ubd80\ubaa8\uac1d\uccb4\ub97c copy\ud558\ub294 \ub3d9\uc791\uc744 \ud558\uace0, set\uc758 `prepareCopy`\ub294 \ucc38\uc870\ud558\ub294 \uac1d\uccb4 \ubcf8\uc778\ub97c copy\ud558\ub294 \ub3d9\uc791\uc744 \ud55c\ub2e4.\\n\uc608\ub97c\ub4e4\uc5b4, \ub9cc\uc57d `proxy.a.b = { ... }`\ub85c \uac1d\uccb4\ub97c \ubcc0\uacbd\ud55c\ub2e4\uba74 `proxy.a` \uae4c\uc9c0\ub294 get\uc5d0\uc11c `prepareCopy`\ub97c \ud1b5\ud574 `copy_`\ub97c \ub9cc\ub4e4\uace0, \\n`proxy.a.b`\ub294 set\uc5d0\uc11c `prepareCopy`\ub97c \ud1b5\ud574 `copy_`\ub97c \ub9cc\ub4e0\ub2e4.\\n:::\\n\\n`markChanged`\uc758 \ucf54\ub4dc\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/core/proxy.ts#L266-L273\\nexport function markChanged(state: ImmerState) {\\n  if (!state.modified_) {\\n    state.modified_ = true\\n    if (state.parent_) {\\n      markChanged(state.parent_)\\n    }\\n  }\\n}\\n```\\n\ubcf8\uc778\uc758 `modified_`\ub97c \ubcc0\uacbd\ud558\ub294 \uac83\uacfc \ub354\ubd88\uc5b4 \ubd80\ubaa8\uac1d\uccb4\uc758 `modified_`\ub97c \ud1b5\ud574 root proxy\uae4c\uc9c0\uc758 `modified_`\ub97c \ubcc0\uacbd\ud55c\ub2e4.\\n\uc774\ub807\uac8c root proxy\uae4c\uc9c0 \ubcc0\uacbd\ud568\uc73c\ub85c\uc368 root\ubd80\ud130 leaf\uae4c\uc9c0 \uc5b4\ub5a4 \uac1d\uccb4\uac00 \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0\ub97c \ucc3e\uc544 \uac08 \uc218 \uc788\ub2e4.\\n\\n\ucd94\uac00\ub85c \uc911\uac04\uc5d0 \ube60\ub728\ub838\ub358 `modified` \ubcc0\uacbd\uc2dc\uc758 edge case\ub97c \ud655\uc778\ud574\ubcf4\uc790.\\n```tsx\\nset(state, prop, value) {\\n  if (!state.modified_) {\\n    // highlight-start\\n    const current = peek(latest(state), prop)\\n    const currentState = current?.[DRAFT_STATE]\\n    \\n    if (is(value, current) && has(state.base_, prop)) return;\\n    // highlight-end\\n\\n    prepareCopy(state);\\n    markChanged(state);\\n  }\\n  ...\\n```\\n\ubcc0\uacbd \ub420 \uac12(value)\uacfc \uc800\uc7a5\ub418\uc5b4 \uc788\ub294 \uac12(current)\uc774 \uac19\uace0, `base_[prop]`\uac00 \uac12\uc774 \uc788\ub2e4\uba74 \ubcc0\uacbd \ud560 \ud544\uc694\uac00 \uc5c6\ub2e4\uace0 \ud310\ub2e8\ud558\uace0 \\n`modified_`\ub97c true\ub85c \ub9cc\ub4dc\ub294 \uacfc\uc815\uc744 \uc911\ub2e8\ud558\uace0 \uc5c5\ub370\uc774\ud2b8\ub97c \uc9c4\ud589\ud558\uc9c0 \uc54a\ub294\ub2e4. \uac19\uc740 \uac12\uc744 \ud560\ub2f9\ud588\uc744\ub54c modified_\ub97c \ubcc0\uacbd\ud558\uc9c0 \uc54a\uc74c\uc73c\ub85c\uc368 \\n\ubd88\ud544\uc694\ud55c \uc5f0\uc0b0\uc744 \uc904\uc774\ub824\ub294 \ub178\ub825\uc73c\ub85c \ubcf4\uc778\ub2e4.\\n\\n\uc790 \uc774\uc81c set\uc758 \ub85c\uc9c1\uc744 \uc694\uc57d\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n1. `modified_`\uac00 false\ub77c\uba74 \uc790\uc2e0\uc758 `copy_`\ub97c `base_`\uc5d0\uc11c \ubcf5\uc0ac\ud574\uc8fc\uace0 \uc790\uc2e0 \ud3ec\ud568 \ubd80\ubaa8\ubd80\ud130 \ub8e8\ud2b8\uae4c\uc9c0\uc758 `modified_`\ub97c true\ub85c \ub9cc\ub4e4\uc5b4\uc900\ub2e4.\\n2. modified \uc5ec\ubd80\uc640 \uad00\uacc4\uc5c6\uc774 `state.copy_`\uc5d0 \ubcc0\uacbd\ud560 \uac12\uc744 \ud560\ub2f9\ud574\uc900\ub2e4.\\n\\n### Recap of Proxy\\nimmer\uc5d0\uc11c Proxy\uac1d\uccb4\uac00 \ud558\ub294 \uc5ed\ud560\uc744 \uc815\ub9ac\ud574\ubcf4\uc790.\\n- \ub370\uc774\ud130\ub97c \ucc38\uc870\ud560\ub54c \uac1d\uccb4\ub77c\uba74 Proxy \uac1d\uccb4\ub97c \uc0dd\uc131\ud574\uc900\ub2e4. \uac1d\uccb4\uc5d0\uc11c \uc5ec\ub7ec\ubc88 multi depth\ub85c \ucc38\uc870\ub97c \ud588\uc744\ub54c  get\uc740 \uc21c\ucc28\uc801\uc73c\ub85c \uc9c4\ud589\ub418\uae30 \ub54c\ubb38\uc5d0 root \uac1d\uccb4\ubd80\ud130 target \uac1d\uccb4\uae4c\uc9c0 \ud1b5\ud558\ub294 \ubaa8\ub4e0 \uac1d\uccb4\uac00 proxy\ub85c \uc0dd\uc131\ub418\uac8c \ub41c\ub2e4. \ub355\ubd84\uc5d0 multi depth\ub85c \uac1d\uccb4\ub97c \ucc38\uc870\ud558\uc600\uc744\ub54c\ub3c4 root\uc640 \ub3d9\uc77c\ud55c Proxy \ub85c\uc9c1\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \ub41c\ub2e4.\\n- \ub370\uc774\ud130\ub97c \ud560\ub2f9\ud560\ub54c\uc5d0\ub294 `base_`\ub97c `copy_`\ub85c \uc595\uc740 \ubcf5\uc0ac\ub97c \ud558\uace0 `copy_` \uac1d\uccb4\uc5d0 \ubcc0\uacbd\ub418\ub294 \uac12\uc744 \uc5c5\ub370\uc774\ud2b8\ud55c\ub2e4. \uc774\ub54c, \ubcc0\uacbd\ub41c \uc801 \uc5c6\ub294 \uac1d\uccb4\ub97c \ubcc0\uacbd\ud558\ub294 \uac83\uc774\ub77c\uba74 \ud574\ub2f9 \uac1d\uccb4\ubd80\ud130 \ubd80\ubaa8 \uac1d\uccb4\ub97c \uac70\uccd0 root \uac1d\uccb4\uae4c\uc9c0 modified\ub97c \ubaa8\ub450 true\ub85c \uc124\uc815\ud55c\ub2e4.\\n\\n## finalize\\n`recipe` \ud568\uc218\ub97c \ud1b5\ud574\uc11c \ub370\uc774\ud130\ub97c \ubaa8\ub450 \ubcc0\uacbd\ud558\uc600\ub2e4\uba74 \uc774\uc81c finalize \uacfc\uc815\uc744 \uc9c4\ud589\ud55c\ub2e4. `base_`\uc640 `copy_`\ub4e4\uc744 \uc801\uc808\ud558\uac8c \ud569\uccd0\uc8fc\ub294 \uacfc\uc815\uc778 \uac83\uc774\ub2e4.\\n\ub2e4\uc2dc produce \ucf54\ub4dc\ub97c \ubcf4\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4. <br/>\\n\uc5ec\uae30\uc11c `return processResult(result, scope)` \uc5d0 \ub300\ud55c \ub85c\uc9c1\uc744 \ud655\uc778\ud558\ub294 \uac83\uc774\ub2e4.\\n\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/core/immerClass.ts#L66-L122\\nexport class Immer {\\n  produce: (base, recipe) {\\n    let result;\\n\\n    const scope = enterScope(this);\\n    const proxy = createProxy(this, base, undefined);\\n    \\n    result = recipe(proxy);\\n    // highlight-start\\n    return processResult(result, scope);\\n    // highlight-end\\n  }\\n}\\n```\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/core/finalize.ts#L22-L56\\nexport function processResult(result, scope) {\\n  const baseDraft = scope.drafts_[0];\\n  const isReplaced = result !== undefined;\\n  \\n  if (isReplaced) {\\n    result = finalize(scope, result);\\n  } else {\\n    result = finalize(scope, baseDraft, []);\\n  }\\n}\\n```\\n`finalize`\uacfc\uc815\uc740 \ud06c\uac8c \ub450\uac00\uc9c0\ub85c \ub098\ub25c\ub2e4. `recipe`\uc5d0\uc11c return\uc744 \ud558\ub294 \uacbd\uc6b0\uc640 \uc544\ub2cc \uacbd\uc6b0\uc774\ub2e4.\\n\uc774 \ub450\uac00\uc9c0\uc758 \ucc28\uc774\ub294 `finalize` \ud568\uc218\ub85c \ub123\uc5b4\uc8fc\ub294 \ubcc0\uc218\uc5d0 \uc788\ub2e4. `recipe`\uac00 return\uc744 \ud558\uace0 \uc788\ub2e4\uba74 result\uac12\uc744 \uae30\uc900\uc73c\ub85c finalize\ub97c \uc9c4\ud589\ud558\uace0,\\n`recipe`\uac00 return\uc744 \ud558\uc9c0 \uc54a\uc73c\uba74 root proxy\ub97c \uae30\uc900\uc73c\ub85c finalize\ub97c \uc9c4\ud589\ud55c\ub2e4.\\n\\n### root proxy\ub97c \uc0ac\uc6a9\ud558\ub294 finalize\\n`recipe`\uac00 return\uc744 \ud558\uc9c0 \uc54a\ub294\ub2e4\uba74 \uc790\ub3d9\uc73c\ub85c root proxy\ub97c \uc0ac\uc6a9\ud574\uc11c finalize\ub97c \uc9c4\ud589\ud55c\ub2e4.\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/core/finalize.ts#L57-L110\\nfunction finalize(rootScope, value, path) {\\n  ...\\n  if (!state.modified_) {\\n    return state.base_;\\n  }\\n  \\n  if (!state.finalized_) {\\n    state.finalized_ = true;\\n    const result = state.copy_;\\n    \\n    each(result, (key, childValue) => finalizeProperty(...));\\n  }\\n  \\n  return state.copy_;\\n}\\n```\\n\uc5ec\uae30\uc11c value\ub294 root proxy\ub97c \uc758\ubbf8\ud55c\ub2e4. \ub9cc\uc57d root proxy\uac00 `modified_`\ub97c false\ub85c \uac16\uace0\uc788\ub2e4\uba74 \ub0b4\ubd80 \uac1d\uccb4\ub294 \ud55c\ubc88\ub3c4 \ubcc0\uacbd\ub41c \uc801\uc774 \uc5c6\ub2e4\ub294 \uc758\ubbf8\uc774\ub2e4. \\n\ub530\ub77c\uc11c `state.base_`\ub97c \uadf8\ub300\ub85c \ub9ac\ud134\ud55c\ub2e4. \ubcc0\uacbd\ub41c \uc801\uc774 \uc788\uc5b4\uc11c `modified_`\uac00 true\ub77c\uba74  `finalized_`\ub97c \ud655\uc778\ud55c\ub2e4. finalize\ub97c \uc5ec\ub7ec\ubc88 \ud558\ub294 \uac83\uc744 \ubc29\uc9c0\ud558\uae30 \uc704\ud568\uc774\uba70,\\nfinalized \ub85c\uc9c1\uc744 \ub4e4\uc5b4\uac00\uba74 `finalized_`\ub97c true\ub85c \ubcc0\uacbd\ud558\uace0 \ub85c\uc9c1\uc744 \uc9c4\ud589\ud55c\ub2e4. proxy\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 ES5 \ubaa8\ub4dc\ub77c\uba74 \uc5ec\ub7ec \ub85c\uc9c1\ub4e4\uc774 \uc9c4\ud589\ub418\uc9c0\ub9cc proxy\ubaa8\ub4dc\ub77c\uba74\\n`state.copy_`\ub97c \uadf8\ub300\ub85c \uc0ac\uc6a9\ud55c\ub2e4. `each`\ub97c \ud3ec\ud568\ud55c `finalizeProperty`\ub294 root proxy \ub0b4\ubd80\uc5d0 \uc788\ub294 \uc790\uc2dd \uac1d\uccb4\ub4e4\uc744 \ubaa8\ub450 `finalize`\ud558\uae30 \uc704\ud55c \ub3d9\uc791\uc774\ub2e4. \\n\ubaa8\ub4e0 \uc790\uc2dd \uac1d\uccb4\uc758 finalize\ub97c \uc644\ub8cc\ud558\uc600\ub2e4\uba74 `state.copy_`\ub97c \ub9ac\ud134\ud568\uc73c\ub85c\uc368 immer\ub85c\uc9c1\uc774 \uc885\ub8cc\ub41c\ub2e4.\\n\\n### recipe\uc758 return\uc744 \uc0ac\uc6a9\ud558\ub294 finalize\\n`recipe`\uac00 return \uac12\uc744 \uac00\uc9c0\uace0 \uc788\ub2e4\uba74 return \uac12\uc744 \uc0ac\uc6a9\ud558\uc5ec finalize\ub97c \uc9c4\ud589\ud55c\ub2e4. \ubb3c\ub860 return \uac12\uc740 plain object\uc774\ub2e4.\\n```tsx\\n// https://github.com/immerjs/immer/blob/v9.0.6/src/core/finalize.ts#L57-L110\\nfunction finalize(rootScope, value, path) {\\n  const state = value[DRAFT_STATE];\\n  \\n  if (!state) {\\n    each(value, (key, childValue) => finalizeProperty(...))\\n    return value;\\n  }\\n  ...\\n}\\n```\\nplain object\uc778 value\uc5d0\uc11c `value[DRAFT_STATE]`\ub97c \ucc38\uc870\ud55c\ub2e4\uba74 undefined\uc77c \uc218 \ubc16\uc5d0 \uc5c6\ub2e4. \ub530\ub77c\uc11c `if (!state)` \ub85c\uc9c1\uc73c\ub85c \uc9c4\ud589\ub41c\ub2e4.\\nroot proxy\ub97c \uc0ac\uc6a9\ud558\ub294 finalize\uc640 \ub3d9\uc77c\ud558\uac8c `finalizeProperty`\ub97c \ud1b5\ud574\uc11c \uc790\uc2dd \uac1d\uccb4\ub4e4\uc744 \ubaa8\ub450 finalize \uacfc\uc815\uc744 \uc9c4\ud589\ud55c \ub4a4 value\ub97c \ub9ac\ud134\ud55c\ub2e4.\\n\\n\uc774\ub54c, \uc790\uc2dd \uac1d\uccb4 \ubaa8\ub450 proxy\uac1d\uccb4\uac00 \uc544\ub2cc plain object\ub77c\uace0 \uc0dd\uac01\ud560 \uc218 \uc788\ub294\ub370 `recipe` \ub0b4\ubd80\uc5d0\uc11c \uc811\uadfc\ud558\ub294 \uac1d\uccb4\uc758 \uacbd\uc6b0 \ubaa8\ub450 Proxy\uc758 get \ub3d9\uc791\uc5d0 \uc758\ud574\uc11c \\nproxy\ub85c \ubcc0\uacbd\ub418\uc5b4 \ub9ac\ud134\ub418\uae30 \ub54c\ubb38\uc5d0 root\ub294 proxy\uac00 \uc544\ub2c8\ub354\ub77c\ub3c4 \uc790\uc2dd \uac1d\uccb4\ub294 proxy\uc77c \uc218\ub3c4 \uc788\ub2e4. \ub530\ub77c\uc11c \uc790\uc2dd \uac1d\uccb4\uae4c\uc9c0 \ubaa8\ub450 finalize \ub97c \uc9c4\ud589\ud574\uc8fc\uc5b4\uc57c\ud55c\ub2e4.\\n\\n\\n\\n## Recap\\n- immer\ub294 baseState \uac1d\uccb4\uc640 recipe \ucf5c\ubc31\ud568\uc218\ub97c \ubc1b\uc544\uc11c recipe \ub0b4\ubd80 mutable\ud55c \ub85c\uc9c1\ub4e4\uc744 \ubaa8\ub450 \uc218\ud589\ud558\ub294\ub370, \uae30\uc874 \uac1d\uccb4\ub294 \ubcc0\uacbd\ud558\uc9c0 \uc54a\uace0 \uc5c5\ub370\uc774\ud2b8 \ub41c \uc0c8\ub85c\uc6b4 \uac1d\uccb4\ub97c \ubc18\ud658\ud558\ub294 \uac83\uc774\ub2e4.\\n- immer\ub294 baseState\ub97c \ubc1b\uc73c\uba74 \uc6b0\uc120 baseState\ub97c Proxy\uac1d\uccb4\ub85c \ub9cc\ub4e4\uc5b4\uc11c \uad00\ub9ac\ud55c\ub2e4.\\n- proxy \uac1d\uccb4\ub294 \uc5ec\ub7ec \uac12\uc744 \uac16\uace0\uc788\uc9c0\ub9cc `base_`\uc640 `copy_`\ub450 \uac1d\uccb4\ub97c \ub0b4\ubd80\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uba70 `base_`\ub294 original data, `copy_`\ub294 updated data\ub85c\uc368 \uad00\ub9ac\ud55c\ub2e4.\\n- \uc55e\uc5d0\uc11c \ub9cc\ub4e0 Proxy \uac1d\uccb4\ub85c recipe \ucf5c\ubc31 \ud568\uc218 \ub85c\uc9c1\uc744 \uc2e4\ud589\ud558\ub294\ub370, \uc5ec\uae30\uc11c mutable\ud55c \ub85c\uc9c1\uc744 mutable\ud558\uc9c0 \uc54a\uac8c \uc218\ud589\ud558\ub294 \ubc29\ubc95\uc740 Proxy\uc758 set\uacfc get \ub4f1 \uac1d\uccb4 \uae30\ubcf8 \ub3d9\uc791\ub4e4\uc744 intercept\ud558\uae30 \ub54c\ubb38\uc774\ub2e4.\\n- proxy\uc758 get\uc5d0\uc11c\ub294 \ub9cc\ub098\ub294 \uac1d\uccb4\ub97c \ubaa8\ub450 Proxy\ub85c \ub9ac\ud134\ud558\uc5ec \uac1d\uccb4 \uae4a\uc219\ud55c \uacf3\uc744 \ucc38\uc870\ud558\ub354\ub77c\ub3c4 Proxy\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\ub3c4\ub85d \ub9cc\ub4e0\ub2e4.\\n- Proxy\uc758 set\uc5d0\uc11c\ub294 Proxy\uac1d\uccb4 \ub0b4\ubd80\uc5d0\uc11c \uad00\ub9ac\ud558\uace0 \uc788\ub294 `modified_` flag\ub97c \ubcf4\uace0 \ubcc0\uacbd \uc5ec\ubd80\ub97c \uad00\ub9ac\ud558\uba70 `base_`\uac1d\uccb4\uac00 \uc544\ub2cc `copy_`\uac1d\uccb4\ub97c \uc5c5\ub370\uc774\ud2b8\ud55c\ub2e4.\\n- immer\uc5d0\uc11c Proxy\uc758 set, get\uc744 \ud65c\uc6a9\ud574\uc11c recipe \ub85c\uc9c1\uc744 \ubaa8\ub450 \uc218\ud589\ud558\uace0\ub098\uba74 Proxy\uac1d\uccb4\uc758 \uc815\ubcf4\ub97c \uc774\uc6a9\ud574\uc11c \ubcc0\uacbd\ub41c \uac1d\uccb4\ub294 \uc5c5\ub370\uc774\ud2b8 \ub41c \uac1d\uccb4(`copy_`)\ub97c \uc0ac\uc6a9\ud558\uace0 \ubcc0\uacbd\ub418\uc9c0 \uc54a\uc740 \uac1d\uccb4\ub294 \uae30\uc874 \uac1d\uccb4(`base_`)\ub97c \uc0ac\uc6a9\ud568\uc73c\ub85c\uc368 structuring share\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc0c8\ub85c\uc6b4 \uac1d\uccb4\ub97c \ub9cc\ub4e4\uc5b4\uc11c \ub9ac\ud134\ud55c\ub2e4.\\n\\n## \uad81\uae08\uc99d \ud574\uc18c\\n:::tip Question\\nQ1. `immer`\ub294 mutable\ud558\uac8c \uac1d\uccb4\ub97c \ubcc0\uacbd\ud558\ub294 \uac83\uc744 \uc5b4\ub5bb\uac8c immutable\ud55c \ubc29\uc2dd\uc73c\ub85c \ubc14\uafb8\uc5b4\uc8fc\uace0 \uc788\uc744\uae4c?\\n:::\\n\\nA1. `immer`\ub294 `new Proxy`\ub97c \uc0ac\uc6a9\ud558\uc5ec get\uacfc set \ub85c\uc9c1\uc744 intercept\ud558\uae30 \ub54c\ubb38\uc5d0 \uac1d\uccb4\ub97c mutable\ud558\uac8c \ubcc0\uacbd\ud558\ub354\ub77c\ub3c4 \uac1d\uccb4\uac00 \uc9c1\uc811\uc801\uc73c\ub85c \ubcc0\uacbd\ub418\uc9c0 \uc54a\ub294\ub2e4.\\nset\ub85c\uc9c1\uc5d0\uc11c `base_`\ub97c \ubcc0\uacbd\ud558\uc9c0 \uc54a\uace0 `copy_`\ub85c shallow copy\ud558\uc5ec `copy_` \uac1d\uccb4\uc5d0 \uc5c5\ub370\uc774\ud2b8\ub97c \uc9c4\ud589\ud55c\ub2e4.\\n\\n\ubaa8\ub4e0 \uc5c5\ub370\uc774\ud2b8\uac00 \ub05d\ub098\uba74 \uac12\uc744 \ub9ac\ud134\ud560\ub54c \uac1d\uccb4\uac00 \ubcc0\uacbd\ub418\uc5c8\ub294\uc9c0\ub97c \ud310\ub2e8\ud574\uc11c `copy_`\ud639\uc740 `base_`\ub97c \ub9ac\ud134\ud568\uc73c\ub85c\uc368 \uac1d\uccb4\ub97c immutable\ud558\uac8c \uc5c5\ub370\uc774\ud2b8 \ud560 \uc218 \uc788\ub2e4.\\n\\n:::tip Question\\nQ2. `immer`\ub294 \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c structural sharing\uc744 \uc0ac\uc6a9\ud558\ub294\uac00?\\n:::\\n\\nA2. `immer`\ub294 \uac1d\uccb4\uc758 \ubcc0\uacbd\uc5ec\ubd80\uc5d0 \ub530\ub77c\uc11c `modified_`\uac12\uc744 \uad00\ub9ac\ud55c\ub2e4. `modified_`\uac00 true\ub77c\uba74 \uac1d\uccb4\uac00 \uc5c5\ub370\uc774\ud2b8 \ub418\uc5c8\ub2e4\ub294 \uac83\uc774\ub2e4. \\n`modified_` \uac12\uc744 \ubcf4\uace0 true\ub77c\uba74 `copy_`\ub77c\ub294 \uc0c8\ub85c\uc6b4 \uac1d\uccb4\ub97c \ub9ac\ud134\ud558\uc5ec \uc0c8\ub85c\uc6b4 reference\ub97c \uc0ac\uc6a9\ud558\uace0, \\n`modifed_`\uac00 false\ub77c\uba74 `base_` \uac1d\uccb4, \uae30\uc874 \uac1d\uccb4\ub97c \ubc18\ud658\ud568\uc73c\ub85c\uc368 \uae30\uc874 reference\ub97c \uc0ac\uc6a9\ud55c\ub2e4. \\n\ub530\ub77c\uc11c \ubcc0\uacbd\ub41c \uc5ec\ubd80\uc5d0 \ub300\ud55c boolean\uc744 \uad00\ub9ac\ud558\uace0 \uadf8 \uc5ec\ubd80\uc5d0 \ub530\ub77c \uae30\uc874 \uac83\uc744 \uc0ac\uc6a9\ud558\uac70\ub098 \uc0c8\ub85c\uc6b4 \uac83\uc744 \uc0ac\uc6a9\ud574\uc11c structural sharing\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4.\\n\\n:::tip Question\\nQ3. `immer`\uc5d0\uc11c\ub294 `produce`\ud568\uc218 \ub0b4\uc5d0\uc11c \uac1d\uccb4\ub97c \uc9c1\uc811 \uc5c5\ub370\uc774\ud2b8\ud558\ub294 \ubc29\uc2dd\uc774 \uc544\ub2c8\ub77c return\uc744 \ud1b5\ud574\uc11c \ub370\uc774\ud130\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\ub294\ub370, \uc774\ub7f0 \uacbd\uc6b0\uc5d0 immer\uc758 \ub85c\uc9c1\uc5d0 \ucc28\uc774\uac00 \uc788\uc744\uae4c?\\n:::\\n\\n`produce` \ud568\uc218 \ub0b4\uc5d0\uc11c return\uc744 \ud558\ub294\uc9c0 \uc544\ub2cc\uc9c0 \uc5ec\ubd80\ub294 immer\uc758 finalize, \uc5c5\ub370\uc774\ud2b8 \ub41c \uac1d\uccb4\ub97c \uc900\ube44\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \ucc28\uc774\uac00 \ub09c\ub2e4.\\nreturn\uc744 \ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0\ub294 `produce` \ub0b4\ubd80\uc5d0\uc11c \uac1d\uccb4\ub97c \uc9c1\uc811 \ubcc0\uacbd\ud588\ub2e4\ub294 \uc758\ubbf8\uc774\uace0 \uadf8\ub807\ub2e4\uba74 immer\uc5d0\uc11c \uad6c\ud604\ud558\ub294 Proxy\ub85c\uc9c1\uc778 get, set\uc744 \uc774\uc6a9\ud558\uc5ec\\n\uac1d\uccb4\ub97c \uc5c5\ub370\uc774\ud2b8 \ud588\ub2e4\ub294 \uac83\uc774\ub2e4. \uadf8\ub807\ub2e4\uba74 \uc774 \uae00\uc5d0\uc11c \uc54c\uc544\ubcf4\uc558\ub358 `base_`, `copy_`, `modified_` \ub4f1 \uc5ec\ub7ec \ubcc0\uc218\uc640 \ub85c\uc9c1\ub4e4\uc744 \uc774\uc6a9\ud574\uc11c \uac1d\uccb4 \uc5c5\ub370\uc774\ud2b8\ub97c \uc9c4\ud589\ud55c\ub2e4.\\n\\n\ud558\uc9c0\ub9cc, return\uc744 \ud55c\ub2e4\uba74 \uc5b4\ub5bb\uac8c \ub420\uae4c? `produce`\uc5d0\uc11c return \uac12\uc774 \uc874\uc7ac\ud55c\ub2e4\uba74 immer\uc5d0\uc11c \uc900\ube44\ud55c Proxy get, set \ub4f1 \ub85c\uc9c1\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 \\n\uacb0\uacfc\uac12\uc744 \uadf8\ub300\ub85c \ub9ac\ud134\ud558\uace0 \uc788\ub2e4\ub294 \uc758\ubbf8\uc774\ub2e4. \ub530\ub77c\uc11c root proxy\ub97c \ud615\uc131\ud558\uace0 get\uc744 \ud1b5\ud574\uc11c \uac1d\uccb4\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uace0 set\uc73c\ub85c `modified_`\ub97c \ubcc0\uacbd\ud558\ub294 \ub4f1 \ub85c\uc9c1\uc744 \ubaa8\ub450\\n\uc2a4\ud0b5\ud558\uace0 `finalize` \uacfc\uc815\uc73c\ub85c \ub118\uc5b4\uc628\ub2e4. \uc774\ub294 immer\uc758 \ub300\ubd80\ubd84\uc758 \ub85c\uc9c1\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 \uacb0\uacfc\ub97c \ub9ac\ud134\ud55c\ub2e4\ub294 \uc758\ubbf8\uc774\ub2e4.\\n\\n\ub450 \ubc29\ubc95 \ubaa8\ub450 \uac1d\uccb4\ub97c immutable\ud558\uac8c \uad00\ub9ac\ud558\uc5ec \uc5c5\ub370\uc774\ud2b8\ud55c\ub2e4. \uadf8\ub9ac\uace0 \ub450 \ubc29\uc2dd \ubaa8\ub450 \ubcc0\uacbd\ub41c \uac1d\uccb4\ub9cc reference\uac00 \ubc14\ub00c\ub294 structural sharing\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4.\\n\ubb3c\ub860 \ub450\ubc88\uc9f8 \ubc29\ubc95, \uc5c5\ub370\uc774\ud2b8 \ub41c \uac1d\uccb4\ub97c \ub9ac\ud134\ud558\ub294 \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud55c\ub2e4\uba74 \ubd88\ud544\uc694\ud558\uac8c \uac1d\uccb4\ub97c \uc0c8\ub85c \ub9cc\ub4e4\uc9c0 \uc54a\uac8c \uc8fc\uc758\ub294 \ud544\uc694\ud558\ub2e4. \uacb0\uacfc\uc801\uc73c\ub85c \uc774\uc57c\uae30\ud558\uba74 \uc5b4\ub290\ucabd\uc774\ub4e0 \ub3d9\uc77c\ud558\ub2e4.\\n\ucc28\uc774\uc810\uc744 \uace0\ub974\uc790\uba74 \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \uac1d\uccb4\ub97c \ubcc0\uacbd\ud558\ub290\ub0d0\uc5d0 \ub300\ud55c \uac83\uc77c \ubfd0\uc774\ub2e4. \uadf8\ub807\ub2e4\uba74 \uc120\ud0dd\uc758 \uc601\uc5ed\uc774\ub2e4. \\nmutable\ud558\uac8c \ubcc0\uacbd\ud558\ub294 \ubc29\uc2dd\uc744 \uc120\ud0dd\ud558\ub290\ub0d0, immutable\ud558\uac8c \ubcc0\uacbd\ud558\ub294 \ubc29\uc2dd\uc744 \uc120\ud0dd\ud558\ub290\ub0d0\ub97c \uace0\ubbfc\ud558\uba74 \ub41c\ub2e4. \\n\\n\ubb3c\ub860, \uc8fc\uad00\uc801\uc778 \uc758\uacac\uc744 \uc774\uc57c\uae30\ud558\uc790\uba74 \uc5b4\ub5a4 \uac1d\uccb4\ub97c \uc5b4\ub5bb\uac8c \uc5c5\ub370\uc774\ud2b8 \ud558\uace0\uc790\ud558\ub294\uc9c0 \ubaa9\uc801\uc5d0 \ub530\ub77c\uc11c \uc5c5\ub370\uc774\ud2b8\ud558\ub294 \ubc29\uc2dd\uc774 \ub2ec\ub77c\uc9c4\ub2e4\uace0 \uc0dd\uac01\ud55c\ub2e4. \\n\ub530\ub77c\uc11c immutable\ud558\uac8c \ubcc0\uacbd\ud558\ub294 \ubc29\uc2dd\uc758 \uc7a5\ub2e8\uc810, mutable\ud558\uac8c \ubcc0\uacbd\ud558\ub294 \ubc29\uc2dd\uc758 \uc7a5\ub2e8\uc810\uc744 \uac01\uac01 \uc774\ud574\ud558\uace0, \uc0c1\ud669\uc5d0 \ub9de\uac8c \ud63c\uc6a9\ud574\uc11c \uc0ac\uc6a9\uc744 \ud558\uba74 \ub420 \uac83\uc774\ub77c\uace0 \uc0dd\uac01\ud55c\ub2e4.\\n\\n## Reference\\n- [immer official docs](https://immerjs.github.io/immer/)\\n- [immer repository v9.0.6](https://github.com/immerjs/immer/tree/v9.0.6)\\n- [redux style guide](https://ko.redux.js.org/style-guide/style-guide/#use-redux-toolkit-for-writing-redux-logic) \\n- [redux-toolkit guide](https://redux-toolkit.js.org/api/createReducer#direct-state-mutation)\\n- [[blog] Introducing immer: Immutability the easy way](https://medium.com/hackernoon/introducing-immer-immutability-the-easy-way-9d73d8f71cb3#3bff)\\n- [Proxy MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy)"},{"id":"how-to-time-travel-debugging-at-redux-devtools","metadata":{"permalink":"/how-to-time-travel-debugging-at-redux-devtools","source":"@site/blog/2021-10-02-how-to-time-travel-debugging-at-redux-devtools.md","title":"redux-devtools\uc758 time-travel-debugging \ud1ba\uc544\ubcf4\uae30","description":"redux-devtools\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 time-travel-debugging\uc774 \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \ub3d9\uc791\ud558\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\ub294 \uc2dc\uac04\uc744 \uac00\uc9c4\ub2e4.","date":"2021-10-02T00:00:00.000Z","formattedDate":"2021\ub144 10\uc6d4 2\uc77c","tags":[{"label":"redux","permalink":"/tags/redux"},{"label":"redux-devtools","permalink":"/tags/redux-devtools"},{"label":"time-travel","permalink":"/tags/time-travel"},{"label":"library","permalink":"/tags/library"},{"label":"how-to-work","permalink":"/tags/how-to-work"},{"label":"javascript","permalink":"/tags/javascript"},{"label":"web","permalink":"/tags/web"}],"readingTime":41.2,"hasTruncateMarker":true,"authors":[{"name":"Hyunmo Ahn","title":"Front End Engineer @ Line Biz+","url":"https://github.com/HyunmoAhn","imageURL":"https://github.com/HyunmoAhn.png","key":"HyunmoAhn"}],"frontMatter":{"slug":"how-to-time-travel-debugging-at-redux-devtools","title":"redux-devtools\uc758 time-travel-debugging \ud1ba\uc544\ubcf4\uae30","description":"redux-devtools\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 time-travel-debugging\uc774 \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \ub3d9\uc791\ud558\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\ub294 \uc2dc\uac04\uc744 \uac00\uc9c4\ub2e4.","keywords":["redux","redux-devtools","time-travel","javascript"],"authors":"HyunmoAhn","tags":["redux","redux-devtools","time-travel","library","how-to-work","javascript","web"]},"prevItem":{"title":"immer \ub0b4\ubd80 \uc0b4\ud3b4\ubcf4\uae30","permalink":"/deep-dive-to-immer"},"nextItem":{"title":"How to cancel at axios","permalink":"/how-to-cancel-at-axios"}},"content":"## \ubaa9\uc801\\n[redux](https://redux.js.org/)\ub97c \uc774\uc6a9\ud574\uc11c \uc6f9 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158 \uac1c\ubc1c\uc744 \uc9c4\ud589\ud574 \ubcf8 \uc0ac\ub78c\uc774\ub77c\uba74 [redux-devtools](https://github.com/zalmoxisus/redux-devtools-extension)\ub97c \uc774\uc6a9\ud574\uc11c time-travel \ub514\ubc84\uae45\uc744 \uc0ac\uc6a9\ud574\ubcf8 \uacbd\ud5d8\uc774 \uc788\uc744 \uac83\uc774\ub2e4.\\n\\n`redux-devtools`\uac00 \uc5b4\ub5a4 \uac83\uc778\uc9c0 \ud5f7\uac08\ub9ac\uc2dc\ub294 \ubd84\uc774 \uc788\ub2e4\uba74 \uc544\ub798 \uc601\uc0c1\uc744 \ucc38\uace0\ud558\uae30 \ubc14\ub780\ub2e4.\\n<iframe style={{ width: \\"100%\\", height: \\"315px\\" }} src=\\"https://www.youtube.com/embed/VbPgAf3FUU8\\" title=\\"YouTube video player\\" frameBorder=\\"0\\" allow=\\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\\" allowFullScreen />\\n\\n\ub9cc\uc57d `redux-devtools`\ub97c \uc0ac\uc6a9\ud574 \ubcf8 \uacbd\ud5d8\uc774 \uc5c6\ub2e4\uba74 \uc774\ubc88 article\uc744 \uc774\ud574\ud558\uae30 \uc5b4\ub824\uc6b8 \uc218 \uc788\ub2e4.\\n\\n`redux-devtools`\ub294 redux\ub97c \uc0ac\uc6a9\ud55c web application\uc758 redux\uc815\ubcf4(action, reducer, state)\ub97c **\uae30\ub85d**\ud558\uace0, \ud2b9\uc815 \uc2dc\uc810\uc758 reducer\ub85c **rollback**\ud558\uace0, \ud2b9\uc815 action\uc744 **\uc5c6\uc5c8\ub358 \uc77c**\ub85c \ud560 \uc218 \uc788\ub2e4.\\n\ud558\uc9c0\ub9cc, `redux-devtools`\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 web application \ub0b4\ubd80\uc5d0 \ube44\uc2b7\ud55c \ub3d9\uc791\uc744 \uad6c\ud604\uc744 \ud558\ub824 \ud55c\ub2e4\uba74 \uac04\ub2e8\ud55c \uc77c\uc774 \uc544\ub2c8\ub2e4. \\n\uc608\ub97c\ub4e4\uc5b4, A\ubc84\ud2bc\uc744 \ub20c\ub800\uc744 \ub54c \uc774\uc81c\uaecf \ubc1c\uc0dd\uc2dc\ucf30\ub358 action\uc744 \uc5c6\uc5c8\ub358 \uc77c\ub85c \ud55c\ub2e4\uac70\ub098, Submit\ubc84\ud2bc\uc744 \ub204\ub974\uae30 \uc804 \uc774\ud0c8 \ud55c\ub2e4\uba74 \ud574\ub2f9 \ud398\uc774\uc9c0\uc5d0\uc11c \ubc1c\uc0dd\uc2dc\ucf30\ub358 \ubaa8\ub4e0 action\uc744 rollback\ud55c\ub2e4\uac70\ub098 \ud558\ub294 \ub85c\uc9c1\ub9d0\uc774\ub2e4.\\n\\n`redux-devtools`\ub294 \ubc84\ud2bc\uc73c\ub85c \uc190\uc27d\uac8c \uc81c\uacf5\ud558\ub294 \ub3d9\uc791\uc744 \uc9c1\uc811 \ub85c\uc9c1\uc744 \uad6c\ud604\ud55c\ub2e4\uace0 \ud558\uba74 \ubc29\ubc95\uc744 \ubaa8\ub974\uaca0\ub2e4. `redux-devtools`\ub294 \uc5b4\ub5bb\uac8c \uc774\ub7ec\ud55c \uc77c\ub4e4\uc744 \uac00\ub2a5\ud558\uac8c \ud560\uae4c?\\n\\n\uc774 article\uc5d0\uc11c\ub294 \\n- `redux-devtools` \uc5d0\uc11c \ud638\ucd9c\ub418\ub294 action\uacfc reducer\ub97c **logging**\ud558\ub294 \ubc29\ubc95.\\n- `redux-devtools` \uc5d0\uc11c \ud2b9\uc815 action\uc774 dispatch \ub41c \uc2dc\uc810\uc73c\ub85c **jump**\ud558\ub294 \ubc29\ubc95.\\n- `redux-devtools` \uc5d0\uc11c \ud2b9\uc815 action\uc774 \ub3d9\uc791\ud558\uc9c0 \uc54a\uc740 \uac83 \ucc98\ub7fc **skip**\uc2dc\ud0a4\ub294 \ubc29\ubc95.  \\n\\n\uc5d0 \ub300\ud574\uc11c \ud655\uc778\ud574 \ubcfc \uac83 \uc774\ub2e4.\\n\\n:::info \uc0ac\uc804\uc9c0\uc2dd\\n- [redux-devtools](https://github.com/zalmoxisus/redux-devtools-extension) \uc0ac\uc6a9 \uacbd\ud5d8\\n- [redux](https://redux.js.org/) enhancer\uc5d0 \ub300\ud55c \uc9c0\uc2dd\\n:::\\n:::caution Caution\\n- \uc774 \ubb38\uc11c\ub294 `browser extension`\uc5d0 \ub300\ud55c \ub0b4\uc6a9\uc740 \ub2e4\ub8e8\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. <br/>\\n- `redux-devtools`\uc758 core\uc5d0 \ub300\ud574\uc11c \ub2e4\ub8e8\uace0 \uc788\uc73c\uba70 `browser extension`\uc5d0 \ub300\ud55c \uc9c0\uc2dd\uc774 \uc5c6\uc5b4\ub3c4 \uc774\ud574\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4. <br/>\\n- `redux-devtools-extensions`\uc640 \uad00\ub828\ud558\uc5ec `browser extension`\uc5d0 \ub300\ud55c \ub0b4\uc6a9\uc744 \uc6d0\ud558\ub294 \ubd84\ub4e4\uc740 \uc774 \uae00\uc5d0\uc11c \ub2e4\ub8e8\ub294 \ub0b4\uc6a9\uacfc \ub9de\uc9c0 \uc54a\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \\n:::\\n\\n\x3c!--truncate--\x3e\\n\\n## redux-devtools\ub294 \uc5b4\ub5bb\uac8c \uc6f9 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uacfc \uc5f0\uacb0\uc774 \ub420\uae4c?\\n\uc6b0\ub9ac\ub294 \uc5b4\ub5bb\uac8c redux-devtools\uac00 web application\uc5d0 \uc601\ud5a5\uc744 \uc904 \uc218 \uc788\ub294\uc9c0 \uc54c\uc544\uc57c\ud55c\ub2e4. <br />\\n\uba3c\uc800 `redux-devtools`\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud55c \uac00\uc774\ub4dc\ub97c \ud655\uc778\ud574\ubcf4\uc790.\\n\\n### \uae30\ubcf8 \uc801\uc6a9\\nredux-devtools\ub97c chrome extension\uc73c\ub85c \uc801\uc6a9\ud558\ub294 \ubc29\ubc95\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4. ([docs](https://github.com/zalmoxisus/redux-devtools-extension#11-basic-store))\\n```tsx\\n const store = createStore(\\n   reducer, /* preloadedState, */\\n+  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\\n );\\n```\\n`redux store`\ub97c \uc0dd\uc131\ud560 \ub54c `enhancer` \uc704\uce58\uc5d0 `window.__REDUX_DEVTOOLS_EXTENSION__`\ub97c \ub123\uc5b4\uc900\ub2e4. `redux store`\uc758 `enhancer`\ub97c \uc774\uc6a9\ud55c\ub2e4\ub294 \uac83\uc744 \uc54c \uc218 \uc788\uc9c0\ub9cc, `window.__REDUX_DEVTOOLS_EXTENSION__`\uac00 \uc5b4\ub514\uc11c \ub4f1\ub85d\ub418\ub294 \ud568\uc218\uc778\uc9c0\ub294 \uc54c\uc9c0 \ubabb\ud55c\ub2e4.\\n\ub610\ud55c, [redux-toolkit](https://github.com/reduxjs/redux-toolkit)\uc744 \uc0ac\uc6a9\ud55c\ub2e4\uba74 devTools \uc635\uc158\uc758 [default\uac12\uc774 true](https://github.com/reduxjs/redux-toolkit/blob/v1.6.1/packages/toolkit/src/configureStore.ts#L63)\uc774\ubbc0\ub85c \uc774\ub7f0 \uc124\uc815\uc744 \uc2e0\uacbd\uc4f0\uc9c0 \uc54a\uc558\ub358 \uac1c\ubc1c\uc790\ub3c4 \uc788\uc744 \uac83\uc774\ub2e4.\\nredux-toolkit\ub3c4 \ub0b4\ubd80\uc801\uc73c\ub85c\ub294 \uc704\uc640 \uac19\uc740 redux-devtools \uc124\uc815 \ucf54\ub4dc\ub97c \uc8fc\uc785\uc2dc\ucf1c\uc8fc\uace0 \uc788\ub2e4. ([code](https://github.com/reduxjs/redux-toolkit/blob/v1.6.1/packages/toolkit/src/devtoolsExtension.ts#L184))\\n\\n\uc544\ubb34\ub798\ub3c4 chrome extension\uc5d0\uc11c `window.__REDUX_DEVTOOLS_EXTENSION__`\ub97c \uc8fc\uc785\uc2dc\ucf1c\uc8fc\ub294 \uac83\uc774 \uc544\ub2cc\uac00 \ucd94\uce21\ud574\ubcf4\uc9c0\ub9cc \uc6b0\ub9ac\ub294 chrome extension \ucf54\ub4dc\ub97c \ud655\uc778\ud558\uc9c0 \uc54a\uace0 \ub2e4\ub978 `redux-devtools` \uc801\uc6a9\ubc29\ubc95\uc744 \ucc3e\uc544\ubcf8\ub2e4.\\n\\n### \uc218\ub3d9 \uc801\uc6a9\\n`redux-devtools` \ubb38\uc11c\ub97c \ucc3e\uc544\ubcf4\ub2e4\ubcf4\uba74 `browser extension`\uc744 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uace0 \uc218\ub3d9\uc73c\ub85c \uc801\uc6a9\ud560 \uc218 \uc788\ub294 [\ubb38\uc11c](https://github.com/reduxjs/redux-devtools/blob/main/docs/Walkthrough.md#manual-integration)\uac00 \uc788\ub2e4.\\n\\n\ubb38\uc11c \ub0b4\uc6a9\uc744 \uac04\ub7b5\ud558\uac8c \uc694\uc57d\ud558\uba74, \uc544\ub798 dependency\ub97c \ucd94\uac00\ud558\uace0 `createDevTools`\ub97c \uc0dd\uc131\ud55c \ub4a4 store enhancer\uc5d0 \uc774\ub97c \ucd94\uac00\ud574\uc8fc\ub294 \ubc29\uc2dd\uc774\ub2e4.\\n- dependecny \ucd94\uac00\\n```shell\\nnpm install --save-dev @redux-devtools/core\\nnpm install --save-dev @redux-devtools/log-monitor\\nnpm install --save-dev @redux-devtools/dock-monitor\\n```\\n- `DevTools` \ucef4\ud3ec\ub10c\ud2b8 \uc0dd\uc131\\n```tsx\\n// DevTools.tsx\\nimport React from \'react\';\\n\\nimport { createDevTools } from \'@redux-devtools/core\';\\nimport LogMonitor from \'@redux-devtools/log-monitor\';\\nimport DockMonitor from \'@redux-devtools/dock-monitor\';\\n\\nconst DevTools = createDevTools(\\n  <DockMonitor\\n    toggleVisibilityKey=\\"ctrl-h\\"\\n    changePositionKey=\\"ctrl-q\\"\\n    defaultIsVisible={true}\\n  >\\n    <LogMonitor theme=\\"tomorrow\\" />\\n  </DockMonitor>\\n);\\n\\nexport default DevTools;\\n```\\n`@redux-devtools/core`\uc5d0\uc11c `createDevTools` \uc778\ud130\ud398\uc774\uc2a4\ub97c \ud1b5\ud574\uc11c `DevTools` \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc774 `DevTools` \ucef4\ud3ec\ub10c\ud2b8\ub294 \ub450\uac00\uc9c0 \uc5ed\ud560\uc744 \ub2f4\ub2f9\ud55c\ub2e4.\\n\uccab\ubc88\uc9f8\ub294 web application \ub0b4\ubd80\uc5d0\uc11c \ubcf4\uc5ec\uc8fc\ub294 devtools \ucef4\ud3ec\ub10c\ud2b8\uc774\ub2e4. \uc218\ub3d9 \uc801\uc6a9\uc744 \ud558\uba74 browser extension\uc73c\ub85c \uc870\uc791\ud558\ub294 \uac83\uc774 \uc544\ub2cc web application\uc5d0 devtools\ub97c \ub744\uc6cc\uc11c \uc870\uc791\ud560 \uc218 \uc788\ub294 \ubc29\uc2dd\uc744 \uc0ac\uc6a9 \ud560 \uc218 \uc788\uace0,\\n\uadf8 \ud654\uba74\uc744 \uc870\uc791\ud558\ub294 \ucef4\ud3ec\ub10c\ud2b8\uc774\ub2e4.\\n\ub450\ubc88\uc9f8\ub294 DevTools\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 instrument\ub77c\ub294 \uba54\uc18c\ub4dc\uc774\ub2e4. \uc774 \uba54\uc18c\ub4dc\ub294 redux store\uc5d0 \ud3ec\ud568\ub418\ub294 enhancer\ub97c \ub9ac\ud134\ud55c\ub2e4. \ub4a4\uc774\uc5b4 \ub098\uc624\uaca0\uc9c0\ub9cc \uc774 2\uac00\uc9c0\ub97c \ud1b5\ud574\uc11c web application\uacfc redux-devtools\ub97c \uc5f0\uacb0\ud55c\ub2e4.\\n\\n- Store\uc5d0 enhancer \uc8fc\uc785 & DevTools \ub79c\ub354\ub9c1\\n```tsx\\n// Store.ts\\nimport { createStore, applyMiddleware, compose } from \'redux\';\\nimport DevTools from \'./DevTools\';\\n\\nconst enhancer = compose(\\n  // Middleware you want to use in development:\\n  applyMiddleware(d1, d2, d3),\\n  // Required! Enable Redux DevTools with the monitors you chose\\n  DevTools.instrument()\\n);\\nconst store = createStore(rootReducer, initialState, enhancer);\\n\\nexport default store;\\n```\\n```tsx\\n// App.tsx\\nimport React from \'react\';\\nimport { render } from \'react-dom\';\\nimport { Provider } from \'react-redux\';\\n\\nrender(\\n  <Provider store={store}>\\n    <div>\\n      <TodoApp />\\n      <DevTools />\\n    </div>\\n  </Provider>\\ndocument.getElementById(\'app\')\\n);\\n```\\n\uc704\ucabd \ucf54\ub4dc\ub294 \ub9cc\ub4e4\uc5b4 \ub193\uc740 `DevTools`\ub97c \uc774\uc6a9\ud574\uc11c store enhancer\uc640 Component\uc5d0 \uc4f0\uc774\ub294 \ubd80\ubd84\uc758 \uc608\uc2dc\ucf54\ub4dc\uc774\ub2e4.\\n\\n\uc790, \uc774\uc81c redux-devtools \ub0b4\uc6a9\uc744 \ubcf4\ub824\uba74 \ubb34\uc5c7\uc744 \ud655\uc778\ud574\uc57c\ud558\ub294\uc9c0 \ud30c\uc545 \ud560 \uc218 \uc788\ub2e4. <br/>\\nredux-devtools\ub294 \ucef4\ud3ec\ub10c\ud2b8\uc640 redux store enhancer\ud615\ud0dc\ub85c web application\uc5d0 \uc5f0\uacb0\ub418\uba70 `@redux-devtools/core`\uc758 \ub0b4\ubd80\ub97c \ud655\uc778\ud574\ubcf4\uba74 \ub420 \uac83 \uac19\ub2e4.   \\n\\n\uc5ec\uae30\uc11c `DockMonitor`\ub098 `LogMonitor`\ub294 web application \ub0b4\ubd80\uc5d0 redux-devtools\ub97c \ud45c\uc2dc\ud558\ub294 \ubd80\uc218\uc801\uc778 \uae30\ub2a5\uc774\ubbc0\ub85c \uc774 \uae00\uc5d0\uc11c\ub294 `@redux-devtools/core`\ub9cc \ud655\uc778 \ud560 \uc608\uc815\uc774\ub2e4.\\n\\n### Recap about devtools connection with web application\\nredux-devtools\uc640 web application\uc758 \uc5f0\uacb0\uace0\ub9ac\ub294 browser extension\uc744 \uc774\uc6a9\ud55c \uc5f0\uacb0\ubcf4\ub2e4 [\uc9c1\uc811 \uc5f0\uacb0\ud558\ub294 \ubc29\ubc95](https://github.com/reduxjs/redux-devtools/blob/main/docs/Walkthrough.md#manual-integration)\uc744 \ud1b5\ud574\uc11c \ud78c\ud2b8\ub97c \uc5bb\uc744 \uc218 \uc788\uc5c8\ub2e4.\\n\\n`@redux-devtools/core`\uc5d0\uc11c `createDevTools` \ud568\uc218\ub97c \uc81c\uacf5\ud558\uba70, \uc774 \ud568\uc218\ub294 devtools\ub97c \uadf8\ub824\uc8fc\ub294 \ucef4\ud3ec\ub10c\ud2b8\ub97c \uc81c\uacf5\ud558\ub294 \ub3d9\uc2dc\uc5d0 redux store\uc5d0 \ub4e4\uc5b4\uac00\ub294 enhancer\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uac8c \ud574\uc900\ub2e4.\\n\\n\uc5f0\uacb0 \uace0\ub9ac\ub97c \ucc3e\uc558\uc73c\ub2c8 `@redux-devtools/core`\uc758 `createDevTools` \ub0b4\uc6a9\uc744 \ud655\uc778\ud574 \ubcfc \uc608\uc815\uc774\ub2e4.\\n\\n## createDevTools\\n[createDevTools](https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools/src/createDevTools.js#L24)\ub294 DevTools\ub97c \uadf8\ub824\uc8fc\ub294 \ucef4\ud3ec\ub10c\ud2b8\uc640, store\uc5d0 \ub4f1\ub85d\ud560 enhancer \uc0dd\uc131 \uba54\uc18c\ub4dc\ub97c \uac00\uc9c0\uace0 \uc788\ub2e4.\\n\uc6b0\ub9ac\ub294 enhancer\ub97c \uc704\uc8fc\ub85c \uc0b4\ud3b4\ubcfc \uac83 \uc774\ub2e4.\\n\\n```tsx\\nimport instrument from \'redux-devtools-instrument\';\\n\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools/src/createDevTools.js#L24\\nexport default function createDevTools(children) {\\n  const Monitor = monitorElement.type;\\n  ...\\n  return class DevTools extends Component {\\n    static instrument = options => instrument(\\n      (state, action) => Monitor.update(monitorProps, state, action),\\n      options,\\n    )\\n    \\n    render() {\\n      ...\\n    }\\n  }\\n}\\n```\\n`createDevTools`\uc5d0\uc11c\ub294 static\ud568\uc218\ub85c `instrument`\ub97c \uc81c\uacf5\ud558\uba70 `instrument`\ub294 [redux-devtools-instrument](https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L737)\ub85c \ub4e4\uc5b4\uac04\ub2e4.\\n\\n## redux enhancer\\n`DevTools.instrument()`\ub294 store\uc758 enhancer\uc5d0\uc11c \uc0ac\uc6a9\ub420 \uc608\uc815\uc774\ub2e4. \ub530\ub77c\uc11c [instrument](https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L737)\ub294 enhancer \ud568\uc218\ub97c \ub9ac\ud134\ud558\ub294 \uac83\uc774\ub77c\uace0 \uc608\uc0c1\ud560 \uc218 \uc788\ub2e4.\\n`instrument`\ub97c \uc54c\uc544\ubcf4\uae30 \uc804\uc5d0 redux enhancer\uc5d0 \ub300\ud574\uc11c \ub418\uc9da\uc5b4\ubcf4\uc790.\\n\\n[redux store enhancer](https://redux.js.org/usage/configuring-your-store#enhancersmonitorreducerjs) \ud615\uc2dd\uc740 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n```tsx\\n// https://redux.js.org/usage/configuring-your-store#enhancersmonitorreducerjs\\nconst exampleEnhancer = (createStore) => (reducer, initialState, enhancer) => {\\n  const monitorReducer = (state, action) => {\\n    const start = performance.now()\\n    const newState = reducer(state, action)\\n    const end = performance.now()\\n    const diff = round(end - start)\\n\\n    console.log(\'reducer process time:\', diff)\\n\\n    return newState\\n  }\\n  \\n  return createStore(monitorReducer, initialState, enhancer) \\n}\\n```\\n`enhancer`\ub294 `createStore`\ub97c \uc778\uc790\ub85c \ubc1b\uace0, store\ub97c \ub9ac\ud134\ud558\ub294 \ud568\uc218\ub97c \ub9cc\ub4e4\uc5b4\uc11c \ub9ac\ud134\ud55c\ub2e4. \\n\uc704 \ucf54\ub4dc\ub294 redux\ubb38\uc11c\uc5d0 \uc788\ub294 \uc608\uc2dc\uc778\ub370, `monitorReducer`\ub97c \ub9cc\ub4e4\uc5b4\uc11c \uae30\uc874 reducer\ub97c `monitorReducer`\ub85c \ub300\uccb4\ud558\ub294 \uc5ed\ud560\uc744 \ud558\ub294 \uac83\uc774\ub2e4.\\n\\n`enhancer`\ub294 \uc774\ub7f0 \ubc29\uc2dd\uc73c\ub85c reducer\ub098 state\ub97c \ubcc0\ud615\uc2dc\ud0a4\uace0, `redux-devtools` \ub610\ud55c enhancer\uc758 \uc774\ub7ec\ud55c \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\uc5ec logging, rollback, skip \uae30\ub2a5 \ub4f1\uc744 \uad6c\ud604\ud558\uace0 \uc788\ub2e4.\\n\\n## instrument\\n[instrument](https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L737)\ub294 redux enhancer\ub97c \ubc18\ud658\ud558\uace0 \ub0b4\ubd80 \uad6c\uc870\ub97c \ubcf4\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L737-L771\\nexport default function instrument(monitorReducer, options) {\\n  return (createStore) => (reducer, initialState, enhancer) => {\\n    function liftReducer(r) {\\n      return liftReducerWith(r, initialState, monitorReducer, options);\\n    }\\n  }\\n  \\n  const liftedStore = createStore(liftReudcer(reducer), enhancer);\\n  \\n  return unliftStore(liftedStore, liftReducer, options);\\n}\\n```\\n\uc5ec\uae30\uc11c `unliftStore` \ud568\uc218 \uacb0\uacfc \uac12\uc744 \ub9ac\ud134\ud558\uace0, reducer\ub294 `liftReducer`\ub97c \ud1b5\ud574\uc11c \uac00\uacf5\ub41c\ub2e4.\\n\\n\uc55e\uc73c\ub85c\uc758 \uc124\uba85\uc744 \uc870\uae08 \uc774\ud574\ud558\uae30 \uc27d\ub3c4\ub85d \ubd80\uc5f0\uc124\uba85\uc744 \ud558\uc790\uba74, `redux-devtools`\ub294 app\uc758 store\uc640\ub294 \ubcc4\ub3c4\ub85c devtools\uc758 store\ub97c \ud558\ub098 \ub354 \ub9cc\ub4dc\ub294 \ubc29\uc2dd\uc774\ub2e4.\\n\uc989, app\uc5d0\uc11c redux store\ub97c \uc0dd\uc131\ud574\uc11c \uc0ac\uc6a9\ud558\uc9c0\ub9cc devtools\uc5d0\uc11c\ub294 app\uacfc\ub294 \ub2e4\ub978 redux store\ub97c \ub9cc\ub4e4\uc5b4\uc11c \uc0ac\uc6a9\ud55c\ub2e4. \\n\uc774 \ub450\uac00\uc9c0\uc758 \uad6c\ubd84\uc5d0\ub294 `instrument`\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ud568\uc218\uba85\uc5d0\ub3c4 \ud655\uc778 \ud560 \uc218 \uc788\ub4ef\uc774 `lift`\uc640 `unlift`\ub77c\ub294 \ub2e8\uc5b4\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\\n\\n`lift`\ub294 app \uc815\ubcf4\ub4e4\uc744 devtools\ub85c \ub04c\uc5b4\uc62c\ub9ac\ub294 \uac83\uc744 \uc758\ubbf8\ud558\uace0, `unlift`\ub294 devtools \uc815\ubcf4\ub4e4\uc744 app\uc5d0\uc11c \uc4f8 \uc218 \uc788\uac8c \ub04c\uc5b4\ub0b4\ub9ac\ub294 \uac83\uc744 \uc758\ubbf8\ud55c\ub2e4.\\n\uc989, \uc774 \uac00\uc815\uc744 \ud1a0\ub300\ub85c `liftReducer`\uc640 `unliftStore`\uac00 \ud558\ub294 \uc5ed\ud560\uc744 \uc720\ucd94\ud574\ubcf4\uc790\uba74 `liftReducer`\ub294 devtools\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 reducer\uc774\uace0, \\n`liftedStore`\ub294 devtools\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 store\ub97c \uc758\ubbf8\ud55c\ub2e4. \ubc18\ub300\ub85c `unliftStore`\ub294 devtools\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 `liftedStore`\ub97c \uc774\uc6a9\ud574\uc11c app\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 store\ub97c \ub9cc\ub4e0\ub2e4\ub294 \uc758\ubbf8\ub85c \uc774\ud574\ud558\uba74 \ub41c\ub2e4.\\n\\n\ubb3c\ub860 devtools \ubb38\uc11c\uc5d0\uc11c \ubc1c\uacac\ud55c \uacf5\uc2dd\ud45c\ud604\uc740 \uc544\ub2c8\uace0 devtools\ub97c \uc774\ud574\ud558\ub824 \ud558\ub294 \uc785\uc7a5\uc5d0\uc11c \uc774\ub807\uac8c \uc774\ud574\ud558\uba74 \uc88b\uc744 \uac83 \uac19\uc544\uc11c \ud45c\ud604\uc744 \uac00\uc838\uc654\ub2e4.\\n\\n:::tip TIP\\n`redux-devtools`\uc5d0\uc11c\ub294 app\uc758 store\uc640 devtools\uc758 store\ub97c \uad6c\ubd84\ud558\uace0 \uc788\ub2e4. <br/>\\n`lift`\ub294 app\uc758 \uac83\uc744 \uc774\uc6a9\ud574\uc11c devtools\uc758 \uac83\uc73c\ub85c \uce58\ud658\ud558\ub294 \uac83\uc744 \uc758\ubbf8\ud558\uace0 `unlift`\ub294 devtools \uac83\uc744 \uc774\uc6a9\ud558\uc5ec app\uc758 \uac83\uc73c\ub85c \uce58\ud658\ud558\ub294 \uc758\ubbf8\uc774\ub2e4.\\n\\n\uc608\ub97c \ub4e4\uc5b4\uc11c `unliftStore`\ub77c\ub294 \uac83\uc740 `liftedStore`(devtools\uc758 store)\ub97c \uc774\uc6a9\ud574\uc11c app\uc758 store\ub97c \uad6c\ud558\ub294 \ud568\uc218\uc778 \uac83\uc774\ub2e4.\\n\\n\uacf5\uc2dd\uc801\uc778 \uc6a9\uc5b4\ud574\uc124\uc740 \uc544\ub2c8\uc9c0\ub9cc \uc774\ub7ec\ud55c \uc758\ubbf8\ub97c \uac00\uc9c0\uace0 redux-devtools\uc758 \ucf54\ub4dc\ub97c \ud655\uc778\ud558\uba74 \uc880 \ub354 \uc774\ud574\ud558\uae30 \uc26c\uc6b8 \uac83\uc774\ub2e4.\\n:::\\n\\n## unliftStore\\n`instrument`\uc758 return\uc5d0 \uc4f0\uc774\ub294 [unliftStore](https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L680-L732)\ub97c \uba3c\uc800 \uc0b4\ud3b4\ubcf8\ub2e4.\\n`unliftStore`\ub294 app\uc5d0\uc11c \uc4f0\uc774\ub294 store\ub97c \uc0dd\uc131\ud558\ub294 \ud568\uc218\uc774\ub2e4.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L680-L732\\nexport function unliftStore(liftedStore, liftReducer, options) {\\n  function getState() { ... }\\n  function dispatch() { ... }\\n  \\n  return {\\n    ...liftedStore,\\n    liftedStore,\\n    dispatch,\\n    getState,\\n    replaceReducer() { ... },\\n    [$$observable]() { ... },\\n  }\\n}\\n```\\n`unliftStore`\ub294 dispatch, getState, replaceReducer\ub4f1 \uc5ec\ub7ec \uba54\uc18c\ub4dc\ub97c \ub9ac\ud134\ud558\ub294\ub370 \uba54\uc18c\ub4dc \uba85\ub4e4\uc774 \uc775\uc219\ud55c \uac83\ub4e4\uc774\ub2e4. \ubc14\ub85c redux store\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uba54\uc18c\ub4dc\uc774\uae30 \ub54c\ubb38\uc774\ub2e4.\\n\uc989, `unliftStore`\ub294 `createStore`\ub97c \uc0ac\uc6a9\ud558\uc9c4 \uc54a\uc9c0\ub9cc redux store\ub97c \ub9ac\ud134\ud55c\ub2e4\ub294 \uac83\uc744 \uc54c \uc218 \uc788\ub2e4. \\n`unliftStore`\ub294 redux store enhancer\uc5d0 \uc0ac\uc6a9\ub418\uba70, enhancer\uc758 \ub9ac\ud134 \uac12\uc740 redux store\uac00 \ubc18\ud658\ub418\ubbc0\ub85c \\n`unliftStore`\uc758 return \uac12\uc774 redux store\uc640 \ub3d9\uc77c\ud55c \uac74 \ub2f9\uc5f0\ud55c \uac83\uc77c\uc9c0\ub3c4 \ubaa8\ub978\ub2e4. \\n\\n### getState\\nredux store\uc5d0\uc11c getState\ub294 redux store\uac00 \uac00\uc9c0\uace0 \uc788\ub294 state \uac1d\uccb4\ub97c \ubc18\ud658\ud558\ub294 \uc5ed\ud560\uc744 \uac16\uace0\uc788\ub2e4. `unliftStore`\uc5d0\uc11c \ub9ac\ud134 \ub41c `getState`\ub294 devtools\uac00 \uc544\ub2c8\ub77c app\uc5d0\uc11c \uc4f0\uc778\ub2e4.\\n\ub530\ub77c\uc11c, `getState`\uac00 return\ud558\ub294 \uac12\uc740 app\uc758 redux store\uac00 \uac00\uc9c0\uace0 \uc788\ub294 state\ub77c\ub294 \uc810\uc744 \uc608\uc0c1 \ud560 \uc218 \uc788\ub2e4. \ud55c\ubc88 \ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uc790.\\n\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L685-L691\\nfunction getState() {\\n  return unliftState(liftedStore.getState());\\n  if (state !== undefined) {\\n    lastDefinedState = state;\\n  }\\n  return lastDefinedState;\\n}\\n\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L671-L674\\nfunction unliftState(liftedState) {\\n  const { computedStates, currentStateIndex } = liftedState;\\n  const { state } = computedStates[currentStateIndex];\\n  \\n  return state;\\n}\\n```\\n`getState`\ub294 `unliftState`\ub97c \ud638\ucd9c\ud558\uace0 `unliftState`\ub294 state\ub97c \ub9ac\ud134\ud55c\ub2e4. `lift`\uc640 `unlift`\uc758 \uc758\ubbf8\ub97c \uc0dd\uac01\ud574\ubcf4\uba74 `unliftState`\ub294 app\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 state\ub97c \uc758\ubbf8\ud55c\ub2e4.\\n\ub530\ub77c\uc11c `getState`\ub294 `liftedStore`(devtools\uc758 store) \ub85c\ubd80\ud130 state\ub97c \uac00\uc838\uc640\uc11c `unliftState`(app\uc758 redux state)\ub97c \ucd94\ucd9c\ud574\ub0b8\ub2e4.\\n\\n`unliftState` \ub0b4\ubd80 \uad6c\ud604\uc744 \uc0b4\ud3b4\ubcf4\uba74 `liftedState`\ub85c\ubd80\ud130 `computedStates`\uc640 `currentStateIndex`\ub97c \uac00\uc838\uc640\uc11c state\ub97c \ucd94\ucd9c\ud55c\ub2e4.\\n\uc989, `liftState`\ub294 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud560 \ub54c app\uc758 state\ub97c \ubaa8\ub450 `computedStates`\uc5d0 \uc800\uc7a5\ud558\uace0 state\uc758 index\ub97c \ub530\ub85c `currentStateIndex`\uc5d0 \uc800\uc7a5\ud55c\ub2e4\ub294 \uac83\uc744 \uc608\uce21\ud560 \uc218 \uc788\ub2e4.\\n\ubb3c\ub860, \uc544\uc9c1 liftState\ub97c \uc5b4\ub5bb\uac8c \ub9cc\ub4dc\ub294\uc9c0\uc5d0 \ub300\ud574\uc11c\ub294 \ud655\uc778\ud558\uae30 \uc804\uc774\ubbc0\ub85c \uc774\uc815\ub3c4 \uc608\uce21\ub9cc \ud558\uace0 \uacc4\uc18d \ucf54\ub4dc\ub97c \uc77d\uc5b4\ubcf4\uc790.\\n\\n:::note Note\\n`unliftState`\ub294 liftedState\ub85c \ubd80\ud130 unliftState\ub97c \ub9ac\ud134\ud558\ub294 \ud568\uc218\uc774\ub2e4. <br/>\\n\ud604\uc7ac\ub294 `liftedState`\uac00 \uc5b4\ub5a4 \ub370\uc774\ud130\ub97c \uac16\uace0 \uc788\ub294\uc9c0 \ubaa8\ub974\uc9c0\ub9cc `computedStates`\uc640  `currentStateIndex`\ub97c \ud1b5\ud574\uc11c app\uc758 state\ub97c \uad6c\ud558\uace0 \uc788\ub2e4\ub294 \uc810\uc744 \uae30\uc5b5\ud574\ub450\uc790. \\n:::\\n\\n### dispatch\\n\uc774 `dispatch`\ub3c4 app\uc5d0\uc11c \uc4f0\uc774\ub294 dispatch\uc774\ub2e4. \ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uc790.\\n\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L693-L696\\nfunction dispatch(action) {\\n  liftedStore.dispatch(liftAction(action, trace, traceLimit, dispatch))\\n\\n  return action;\\n}\\n\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L246-L253\\nfunction liftAction(action, trace, traceLimit, toExcludeFromTrace) {\\n  return ActionCreators.performAction(\\n    action,\\n    trace,\\n    traceLimit,\\n    toExcludeFromTrace\\n  );\\n}\\n```\\n`dispatch`\uc758 parameter\ub85c \ub4e4\uc5b4\uc624\ub294 action\uc740 app\uc5d0\uc11c \uc815\uc758\ud55c action\uac1d\uccb4\uc77c \uac83\uc774\ub2e4. \uc65c\ub0d0\ud558\uba74 `unliftStore`\uc5d0\uc11c \ub9cc\ub4e4\uc5b4\uc9c0\ub294 \uba54\uc18c\ub4dc\ub294 \ubaa8\ub450 app\uc5d0\uc11c \uadf8\ub300\ub85c \uc4f0\uc77c \uac83\uc774\uae30 \ub54c\ubb38\uc774\ub2e4. \uc774\ub294 dispatch\ub3c4 \uc608\uc678\ub294 \uc544\ub2c8\ub2e4.\\n\ub530\ub77c\uc11c app\uc758 action \uac1d\uccb4\ub97c \ubc1b\uc544\uc11c `liftedStore`(devtools\uc758 store)\uc5d0 dispatch\ub97c \uc0ac\uc6a9\ud574\uc11c action\uc744 \uc804\ub2ec\ud574\uc8fc\ub294\ub370 action\uc744 \uadf8\ub300\ub85c \uc804\ub2ec\ud574\uc8fc\ub294 \uac83\uc774 \uc544\ub2c8\ub77c `liftAction`\uc744 \ud1b5\ud574\uc11c app\uc758 action\uc744 devtools\uc758 action \ud615\uc2dd\uc73c\ub85c \ubc14\uafb8\uc5b4\uc900\ub2e4.\\n`liftAction` \ub0b4\ubd80\ub97c \ubcf4\uba74 [ActionCreators.performAction](https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L38-L97)\uc740\\nactionType\uc744 `PERFORM_ACTION`\uc73c\ub85c \uac00\uc9c0\ub294 \uc561\uc158 \uac1d\uccb4\uc774\ub2e4. \ub530\ub77c\uc11c app\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ubaa8\ub4e0 action\uc740 `PERFORM_ACTION`\uc73c\ub85c \ubcc0\uacbd\ub418\uc5b4 `liftedStore`\uc5d0\uc11c \uc4f0\uc778\ub2e4.\\n\\n\uc790 \uc5ec\uae30\uc11c action\uc744 dispatch \ud588\uc744 \ub54c redux-devtools\uac00 \ud3ec\ud568 \ub41c \ud750\ub984\uc744 \uc0dd\uac01\ud574\ubcf4\uc790.\\n1. action\uc774 app\uc5d0\uc11c dispatch \ub41c\ub2e4.\\n2. dispatch\ub294 \ub0b4\ubd80\uc5d0\uc11c action\uc744 liftedAction\uc73c\ub85c \ubcc0\ud658\uc2dc\ud0a8\ub2e4.\\n3. liftedAction\uc740 `liftedStore.dispatch`\ub97c \ud1b5\ud574\uc11c \ud638\ucd9c\ub418\uc5b4 `liftedStore`\uc5d0\uc11c \uc18c\ube44\ub41c\ub2e4.\\n\\n\uc774 \ud50c\ub85c\uc6b0\uc5d0\uc11c app\uc758 dispatch\ub97c \ud638\ucd9c\ud558\ub294 \uacfc\uc815\uc740 \ud3ec\ud568\ub418\uc9c0 \uc54a\ub294\ub2e4.\\n\ubcf8\ub798\uc758 [dispatch](https://github.com/reduxjs/redux/blob/master/src/createStore.ts#L257-L262)\uac00 \ud558\ub294 \uc5ed\ud560\uc778 reducer\uc5d0 action\uc744 \ub118\uaca8\uc11c state\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\ub294 \uacfc\uc815\uc774 \ud3ec\ud568\ub418\uc9c0 \uc54a\uc558\ub2e4.\\n\ub530\ub77c\uc11c dispatch \ub85c\uc9c1\uc740 app\uc758 state\ub97c \ubcc0\uacbd\ud558\uc9c0 \uc54a\uace0 `PERFORM_ACTION`\uc73c\ub85c \ubcc0\uacbd\ud558\uc5ec liftedStore\uc758 dispatch\ub97c \ud638\ucd9c\ud558\ub294 \uc5ed\ud560\ub85c \ubcc0\uacbd\ub418\uc5c8\ub2e4. \\n\\n### Recap about unliftStore\\n- `unliftStore`\ub294 store\ud615\uc2dd\uc744 \uadf8\ub300\ub85c \ubc18\ud658\ud55c\ub2e4. \uc989, getState\uc640 dispatch\ub97c \ubc18\ud658\ud558\uace0 \uc788\ub2e4.\\n- `unliftStore.getState`\ub294 app\uc758 redux state\ub97c \ubc18\ud658\ud558\uba70, `liftedState`\uc758 `computedStates`\uc640 `currentStateIndex`\ub97c \uc0ac\uc6a9\ud558\uc5ec app\uc758 state\ub97c \uc2dd\ubcc4\ud558\uace0 \uc788\ub2e4.\\n- `unliftStore.dispatch`\ub294 action\uc744 \ubaa8\ub450 `PERFORM_ACTION`\uc73c\ub85c \ubcc0\ud658\uc2dc\ud0a4\uba70 `liftedStore.dispatch`\ub97c \ud638\ucd9c\ud55c\ub2e4.\\n  - \ubcf8\ub798\uc758 dispatch\uac00 \uac00\uc9c0\ub294 app\uc758 state\ub97c \uc5c5\ub370\uc774\ud2b8 \uc2dc\ud0a4\ub294 \ub3d9\uc791\uc740 \uc544\uc9c1 \uc9c4\ud589\ub418\uc9c0 \uc54a\uc558\ub2e4.\\n\\n## liftReducer\\n\uc790, \uadf8\ub7fc \ub2e4\uc2dc `instrument`\uc758 \ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uc790.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L737-L771\\nexport default function instrument(monitorReducer, options) {\\n  return (createStore) => (reducer, initialState, enhancer) => {\\n    function liftReducer(r) {\\n      return liftReducerWith(r, initialState, monitorReducer, options);\\n    }\\n  }\\n  \\n  const liftedStore = createStore(liftReudcer(reducer), enhancer);\\n  \\n  return unliftStore(liftedStore, liftReducer, options);\\n}\\n```\\n\uc774\uc804 \uacfc\uc815\uc744 \ud1b5\ud574\uc11c \uc6b0\ub9ac\ub294 `unliftStore`\uc758 \uc4f0\uc784\uc740 `getState`\ub098 `dispatch`\uc640 \uac19\uc740 \uba54\uc18c\ub4dc\ub97c \uc0c8\ub86d\uac8c \uc815\uc758\ud574\uc11c app\uc5d0\uc11c \uc0ac\uc6a9\ud560 \ub54c \uc4f0\uc774\uac8c \ud558\ub294 \uc5ed\ud560\uc774\ub77c\ub294 \uac83\uc744 \uc774\ud574\ud560 \uc218 \uc788\uc5c8\ub2e4. <br />\\n\ub2e4\uc74c\uc73c\ub85c \uc0b4\ud3b4\ubcfc \uac83\uc740 `liftedStore`\uc640 `liftReducer` \uc778\ub370 `liftedStore`\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 `createStore`\ub294 redux\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uac83\uc774\ubbc0\ub85c `liftReducer`\ub9cc \ud655\uc778 \ub41c\ub2e4\uba74\\n`redux-devtools`\uc758 \ud0c0\uc784\uba38\uc2e0 \ub514\ubc84\uae45\uc758 \ube44\ubc00\uc744 \uc54c \uc218 \uc788\uc744 \uac83\uc774\ub2e4.\\n\\n[liftReducer](https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L258-L666)\ub294 `lift`\ub77c\ub294 \uc6a9\uc5b4\uc5d0 \uac78\ub9de\uac8c devtools\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 reducer\ub97c \uc758\ubbf8\ud55c\ub2e4.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L258-L666\\nexport function liftReducerWith(reducer, initialCommittedState, monitorReducer, options) {\\n  const initialLiftedState = { ... };\\n  ...\\n  return (liftedState, liftedAction) => {\\n    ...\\n    switch (liftedAction.type) {\\n      case ActionTypes.PERFORM_ACTION: {\\n        ...\\n      },\\n      ...\\n    }\\n  }\\n}\\n```\\n`liftReducerWith`\ub294 \ucf54\ub4dc\uac00 \uc0c1\ub2f9\ud788 \uae38\ub2e4. reducer\ub77c\ub294 \uc774\ub984\uc5d0 \uac78\ub9de\uac8c \ucd08\uae30 \uc0c1\ud0dc(`initialLiftedState`)\ub3c4 \uc874\uc7ac\ud558\uace0, `liftedAction.type`\uc5d0 \ub530\ub77c state\ub97c \ubd84\uae30\ud574\uc8fc\uace0 \uc788\ub2e4.\\n\uc6b0\ub9ac\ub294 `unliftStore`\ub97c \uc0b4\ud3b4\ubcf4\uace0 \uc654\uae30 \ub54c\ubb38\uc5d0 app\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ubaa8\ub4e0 action\uc740 `PERFORM_ACTION`\uc73c\ub85c \uce58\ud658\ub418\uc5b4 `liftReducer`\uc5d0 \uc804\ub2ec\ub41c\ub2e4\ub294 \uac83\uc744 \uc54c\uace0 \uc788\ub2e4.\\n\\n\ub530\ub77c\uc11c, `initialState`\uc640 `PERFORM_ACTION`\uc77c\ub54c\uc758 reducer \ub3d9\uc791\uc5d0 \ub300\ud574\uc11c \ud655\uc778\ud574 \ubcfc \uac83\uc774\ub2e4.\\n\\n### initialState\\n`liftReducer`\uc758 `initialState`\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L264-L275\\nconst initialLiftedState = {\\n  monitorState: monitorReducer(undefined, {}),\\n  nextActionId: 1,\\n  actionsById: { 0: liftAction(INIT_ACTION) },\\n  stagedActionIds: [0],\\n  skippedActionIds: [],\\n  committedState: initialCommittedState,\\n  currentStateIndex: 0,\\n  computedStates: [],\\n  isLocked: options.shouldStartLocked === true,\\n  isPaused: options.shouldRecordChanges === false\\n};\\n```\\ninitialState\ub97c \ubcf4\uace0 \ub300\ub7b5\uc801\uc73c\ub85c \uc5b4\ub5a4 \uc815\ubcf4\ub4e4\uc744 \uc800\uc7a5\ud558\ub294\uc9c0\ub294 \uc54c \uc218 \uc5c6\uc9c0\ub9cc, \uc6b0\ub9ac\ub294 `unliftState`\uc5d0\uc11c liftState\uc758 \uc5b4\ub5a4 \uac83\uc744 \uc0ac\uc6a9\ud558\ub294\uc9c0 \ud655\uc778\ud55c \uc801\uc774 \uc788\ub2e4.\\n:::note Note\\n`unliftState`\uc5d0\uc11c \uc5b8\uae09\ud588\ub358 \ub0b4\uc6a9\\n  - \uc989, `liftState`\ub294 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud560 \ub54c app\uc758 state\ub97c \ubaa8\ub450 `computedStates`\uc5d0 \uc800\uc7a5\ud558\uace0 state\uc758 index\ub97c \ub530\ub85c `currentStateIndex`\uc5d0 \uc800\uc7a5\ud55c\ub2e4\ub294 \uac83\uc744 \uc608\uce21\ud560 \uc218 \uc788\ub2e4.\\n:::\\n`computedStates`\uc640 `currentStateIndex`\ub97c \uc0ac\uc6a9\ud574\uc11c unliftState\ub97c \uacc4\uc0b0\uc744 \ud588\uc5c8\uc73c\ub2c8, `computedStates`\uc5d0\ub294 app\uc758 state\uc5d0 \ub300\ud55c \uc815\ubcf4\ub4e4\uc774 \uc800\uc7a5\ub418\uace0, \\n`currentStateIndex`\ub294 \ud604\uc7ac state\uac00 \uc5b4\ub5a4 index\uc5d0 \uc800\uc7a5\ub418\uc5b4\uc788\ub294\uc9c0\ub97c \uc800\uc7a5\ud558\ub294 \uac83 \ucc98\ub7fc \ubcf4\uc778\ub2e4. \\n\\n\uc774\uc678\uc5d0 \uc608\uc0c1 \uac00\ub2a5\ud55c state\ub97c \ubcf4\uba74 `actionsById`\ub294 id\uc5d0 \ub300\ud55c action \uc815\ubcf4\ub97c \uc800\uc7a5\ud558\ub294 \uac83 \uac19\uc544\ubcf4\uc774\uace0, `stagedActionIds`\ub098 `skippedActionIds`\ub294 \ud2b9\uc815 \uc0c1\ud0dc\uc758 \uc561\uc158(staged\uc0c1\ud0dc\ub098 skipped\uc0c1\ud0dc)\uc5d0 \ub300\ud55c action id \uac12\uc744 \uc800\uc7a5\ud55c \uac83 \uac19\uc544 \ubcf4\uc778\ub2e4.\\n`isLocked`\ub098  `isPaused`\ub294 devtools\uc5d0\uc11c action\uc758 \uae30\ub85d \uc5ec\ubd80\ub97c \uc800\uc7a5\ud558\ub294 \uc635\uc158 \uac19\uc544\ubcf4\uc778\ub2e4. \uc6b0\uc120\uc740 \uc544\ub798 \ub0b4\uc6a9\ub9cc \uc815\ub9ac\ud558\uace0 \ub118\uc5b4\uac00\uc790.\\n\\n#### recap about initialState\\n- devtools\ub294 action\uc815\ubcf4\ub97c [normalized](https://redux.js.org/usage/structuring-reducers/normalizing-state-shape)\ub97c \uc0ac\uc6a9\ud574\uc11c byId\uc640 id\ud615\ud0dc\ub85c \uc800\uc7a5\ud558\uace0 \uc788\ub2e4.   \\n- `computedStates`\uc5d0 state\ub4e4\uc744 \uc800\uc7a5\ud558\ub294 \uac83\uc73c\ub85c \uc608\uc0c1\ub418\uba70, `currentStateIndex`\ub294 `computedStates` \uc911 \uc5b4\ub5a4 state\uac00 \uc0ac\uc6a9\ub418\uace0 \uc788\ub294\uc9c0 index\ub97c \uc800\uc7a5\ud558\uace0 \uc788\ub294 \uac83 \uac19\uc544 \ubcf4\uc778\ub2e4.\\n- `isLocked`\ub098 `isPaused`\uc5d0 \ub300\ud55c \uc635\uc158 \uac12\ub4e4\uc744 \uac00\uc9c0\uace0 \uc788\ub2e4.\\n\\n### PERFORM_ACTION\uc758 \ub3d9\uc791\\n\uc6b0\ub9ac\ub294 app\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ubaa8\ub4e0 action\uc740 `PERFORM_ACTION` \ud0c0\uc785\uc744 \uac00\uc9c0\ub294 action\uc73c\ub85c \ubcc0\ud658\ub418\uc5b4 liftReducer\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 \uac83\uc744 \ud655\uc778\ud588\uc5c8\ub2e4.\\n\ub530\ub77c\uc11c liftReducer\uc5d0\uc11c `PERFORM_ACTION`\uc774 \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \ub3d9\uc791\ud560\uc9c0 \ud655\uc778\ud574\ubcf4\uc790.\\n\\nreducer\ub97c \ubcf4\uae30 \uc804\uc5d0 `PERFORM_ACTION`\uc758 payload\uc5d0\ub294 \uc5b4\ub5a4 \uc815\ubcf4\ub4e4\uc774 \uc800\uc7a5\ub418\uc5b4\uc788\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\uc790.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L38-L97\\nexport const ActionCreators = {\\n  performAction(action, trace, traceLimit, toExcludeFromTrace) {\\n    ...\\n    return {\\n      type: ActionTypes.PERFORM_ACTION,\\n      action,\\n      timestamp: Date.now(),\\n      stack,\\n    }\\n  }\\n}\\n```\\n`PERFORM_ACTION`\uc740 \uc778\uc790\ub85c \ubc1b\uc740 action\uc744 \uadf8\ub300\ub85c \uc800\uc7a5\ud558\uace0 \ud2b9\ubcc4\ud788 \ub2e4\ub978 \uc815\ubcf4\ub4e4\uc744 \uc800\uc7a5\ud558\uace0 \uc788\uc9c0\ub294 \uc54a\ub294\ub2e4. \ub9c1\ud06c\ub97c \ud1b5\ud574\uc11c \uc9c1\uc811 \ucf54\ub4dc\ub97c \ucc3e\uc544\uac00\uba74 `stack`\uacfc \uac19\uc740 \ub85c\uc9c1\uc774 \ubcf5\uc7a1\ud558\uac8c \uc788\ub294 \uac83\uc744 \ubcfc \uc218 \uc788\ub2e4.\\n\uc774\ub294, devtools\uc758 trace \uae30\ub2a5\uc744 \ubcf4\uc5ec\uc8fc\uae30 \uc704\ud574\uc11c \uc5ec\ub7ec\uac00\uc9c0 \ub85c\uc9c1\uc744 \uac16\uace0 \uc788\ub294 \uac83 \ub54c\ubb38\uc778\ub370 \uc6b0\ub9ac\uc758 \ubaa9\uc801\uc740 trace\ub97c \uc0b4\ud3b4\ubcf4\ub294 \uac83\uc774 \uc544\ub2c8\uae30 \ub54c\ubb38\uc5d0 \uac00\ubccd\uac8c \uc9c0\ub098\uac00\ub3c4 \uad1c\ucc2e\uc744 \uac83\uc774\ub2e4.\\n\\naction\uc758 \ud615\ud0dc\ub97c \ubcf4\uc558\uc73c\ub2c8 \uc774\uc81c reducer\ubd80\ubd84\uc744 \uc0b4\ud3b4\ubcf4\uc790.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L426-L446\\nexport function liftReducerWith() {\\n  ...\\n  let minInvalidatedStateIndex = 0;\\n  ...\\n  swtich (liftedAction.type) {\\n    case ActionTypes.PERFORM_ACTION: {\\n      ...\\n      if (currentStateIndex === stagedActionIds.length - 1) {\\n        currentStateIndex++;\\n      }\\n      const actionId = nextActionId++;\\n      actionById[actionId] = liftedAction;\\n      stagedActionIds = [...stagedActionIds, actionId];\\n      minInvalidatedStateIndex = stagedActionIds.length - 1;\\n      break;\\n    }\\n    ...\\n  }\\n}\\n```\\n\uc6d0\ubb38 \ucf54\ub4dc\ub97c \ubcf4\uba74 \uc5ec\ub7ec \uc0c1\ud0dc\uc5d0 \ub530\ub77c \ub85c\uc9c1\uc774 \ub2e4\ub974\uc9c0\ub9cc \uae30\ubcf8 \ub3d9\uc791\uc744 \ud655\uc778\ud574\ubcf4\uba74 \uc704\uc640 \uac19\uc774 \uac04\ub2e8\ud558\uac8c \ub098\uc628\ub2e4. <br/>\\n`currentStateIndex`\ub97c \uc99d\uac00\ud558\uace0, `actionId`\ub97c \uc9c0\uc815\ud558\uace0, action\uc758 \uc815\ubcf4\ub97c `actionById`\uc5d0 \ud604\uc7ac action\uc744 \uc800\uc7a5\ud55c\ub2e4. \uadf8\ub9ac\uace0 `stagedActionIds`\uac00 \ub098\uc624\uace0 `minInvalidatedStateIndex`\uac00 \ub098\uc628\ub2e4.\\n\ubd84\uba85 `stagedActionIds`\ub294 `initialState`\uc5d0 \uc874\uc7ac\ud588\ub358 \uac12\uc774\uace0 `minInvalidatedStateIndex`\ub294 `initialState`\uc5d0 \uc800\uc7a5\ub418\uc9c0 \uc54a\uace0 \ub85c\uceec\ubcc0\uc218\ub77c\ub294 \uac83\uc744 \uc54c\uc218 \uc788\uc9c0\ub9cc, \\n\uc544\uc9c1 \uc5b4\ub5bb\uac8c \uc0ac\uc6a9\ub418\ub294\uc9c0 \uc54c\uc9c0 \ubabb\ud558\ubbc0\ub85c \uc77c\ub2e8 \ub118\uc5b4\uac00\ubcf4\uc790.\\n\\n:::tip TIP\\n`stagedActionIds`\uc640 `minInvalidatedStateIndex`\uac00 \uc5b4\ub5a4 \uc5ed\ud560\uc744 \ud558\ub294\uc9c0 \uc544\uc9c1 \uc54c\uc9c0 \ubabb\ud55c\ub2e4. \ud558\uc9c0\ub9cc \uc774\ud574\ud558\uae30 \uc27d\uac8c \uc5ed\ud560\uc744 \ubbf8\ub9ac \uc124\uba85\ud558\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n- `stagedActionIds`\\n  - devtools\uc5d0 \ubc18\uc601\uc774 \ub418\uc5b4\uc57c\ud558\ub294 action\uc758 id\ub97c \ubaa8\uc544\ub454 \ubc30\uc5f4\uc774\ub2e4.\\n  - \uc989, dispatch\ub41c \uac83\uc774 \uc720\ud6a8\ud55c action\uc758 list\ub97c \ubaa8\uc544\ub454 \uac83\uc774\uace0 `PERFORM_ACTION`\uc740 \uc0c8\ub85c\uc6b4 action\uc774 \ucd94\uac00 \ub418\ub294 \uac83\uc774\uae30 \ub54c\ubb38\uc5d0 \ud56d\uc0c1 stagedActionIds\uc5d0 \ud3ec\ud568\ub418\ub294 \uac83\uc774\ub2e4.\\n- `minInvalidatedStateIndex`\\n  - `minInvalidatedStateIndex`\ub294 \ud55c\ub9c8\ub514\ub85c \ub9d0\ud574\uc11c \uc7ac\uacc4\uc0b0\uc744 \ud574\uc57c\ud558\ub294 action\uc758 index \uac12\uc744 \uc758\ubbf8\ud55c\ub2e4.\\n  - `PERFORM_ACTION`\uc5d0\uc11c `minInvalidatedStateIndex`\ub294 `stagedActionIdex.length - 1` \uc774\ub2e4. \uc989, `stagedActionIndex`\uc758 \ub9c8\uc9c0\ub9c9 \uac12\uc744 \uac00\ub9ac\ud0a4\uace0 \uc788\uace0 \ub098\uc911\uc5d0 \ub9c8\uc9c0\ub9c9 action\uc5d0 \ub300\ud574\uc11c \uacc4\uc0b0\uc774 \ud544\uc694\ud558\ub2e4\ub294 \uc758\ubbf8\ub85c \uc4f0\uc77c \uac83\uc774\ub2e4.  \\n:::\\n\\naction\uc774 \ubc1c\uc0dd\ud588\uc744\ub54c \uc5b4\ub5bb\uac8c \ub3d9\uc791\ud558\ub294\uc9c0\ub97c \ud655\uc778\ud574\ubcf4\uc558\ub294\ub370, \uc544\uc9c1 \uc5b4\ub5bb\uac8c nextState\uac00 \uacc4\uc0b0\ub418\ub294\uc9c0 \uc54c\uc9c0 \ubabb\ud55c\ub2e4. \ubd84\uba85 action\uc815\ubcf4\ub97c \uc800\uc7a5\ud558\uace0 action id\ub4e4\uc744 \uc5ec\uae30\uc800\uae30 \uc800\uc7a5\ud588\uc9c0\ub9cc \uc774 \uc815\ubcf4\ub4e4\uc774 reducer\ub97c \ud1b5\ud574\uc11c nextState\ub97c \uacc4\uc0b0\ud560 \uac83\uc774\ub77c \uae30\ub300\ud558\uc9c0 \ubabb\ud55c\ub2e4.\\nswitch \ub2e4\uc74c\ub85c\uc9c1\uc744 \uc0b4\ud3b4\ubcf4\uc790.\\n\\n### Recap about logic of PERFORM_ACTION\\n- `PERFORM_ACTION`\uc740 app\uc5d0\uc11c \ubc1c\uc0dd\ud55c action\uc758 \uc815\ubcf4\ub97c \ubaa8\ub450 \uadf8\ub300\ub85c \uac00\uc838\uc628\ub2e4.\\n- app\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 action\uc740 \ubaa8\ub450 `PERFORM_ACTION`\ub85c \ubcc0\ud658\ub418\ubbc0\ub85c app\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ubaa8\ub4e0 action\uc740 `PERFORM_ACTION` reducer \ub3d9\uc791\uc744 \ud1b5\ud55c\ub2e4. \\n- reducer\uc5d0\uc11c `currentStateIndex`\ub97c \uc99d\uac00\uc2dc\ud0a4\uace0 action\uc744 byId\uc640 ids \ud615\ud0dc\ub85c \uc800\uc7a5\ud558\uace0 `minInvalidatedStateIndex`\ub97c \uc800\uc7a5\ud55c\ub2e4.\\n- nextState\ub97c \uacc4\uc0b0\ud558\ub294 \ub85c\uc9c1\uc740 \uc544\uc9c1 \ub098\uc624\uc9c0 \uc54a\uc558\ub2e4. \\n- `stagedActionIds`\uc640 `minInvalidatedStateIndex`\ub294 \uc544\uc9c1 \uc758\ubbf8\ub97c \uc54c \uc218 \uc5c6\uc9c0\ub9cc \ubbf8\ub9ac \uc54c\uace0 \uac00\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n  - `stagedActionIds`: devtools\uc5d0 \ubc18\uc601 \ub418\uc5b4\uc57c\ud558\ub294 action\uc758 id\ub97c \ubaa8\uc544\ub454 \ubc30\uc5f4\uc774\ub2e4.\\n  - `minInvalidatedStateIndex`: state\ub97c \uacc4\uc0b0\ud574\uc57c\ud558\ub294 action\uc758 index\uc774\ub2e4. \ub098\uc911\uc5d0 \uc774 \uac12\uc744 \uae30\uc900\uc73c\ub85c state\ub97c \uacc4\uc0b0\ud55c\ub2e4.\\n\\n## recomputeStates\\nswtich\uac00 \ub05d\ub09c \ub4a4 \ub85c\uc9c1\uc5d0 \ub4dc\ub514\uc5b4 `computedState`\ub97c \uacc4\uc0b0\ud558\ub294 \ub85c\uc9c1\uc774 \ub098\uc628\ub2e4. `recomputeStates`\ub97c \ud1b5\ud574\uc11c \uc5c5\ub370\uc774\ud2b8 \ud558\ub294 \uac83\uc73c\ub85c \ubcf4\uc774\ub294\ub370, \ud55c\ubc88 \uc0b4\ud3b4\ubcf4\uc790.\\n\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L642-L666\\nexport function liftReducerWith() {\\n  ...\\n  computedStates = recomputeStates(\\n    computedStates,\\n    minInvalidatedStateIndex,\\n    reducer,\\n    committedState,\\n    actionsById,\\n    stagedActionIds,\\n    skippedActionIds,\\n    options.shouldCatchErrors\\n  );\\n  \\n  return {\\n    monitorState,\\n    actionsById,\\n    nextActionId,\\n    stagedActionIds,\\n    skippedActionIds,\\n    committedState,\\n    currentStateIndex,\\n    computedStates,\\n    isLocked,\\n    isPaused\\n  }\\n}\\n```\\n\\n`recomputeStates`\ub294 action\uc774 \ubc1c\uc0dd\ud560 \ub54c\ub9c8\ub2e4 \ud638\ucd9c\ub418\uc5b4\uc11c state\ub97c \uc7ac\uacc4\uc0b0\ud574\uc8fc\ub294 \ud568\uc218\uc774\ub2e4. \\nparameter\ub85c\ub294 `computedStates`(currentState), `reducer`, `minInvalidatedStateIndex`, `actionByIds` \ub4f1 \ub2e4\uc591\ud55c \uc815\ubcf4\ub4e4\uc744 \ubc1b\uc544\uc11c \uc0ac\uc6a9\ud558\ub294 \uac83 \ucc98\ub7fc \ubcf4\uc778\ub2e4. \\n\ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uc790.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L189-L241\\nfunction recomputeStates(\\n  computedStates,\\n  minInvalidatedStateIndex,\\n  reducer,\\n  committedState,\\n  actionsById,\\n  stagedActionIds,\\n  skippedActionIds,\\n  shouldCatchErrors\\n) {\\n  const nextComputedStates = computedStates.slice(0, minInvalidatedStateIndex);\\n  \\n  for (let i = minInvalidatedStateIndex; i < stagedActionIds.length; i++) {\\n    const actionId = stagedActionIds[i];\\n    const action = actionsById[actionId].action;\\n\\n    const previousEntry = nextComputedStates[i - 1];\\n    const previousState = previousEntry ? previousEntry.state : committedState;\\n\\n    const entry = computeNextEntry(\\n      reducer,\\n      action,\\n      previousState,\\n      shouldCatchErrors\\n    );\\n    nextComputedStates.push(entry);\\n  }\\n\\n  return nextComputedStates;\\n}\\n```\\nskip\uc774\ub098 error\ucc98\ub9ac\uc5d0 \ub300\ud55c \ucf54\ub4dc\ub97c \uc0dd\ub7b5\ud558\uace0\ub098\uba74 \uc704\uc640 \uac19\uc740 \ucf54\ub4dc\uac00 \ub41c\ub2e4.\\n\ucc98\uc74c\uc5d0 `nextComputedStates`\ub97c \uc900\ube44\ud558\uace0 `minInvalidatedStateIndex` \uae4c\uc9c0\uc758 state\ub97c \uc790\ub974\uac8c \ub41c\ub2e4. \uc5ec\uae30\uc11c `minInvalidatedStateIndex`\uc758 \uc758\ubbf8\ub97c \uc54c \uc218 \uc788\ub2e4.\\n\\n\uc544\uae4c `PERFORM_ACTION`\uc5d0\uc11c \uacc4\uc0b0\ud588\ub358 `minInvalidatedStateIndex`\uac12\uc740 \uac00\uc7a5 \ucd5c\uadfc `stagedActionIds`\uc5d0 \ub4e4\uc5b4\uac14\ub358 index\ub97c \uc758\ubbf8\ud55c\ub2e4.\\n\uc608\ub97c\ub4e4\uc5b4, `stagedActionIds`\uc5d0 4\uac1c\uc758 id\uac00 \ub4e4\uc5b4\uac00 \uc788\ub2e4\uba74 `minInvalidatedStateIndex`\uac12\uc740 3\uc774 \ub418\uace0 `nextComputedStates`\ub294 0\ubc88\uc9f8 index\ubd80\ud130 3\uae4c\uc9c0\uc758 \uac12\uc744 \uc800\uc7a5\ud558\ubbc0\ub85c \ucd1d 3\uac1c\uc758 \uac12\uc744 \uac00\uc9c4 array\uac00 \ub41c\ub2e4.\\n`for` \ubb38\uc744 \ubcf4\uba74 `minInvalidatedStateIndex`\uac12\ubd80\ud130 \uc2dc\uc791\ud574\uc11c `stagedActionIds.length`\uae4c\uc9c0\uc758 \uacc4\uc0b0\uc744 \uc9c4\ud589\ud55c\ub2e4. \uc989, `minInvalidatedStateIndex`\ub294 \uc7ac\uacc4\uc0b0 \ud574\uc57c\ud558\ub294 action\uc758 index\ub97c \uc758\ubbf8\ud558\ub294 \uac83\uc774\ub2e4.\\n\\nfor\ubb38\uc758 \ub85c\uc9c1\uc740 \uac04\ub2e8\ud558\ub2e4. \ud604\uc7ac action\uc758 id\ub97c \uc54c\uc544\ub0b4\uc5b4 action\uac12\uc744 `actionsById`\ub85c\ubd80\ud130 \uac00\uc838\uc628 \ub4a4, previousState\ub97c \uac00\uc838\uc628\ub2e4. \uc774\ud6c4 `computeNextEntry`\ub97c \uc774\uc6a9\ud574\uc11c state\uacc4\uc0b0\uc774 \uc774\ub8e8\uc5b4\uc9c0\ub294\ub370, `computedNextEntry`\uc758 \ucf54\ub4dc\ub294 \uac04\ub2e8\ud558\ub2e4.\\nerror\uc5d0 \ub300\ud55c \ub85c\uc9c1\uc774 \ub4e4\uc5b4\uac00\uc788\uc5b4\uc11c \uc5ec\ub7ec \ud568\uc218\ub85c \uad6c\uc131\ub418\uc5b4 \uc788\ub294\ub370, error\uc640 \uad00\ub828\ub41c \ucf54\ub4dc\ub97c \uc0dd\ub7b5\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L179-L184\\nfunction computeNextEntry(reducer, action, state, shouldCatchErrors) {\\n  ...\\n  return computeWithTryCatch(reducer, action, state);\\n} \\n\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L153-L174\\nfunction computeWithTryCatch(reducer, action, state) {\\n  let nextError;\\n  const nextState = reducer(state, action);\\n  ...\\n  return {\\n    state: nextState,\\n    error: nextError,\\n  }\\n}\\n```\\n\uc989, \uc774\uc804 state\uc640 \ud604\uc7ac\uc758 action, reducer\ub97c \ud1b5\ud574\uc11c \ub2e4\uc74c state\ub97c \uacc4\uc0b0\ud558\ub294 \uac83\uc774\ub2e4.\\n\uc774 \uacc4\uc0b0\ud55c \uac12\uc774 entry\ub85c \ub4e4\uc5b4\uac00\uac8c\ub418\uace0, \uc774 entry\ub294 nextComputedStates\uc758 \ub9c8\uc9c0\ub9c9\uc73c\ub85c \ub4e4\uc5b4\uac00\uac8c \ub41c\ub2e4.\\n\\n`PERFORM_ACTION` action\uc774 \ubc1c\uc0dd\ud55c \uc0c1\ud669\uc5d0\uc11c\ub294 for\ubb38\uc740 \ud56d\uc0c1 1\ubc88\ub9cc \ub3d9\uc791\ud560 \uac83\uc774\uace0 \uc0c8\ub86d\uac8c \uacc4\uc0b0 \ub41c state\ub294 `nextComputedStates` \ubc30\uc5f4\uc5d0 \ud3ec\ud568 \ub418\uace0, \uc774\ub294 \uacb0\uad6d `computedStates`\uc5d0 \ud560\ub2f9\ub41c\ub2e4.\\n\uc5ec\uae30\uc11c \ubcc0\uacbd\ub41c `computedStates`\ub294 app\uc758 state\ub85c \uc804\ub2ec \ub420 \uac83\uc774\ub2e4.\\n\\n### Recap about recomputeStates\\n- devtools\uc5d0\uc11c store state\ub97c \ubcc0\uacbd\ud558\ub294 \ub85c\uc9c1\uc740 reducer\uc758 switch \ub2e4\uc74c\uc5d0 \uc704\uce58\ud55c `recomputeStates` \ub85c\uc9c1\uc774\ub2e4.\\n- `recomputeStates`\ub294 \uacc4\uc0b0 \ub41c state\ubc30\uc5f4\uc744 \uc900\ube44\ud558\uace0, \uacc4\uc0b0\uc774 \ud544\uc694\ud55c index\ub97c \uae30\uc900\uc73c\ub85c for\ubb38\uc744 \ud1b5\ud574\uc11c \uc0c8\ub85c\uc6b4 state\ub97c \uacc4\uc0b0 \ud55c \ub4a4 state\ubc30\uc5f4\uc5d0 \ub123\ub294\ub2e4.\\n- `minInvalidatedStateIndex`\ub294 \uacc4\uc0b0\uc774 \ud544\uc694\ud55c \uc2dc\uc791 index\ub97c \uac00\ub9ac\ud0a4\ub294 \uc5ed\ud560\uc774\ub2e4.\\n- `PERFORM_ACTION`\uc774 dispatch \ub418\uc5c8\uc744 \ub54c\ub294 for\ubb38\uc774 \ud56d\uc0c1 1\ubc88\ub9cc \uc9c4\ud589\ub418\uba70 \uae30\uc874 `computedStates`\ubc30\uc5f4 \ub4a4\uc5d0 \uc774\ubc88 action\uc5d0 \ub300\ud55c state\uac00 \uc800\uc7a5\ub41c\ub2e4.\\n\\n## devtools\uac00 \ud3ec\ud568\ub41c action\uc744 \ucc98\ub9ac\ub418\ub294 \uacfc\uc815\\n\uc774\uc81c \uc6b0\ub9ac\ub294 app\uc5d0\uc11c action\uc774 \ubc1c\uc0dd\ud588\uc744 \ub54c devtools\uc5d0\uc11c \uc5b4\ub5bb\uac8c action\uc744 \ucc98\ub9ac\ud558\ub294\uc9c0 \uc54c \uc218 \uc788\ub2e4.\\n\\n- app\uc5d0\uc11c action\uc774 dispatch\ub85c \ud638\ucd9c\ub428\\n\\napp\uc5d0\uc11c action\uc744 dispatch\ud560 \ub54c \uc0ac\uc6a9\ub418\ub294 dispatch\ub294 [unliftStore](#unliftstore)\uc5d0 \uc788\ub294 [dispatch](#dispatch)\uc774\ub2e4. \\ndispatch\ub294 `liftStore`\uc758 dispatch\ub97c \ud638\ucd9c\ud558\uace0 action\uc740 `PERFORM_ACTION` type\uc73c\ub85c \ubcc0\uacbd\ub418\uc5b4 \ud638\ucd9c\ub41c\ub2e4.\\n\\n- `liftStore`\uc758 `liftReducer`\\n\\naction\uc740 `PERFORM_ACTION`\uc73c\ub85c \ud638\ucd9c\ub418\uace0, `liftReducer`\uc5d0\uc11c \uc18c\ube44\ub41c\ub2e4. [PERFORM_ACTION\uc758 \ub3d9\uc791](#perform_action\uc758-\ub3d9\uc791)\uc744 \ubcf4\uba74 \\n`currentStateIndex`\ub97c 1 \uc99d\uac00\uc2dc\ud0a4\uace0, action\uc5d0 id\ub97c \ubd80\uc5ec\ud574\uc11c action\uc815\ubcf4\ub97c \uc800\uc7a5\ud55c\ub2e4. \ub610 `stagedActionIds`\uc5d0 actionId\ub97c \ub123\uace0 `minInvalidatedStateIndex`\ub97c \uc5c5\ub370\uc774\ud2b8\ud55c\ub2e4.\\n\\n`recomputedStates`\uc5d0\uc11c\ub294 `minInvalidatedStateIndex`\ub97c \uae30\uc900\uc73c\ub85c \uc0c8\ub85c\uc6b4 state\ub97c \uacc4\uc0b0\ud558\ub294\ub370, `PERFORM_ACTION`\uc5d0\uc11c\ub294 \uc774\ubc88\uc5d0 \ud638\ucd9c\ub41c action\uc5d0 \ub300\ud574\uc11c\ub9cc \uacc4\uc0b0\ud55c\ub2e4.\\n\uc5ec\uae30\uc11c \uacc4\uc0b0 \ub41c state\ub294 `computedStates`\uc758 \ub9c8\uc9c0\ub9c9 \ubc30\uc5f4\uc5d0 \ucd94\uac00\ub41c\ub2e4.\\n\\n- app\uc5d0\uc11c getState\ub85c state\ub97c \uac00\uc838\uc634\\n\\napp\uc5d0\uc11c state\ub97c \uac00\uc838\uc624\uae30\uc704\ud574 \uc0ac\uc6a9\ud558\ub294 `store.getState`\ub3c4 dispatch\uc640 \ub9c8\ucc2c\uac00\uc9c0\ub85c [unliftStore](#unliftstore)\uc5d0 \uc788\ub294 [getState](#getstate)\ub97c \uc0ac\uc6a9\ud55c\ub2e4.\\n`getState`\ub294 `liftedState`\uc5d0\uc11c `computedStates`\uc640 `currentStateIndex`\ub97c \uc774\uc6a9\ud574\uc11c state\ub97c \uacc4\uc0b0\ud55c\ub2e4.\\n\\n`PERFORM_ACTION`\ub9cc dispatch\ub418\uc5c8\ub2e4\uba74 `currentStateIndex`\ub294 1\uc529 \uc99d\uac00\ud588\uc744 \uac83\uc774\uace0 getState\uc758 \ub9ac\ud134 \uac12\uc740 computedStates\uc758 \ub9c8\uc9c0\ub9c9 index\uc5d0 \uc788\ub294 state\ub97c \uac00\uc838\uc628\ub2e4.\\n\\n## devtools\uc758 \uc8fc\uc694 \ub3d9\uc791\uc5d0 \ub300\ud55c \ubd84\uc11d\\n\\ndevtools\uc5d0\uc11c action\uc774 \ucc98\ub9ac\ub418\ub294 \uac83\uc744 \ud655\uc778\ud574\ubcf4\uc558\uc73c\ub2c8, article\uc758 \ucd08\uae30\uc5d0 \uc81c\uc2dc\ud588\ub358 \uc9c8\ubb38\uc5d0 \ub300\ud574\uc11c \ub2f5\ubcc0\uc744 \ud560 \uc218 \uc788\uac8c \ub418\uc5c8\ub2e4.\\n\\n### `redux-devtools`\uc5d0\uc11c \uc5b4\ub5bb\uac8c action\uacfc reducer\ub97c **logging**\ud558\uace0 \uc788\uc744\uae4c?\\n\\nlogging\uc5d0 \ub300\ud574\uc11c\ub294 \uc9c0\uae08\uae4c\uc9c0 \ud655\uc778\ud55c \uc815\ubcf4\ub97c \uc774\uc6a9\ud574\uc11c \ub3c4\ucd9c\ud574 \ub0bc \uc218 \uc788\ub2e4. \\n\\n:::tip Question & Answer\\n> Q1. `redux-devtools`\uc5d0\uc11c \uc5b4\ub5bb\uac8c action\uacfc reducer\ub97c **logging**\ud558\uace0 \uc788\uc744\uae4c?\\n\\nA1. `liftReducer`\ub294 `actionsById`\ub85c \ubaa8\ub4e0 action\uc5d0 \ub300\ud55c \uc815\ubcf4\ub97c \uc800\uc7a5\ud558\uace0 `stagedActionIds`\uc5d0 \ubaa8\ub4e0 action\uc5d0 \ub300\ud55c id\ub97c \uc800\uc7a5\ud55c\ub2e4.\\n\ub610, `computedStates`\uc5d0 action\ubcc4 state\ub97c \uc800\uc7a5\ud558\uace0 \uc788\ub2e4.\\n\\n\ub530\ub77c\uc11c app\uc5d0\uc11c \ubc1c\uc0dd\uc2dc\ud0a8 action\uc758 \uc21c\uc11c \ubc0f payload \uc815\ubcf4, action\ubcc4 state\ub97c \uc800\uc7a5\ud558\uace0\uc788\uc73c\ubbc0\ub85c \ucda9\ubd84\ud788 devtools\uc5d0\uc11c \ub85c\uadf8\ub97c \ucc0d\uc744 \uc218 \uc788\ub2e4.\\n\uadf8\ub9ac\uace0, `unliftStore`\uc758 getState\ub97c \ud1b5\ud574\uc11c devtools\uc5d0\uc11c \uad00\ub9ac\ud558\uace0 \uc788\ub294 action, state\uc5d0 \ub300\ud55c \uc815\ubcf4\uc5d0 \ub300\ud55c \ucea1\uc290\ud654\ub97c \uc9c0\ud0a4\uace0 \uc788\uc5b4\uc11c\\napp\uc5d0\uc11c\ub294 \uc774\ub7ec\ud55c \uc0ac\ud56d\ub4e4\uc744 \uc774\ud574\ud558\uc9c0 \uc54a\uace0 \uac1c\ubc1c\uc744 \uc9c4\ud589\ud560 \uc218 \uc788\ub2e4.\\n:::\\n\\n### `redux-devtools`\uc5d0\uc11c \uc5b4\ub5bb\uac8c \ud2b9\uc815 action\uc774 dispatch \ub41c \uc2dc\uc810\uc73c\ub85c **jump**\ud558\uace0 \uc788\uc744\uae4c?\\n\\nredux-devtools\uc5d0\uc11c jump\ud558\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574\uc11c \uc54c\uae30 \uc704\ud574\uc11c\ub294 \uc6b0\ub9ac\uac00 \uc0b4\ud3b4\ubcf4\uc544\uc57c \ud558\ub294 \uac83\uc774 \uc788\ub2e4.\\n\uc6b0\ub9ac\ub294 `liftReducer`\uc5d0\uc11c `PERFORM_ACTION`\uc5d0 \ub300\ud574\uc11c\ub9cc \uc0b4\ud3b4\ubcf4\uc558\ub2e4. app\uc5d0\uc11c \ubc1c\uc0dd\uc2dc\ud0a4\ub294 action\uc740 \ubaa8\ub450 `PERFORM_ACTION`\uc73c\ub85c \uce58\ud658\ub418\uc9c0\ub9cc, \\n`devtools`\uc5d0\uc11c \ubc1c\uc0dd\uc2dc\ud0a4\ub294 action\uc740 \ub2e4\ub978 \ud0c0\uc785\uc758 action\uc744 \ubc1c\uc0dd\uc2dc\ud0ac \uc218 \uc788\ub2e4.\\n\\n`liftReducer`\uc5d0\uc11c Jump\uc640 \uad00\ub828\ub41c action\uc744 \uc5b4\ub5bb\uac8c \ucc98\ub9ac\ud558\ub294\uc9c0 \uc0b4\ud3b4\ubcf4\uc790.\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L511-#L526\\ncase ActionTypes.JUMP_TO_STATE: {\\n  currentStateIndex = liftedAction.index;\\n  minInvalidatedStateIndex = Infinity;\\n  break;\\n}\\ncase ActionTypes.JUMP_TO_ACTION: {\\n  const index = stagedActionIds.indexOf(liftedAction.actionId);\\n  if (index !== -1) currentStateIndex = index;\\n  minInvalidatedStateIndex = Infinity;\\n  break;\\n}\\n```\\n\uc774\uc804\uc5d0 \uc0b4\ud3b4\ubcf4\uc558\ub358 `liftReducer`\uc5d0\uc11c action\uc744 \ucc98\ub9ac\ud558\ub294 \ubd80\ubd84\uc774\ub2e4.\\n\\nstate\ub97c \uae30\uc900\uc73c\ub85c \ud638\ucd9c\ud558\ub0d0, action\uc744 \uae30\uc900\uc73c\ub85c \ud638\ucd9c\ud558\ub0d0\uc758 \ucc28\uc774\ub294 \uc788\uc744\ud14c\uc9c0\ub9cc, \ub450\uac00\uc9c0 \ubaa8\ub450 \uc6d0\ub9ac\ub294 \uac19\ub2e4. \\n`currentStateIndex`\ub97c jump\ud560 action\uc758 index\ub85c \ud560\ub2f9\uc2dc\ud0a4\ub294 \uac83\uc774\ub2e4.\\n\\ngetState\ub294 \uc5c5\ub370\uc774\ud2b8 \ub41c `currentStateIndex`\ub97c \uae30\uc900\uc73c\ub85c `computedStates`\uc5d0\uc11c state\ub97c \uac00\uc838\uc628\ub2e4.\\n\uc608\ub97c \ub4e4\uc5b4, `computedStates`\uc5d0 5\uac1c\uc758 state\uac00 \ub2f4\uaca8\uc788\uace0 `currentStateIndex`\uac00 4\uc778 \uc0c1\ud0dc\ub77c\uba74 `getState`\ub294 `computedStates`\uc758 \ub9c8\uc9c0\ub9c9 state\ub97c \ub9ac\ud134\ud560 \uac83\uc774\ub2e4.\\n\uc774\ub54c, `JUMP_TO_STATE` \uc561\uc158\uc744 \ud1b5\ud574\uc11c `currentStateIndex`\ub97c 2\ub85c \ubc14\uafbc\ub2e4\uace0 \uac00\uc815\ud574\ubcf4\uc790. \\n\uadf8\ub7ec\uba74 `getState`\uc5d0\uc11c `computedStates`\uc758 3\ubc88\uc9f8 state\ub97c \ub9ac\ud134\ud560 \uac83\uc774\uace0 app\uc758 store\ub294 3\ubc88\uc9f8 action\uc744 \ud638\ucd9c\ud55c \uc0c1\ud0dc\ub85c \ub418\ub3cc\uc544\uac00\ub294 \uac83\uc774\ub2e4. \\n\\n`computedStates`\ub098 `stagedActionIds`\ub294 \ubcc0\ud568\uc5c6\uc774 \uadf8\ub300\ub85c\uc774\uae30 \ub54c\ubb38\uc5d0 \ub2e4\uc2dc `JUMP_TO_STATE` \uc561\uc158\uc744 \ud1b5\ud574 `currentStateIndex`\ub97c \ub418\ub3cc\ub9b0\ub2e4\uba74\\n\uc6d0\ub798\uc758 state\uc0c1\ud0dc\ub85c \ub3cc\uc544 \uc62c \uc218\ub3c4 \uc788\uc744 \uac83\uc774\ub2e4.\\n\\n:::tip Question & Answer\\n> Q2. redux-devtools`\uc5d0\uc11c \uc5b4\ub5bb\uac8c \ud2b9\uc815 action\uc774 dispatch \ub41c \uc2dc\uc810\uc73c\ub85c **jump**\ud558\uace0 \uc788\uc744\uae4c?\\n\\nA2. devtools \ub0b4\ubd80\uc5d0\uc11c \ubc1c\uc0dd\uc2dc\ud0a4\ub294 action\uc744 \ud1b5\ud574\uc11c `currentStateIndex`\ub97c \uc774\uc804 \uac12\uc73c\ub85c \ub3cc\ub9ac\uace0, index\uc5d0 \ub9de\ub294 state\ub97c \uac00\uc838\uc624\uae30 \ub54c\ubb38\uc5d0 \uc774\uc804\uc758 state \uc0c1\ud0dc\ub85c \ub3cc\uc544\uc62c \uc218 \uc788\ub2e4.\\n\uc774 \uacfc\uc815\uc5d0\uc11c action\uc774\ub098 state\uc815\ubcf4\ub97c \uc800\uc7a5\ud574 \ub454 `computedStates`\ub098 `stagedActionIds` \uc815\ubcf4\ub97c \ubcc0\uacbd\uc2dc\ud0a4\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \ub2e4\uc2dc action\uc744 \ud1b5\ud574\uc11c Jump \uc774\uc804\uc758 state \uc0c1\ud0dc\ub85c \ub3cc\uc544\uc62c \uc218\ub3c4 \uc788\ub2e4.\\n:::\\n\\n### `redux-devtools`\uc5d0\uc11c \uc5b4\ub5bb\uac8c \ud2b9\uc815 action\uc774 \ub3d9\uc791\ud558\uc9c0 \uc54a\uc740 \uac83 \ucc98\ub7fc **skip**\uc744 \ud560 \uc218 \uc788\uc744\uae4c?\\n\\n\uc774\ubbf8 \ubc1c\uc0dd\ud55c action\uc744 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uc740 \uac83 \ucc98\ub7fc \ubcc0\ub3d9\ud558\ub294 \ubc29\ubc95\uc740 `TOGGLE_ACTION`\uc744 \ud655\uc778\ud55c\ub2e4.\\n\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L481-L494\\ncase ActionTypes.TOGGLE_ACTION: {\\n  // Toggle whether an action with given ID is skipped.\\n  // Being skipped means it is a no-op during the computation.\\n  const { id: actionId } = liftedAction;\\n  const index = skippedActionIds.indexOf(actionId);\\n  if (index === -1) {\\n    skippedActionIds = [actionId, ...skippedActionIds];\\n  } else {\\n    skippedActionIds = skippedActionIds.filter(id => id !== actionId);\\n  }\\n  // Optimization: we know history before this action hasn\'t changed\\n  minInvalidatedStateIndex = stagedActionIds.indexOf(actionId);\\n  break;\\n}\\n```\\n`TOGGLE_ACTION`\ub3c4 target\uc774 \ub420 actionId\ub97c \ubc1b\uace0 \ud574\ub2f9 actionId\ub97c `skippedActionIds`\uc5d0 \ub123\uace0 `minInvalidatedStateIndex`\ub97c \ud0c0\uac9f\uc774 \ub41c actionId\uc758 index\ub85c \ubcc0\uacbd\ud55c\ub2e4. \\n\uc774\ub7ec\uba74 skip\ub41c action\uc774\ud6c4\uc5d0 \uacc4\uc0b0\ud588\ub358 state\ub4e4\uc5d0 \ub300\ud574\uc11c \ub2e4\uc2dc \uacc4\uc0b0\uc744 \uc9c4\ud589\ud55c\ub2e4.\\n\\n\uc6b0\ub9ac\ub294 skip\uc0c1\ud0dc\uc778 action\uc5d0 \ub300\ud55c \ub85c\uc9c1 \ubd84\uc11d\uc5d0 \uc9d1\uc911\ud558\uc9c0 \uc54a\uc558\uae30 \ub54c\ubb38\uc5d0 `skippedActionIds`\uac00 \uc5b4\ub514\uc11c \ub3d9\uc791\ud558\ub294\uc9c0 \ud655\uc778 \ud55c \uc801\uc774 \uc5c6\ub2e4.\\n\ub530\ub77c\uc11c `recomputeState`\ub97c \ub2e4\uc2dc \ud55c\ubc88 \ud655\uc778\ud55c\ub2e4.\\n\\n```tsx\\n// https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-instrument/src/instrument.js#L218-L222\\nfunction recomputeStates(\\n  computedStates,\\n  minInvalidatedStateIndex,\\n  reducer,\\n  committedState,\\n  actionsById,\\n  stagedActionIds,\\n  skippedActionIds,\\n  shouldCatchErrors\\n) {\\n  ...\\n  const nextComputedStates = computedStates.slice(0, minInvalidatedStateIndex);\\n  for (let i = minInvalidatedStateIndex; i < stagedActionIds.length; i++) {\\n    const actionId = stagedActionIds[i];\\n    const action = actionsById[actionId].action;\\n\\n    const previousEntry = nextComputedStates[i - 1];\\n    const previousState = previousEntry ? previousEntry.state : committedState;\\n\\n    const shouldSkip = skippedActionIds.indexOf(actionId) > -1;\\n    let entry;\\n    if (shouldSkip) {\\n      entry = previousEntry;\\n    } else {\\n      ...\\n    }\\n    nextComputedStates.push(entry);\\n  }\\n\\n  return nextComputedStates;\\n}\\n```\\n\uc774\ubc88\uc5d0\ub294 skip\uc744 \uc81c\uc678\ud55c \ub85c\uc9c1\uc744 \uc0dd\ub7b5\ud574\ubcf4\uc558\ub2e4. for\ubb38\uc744 \ub4e4\uc5b4\uc624\ub294 \uac83\uae4c\uc9c0\ub294 \ub3d9\uc77c\ud558\ub098, actionId\uac00 `skippedActionIds`\uc5d0 \ud3ec\ud568\ub418\uc5b4\uc788\ub2e4\ub294 \uac83\uc744 \uc54c\uac8c \ub418\uba74 entry\ub294 state\ub97c \uacc4\uc0b0\ud558\uc9c0 \uc54a\uace0\\npreviousEntry\ub97c \ubc18\ud658\ud558\uc5ec \ud604\uc7ac \ucc28\ub840\uc758 action\uc774 \ub3d9\uc791\ud558\uc9c0 \uc54a\uc740 \uac83 \ucc98\ub7fc \uacb0\uacfc\ub97c \ub9ac\ud134\ud55c\ub2e4.\\n\\n`TOGGLE_ACTION`\uc5d0\uc11c\ub294 \ub300\uc0c1\uc774 \ub418\ub294 action\uc758 index\ub85c `minInvalidatedStateIndex`\ub97c \uc5c5\ub370\uc774\ud2b8 \ud588\uae30 \ub54c\ubb38\uc5d0 target index \uc774\ud6c4\uc758 state\ub97c \ub2e4\uc2dc \uc7ac \uacc4\uc0b0\ud558\ubbc0\ub85c \\n\ub9c8\uce58 \ud2b9\uc815 action\uc774 \ub3d9\uc791\ud558\uc9c0 \uc54a\uc558\ub358 \uac83\ucc98\ub7fc app\uc744 \uc124\uc815\ud560 \uc218 \uc788\ub294 \uac83\uc774\ub2e4.\\n\\nstate\ub97c \uae30\uc900\uc73c\ub85c \uc815\ub9ac\ud558\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n- \uae30\uc874 state: [A, B, C, D, E, ...]\\n- skip\ub41c action index: 2\\n- skip\uc774\ud6c4 state: [A, B, B, D\', E\' ...]\\n\\n:::tip Question & Answer\\n> Q3. `redux-devtools`\uc5d0\uc11c \uc5b4\ub5bb\uac8c \ud2b9\uc815 action\uc774 \ub3d9\uc791\ud558\uc9c0 \uc54a\uc740 \uac83 \ucc98\ub7fc **skip**\uc744 \ud560 \uc218 \uc788\uc744\uae4c?\\n\\nA2. devtools \ub0b4\ubd80\uc5d0\uc11c \ubc1c\uc0dd\uc2dc\ud0a4\ub294 action\uc744 \ud1b5\ud574\uc11c actionId\ub97c `skippedActionIds`\uc5d0 \ub123\ub294\ub2e4. `skippedActionIds`\uc5d0 \ud3ec\ud568\ub41c action\uc5d0 \ub300\ud574\uc11c state\ub97c \uacc4\uc0b0\ud560\ub54c\ub294 \\nstate\ub97c \uacc4\uc0b0\ud558\uc9c0 \uc54a\uace0 \uc774\uc804 state\ub97c \ub9ac\ud134\ud55c\ub2e4. \\n\\n\uc7ac\uacc4\uc0b0\uc774 \ud544\uc694\ud55c index\ub97c \uc800\uc7a5\ud558\ub294 `minInvalidatedStateIndex`\ub97c target action index\ub85c \ubcc0\uacbd\ud558\uc600\uae30 \ub54c\ubb38\uc5d0 \ud574\ub2f9 index \uc774\ud6c4 state\ub4e4\uc744 \ubaa8\ub450 \uc7ac\uacc4\uc0b0\ud55c\ub2e4. \\ntarget action\uc774 skip\ub41c state\ub85c \uacc4\uc0b0\uc744 \uc774\uc5b4\ub098\uac00\uae30 \ub54c\ubb38\uc5d0 target action\uc774 \ub9c8\uce58 \ud638\ucd9c\ub418\uc9c0 \uc54a\uc558\ub358 \uac83 \ucc98\ub7fc state\uac00 \ud615\uc131\ub418\uac8c \ub41c\ub2e4.\\n:::\\n\\n## Recap\\n\uc6b0\ub9ac\ub294 \uc774 \uae00\uc744 \ud1b5\ud574\uc11c redux-devtools\uac00 app\uc758 redux\uc640 \uc5b4\ub5bb\uac8c \uc5f0\uacb0\uc774 \ub418\uace0, app\uc758 redux\uc815\ubcf4\ub97c \uc5b4\ub5bb\uac8c \uad00\ub9ac\ud558\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\uc558\ub2e4.\\n\\n`redux-devtools`\uc5d0 \ub300\ud55c \ud575\uc2ec\uc744 \uac04\ub7b5\ud558\uac8c \uc815\ub9ac\ud558\uc790\uba74 \ub2e4\uc74c\uacfc \uac19\ub2e4.\\n- `redux-devtools`\ub294 redux store enhancer\ub97c \ud1b5\ud574\uc11c app\uc758 redux store\uc640 \uc5f0\uacb0\ub41c\ub2e4.\\n- `redux-devtools`\uc758 \uc5ec\ub7ec \uae30\ub2a5\uc744 \ud65c\uc6a9\ud558\uba74\uc11c app\uc5d0\ub294 \uc601\ud5a5\uc744 \uc8fc\uc9c0 \uc54a\uae30 \uc704\ud574 2\uac00\uc9c0 store\uc778 `unliftStore`(app part)\uc640 `liftStore`(devtools part)\ub97c \uad00\ub9ac\ud55c\ub2e4. \\n- app\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ubaa8\ub4e0 action\uc740 `PERFORM_ACTION` type\uc744 \uac00\uc9c0\ub294 `liftAction`\uc73c\ub85c \ubcc0\ud658\ub418\uc5b4 `liftReducer`\uc73c\ub85c \uc804\ub2ec\ub41c\ub2e4.\\n- `liftReducer`\ub294 app\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ubaa8\ub4e0 action\uc758 \uc815\ubcf4\uc640 action\uc5d0 \ub300\ud55c state\uc815\ubcf4\ub97c \uc800\uc7a5\ud55c\ub2e4.\\n- app\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 redux state\ub294 `unliftStore`\uc758 `getState`\uc5d0\uc11c `liftReducer`\uc5d0\uc11c \uac00\uc9c0\uace0 \uc788\ub294 \ub370\uc774\ud130 \uc911 \ud604\uc7ac action\uc5d0 \ub9de\ub294 state\ub97c \ucd94\ucd9c\ud55c \ub370\uc774\ud130\uc774\ub2e4. \\n- `devtools`\uc5d0\uc11c \uc0ac\uc6a9\ud558\ub294 \ub2e4\uc591\ud55c \uae30\ub2a5\ub4e4\uc740 `liftReducer`\ub97c \ud1b5\ud574\uc11c \uc800\uc7a5\ub41c action, state \uc815\ubcf4\ub4e4\uc744 \ubcc0\uacbd\ud574\uc11c \uc6d0\ud558\ub294 \uc2dc\uc810\uc5d0 \ub9de\ub294 state\ub97c app\ucabd\uc73c\ub85c \uc804\ub2ec\ud574\uc8fc\ub294 \ubc29\uc2dd\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub2e4.\\n\\n\uc774 \uae00\uc744 \uc77d\ub294 \ubd84\ub4e4 \uc911\uc5d0\uc11c\ub294 `redux-devtools`\uc758 jump, skip\uc774 \uc544\ub2cc \ub2e4\ub978 \uae30\ub2a5\ub4e4\uc5d0 \ub300\ud574\uc11c\ub3c4 \uad81\uae08\ud574 \ud558\uc2dc\ub294 \ubd84\ub4e4\uc774 \uc788\uc744 \uac83\uc774\ub2e4. \\n\ud558\uc9c0\ub9cc `redux-devtools`\uc758 \ubaa8\ub4e0 \uac83\ub4e4\uc744 \uc124\uba85\ud558\uae30\uc5d4 \ud55c\uacc4\uac00 \uc788\uace0, \uc800 \ub610\ud55c \ubaa8\ub4e0 \uae30\ub2a5\uc5d0 \ub300\ud574\uc11c \ub85c\uc9c1\uc744 \ud655\uc778\ud574 \ubcf8 \uac83\ub3c4 \uc544\ub2c8\ub2e4.\\n\ub9cc\uc57d \uc774 \uae00\uc744 \ud1b5\ud574\uc11c `redux-devtools`\uac00 \uc5b4\ub5a4 \ubc29\uc2dd\uc73c\ub85c \ub3d9\uc791\ud558\uace0 \uc788\uace0, \uc8fc\uc694 \uae30\ub2a5(jump, skip)\uc5d0 \ub300\ud574\uc11c \uc5b4\ub5bb\uac8c \uad6c\ud604\uc744 \ud558\uace0 \uc788\ub294\uc9c0 \uc774\ud574\ub97c \ud588\ub2e4\uba74, \\n[@redux-devtools/core](https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools/src/index.js)\ucf54\ub4dc\ub97c \uc0b4\ud3b4\ubcf4\uac70\ub098 \\n\ub2e4\ub978 monitor([@redux-devtools/log-monitor](https://github.com/reduxjs/redux-devtools/blob/v3.6.0/packages/redux-devtools-log-monitor/src/LogMonitor.js))\\n\ub4e4 \ucf54\ub4dc\ub97c \ubd84\uc11d\ud574\ubcf4\uba74 \uad81\uae08\uc99d\uc744 \ud480 \uc218 \uc788\uc744 \uac83\uc774\ub77c \uc0dd\uac01\ud55c\ub2e4.\\n\\n## Reference\\n- [redux](https://redux.js.org/)\\n- [redux-devtools](https://github.com/reduxjs/redux-devtools)\\n- [redux-devtools-extensions](https://github.com/zalmoxisus/redux-devtools-extension)"},{"id":"how-to-cancel-at-axios","metadata":{"permalink":"/how-to-cancel-at-axios","source":"@site/blog/2021-09-17-how-to-cancel-at-axios.md","title":"How to cancel at axios","description":"The article that how to use cancel logic on axios request.","date":"2021-09-17T00:00:00.000Z","formattedDate":"2021\ub144 9\uc6d4 17\uc77c","tags":[{"label":"axios","permalink":"/tags/axios"},{"label":"library","permalink":"/tags/library"},{"label":"how-to-work","permalink":"/tags/how-to-work"},{"label":"javascript","permalink":"/tags/javascript"},{"label":"web","permalink":"/tags/web"}],"readingTime":10.25,"hasTruncateMarker":true,"authors":[{"name":"Hyunmo Ahn","title":"Front End Engineer @ Line Biz+","url":"https://github.com/HyunmoAhn","imageURL":"https://github.com/HyunmoAhn.png","key":"HyunmoAhn"}],"frontMatter":{"slug":"how-to-cancel-at-axios","title":"How to cancel at axios","description":"The article that how to use cancel logic on axios request.","keywords":["axios","javascript","HTTP","cancel","abort"],"authors":"HyunmoAhn","tags":["axios","library","how-to-work","javascript","web"]},"prevItem":{"title":"redux-devtools\uc758 time-travel-debugging \ud1ba\uc544\ubcf4\uae30","permalink":"/how-to-time-travel-debugging-at-redux-devtools"}},"content":"## Purpose\\n[axios](https://github.com/axios/axios) \uc5d0\uc11c\ub294 HTTP Request\ub97c cancel\ud558\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5\ud55c\ub2e4. \uc774 cancel \uae30\ub2a5\uc774 \uc5b4\ub5a4 \ub85c\uc9c1\uc73c\ub85c \ub3d9\uc791\ud558\ub294\uc9c0 \uc54c\uc544\ubcf8\ub2e4.\\n\\n:::info Prerequisites\\n- HTTP \uc694\uccad\uc5d0 \ub300\ud55c \ub300\ub7b5\uc801\uc778 \uc9c0\uc2dd\\n- [Axios](https://github.com/axios/axios) \ub77c\uc774\ube0c\ub7ec\ub9ac\uc5d0 \ub300\ud55c \uc0ac\uc6a9\ubc29\ubc95\\n:::\\n\\n\x3c!--truncate--\x3e\\n\\n## Usage\\nCancel\uc774 \uc5b4\ub5bb\uac8c \ub3d9\uc791\ud558\ub294\uc9c0 \uc54c\uc544\ubcf4\uae30 \uc774\uc804\uc5d0, axios\uc5d0\uc11c cancel\uc744 \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uc744 \ud655\uc778\ud569\ub2c8\ub2e4.\\n\\n### Simple Usage\\n```tsx\\nimport axios from \'axios\';\\n\\n// Make CancelToken\\nconst CancelToken = axios.CancelToken;\\nconst source = CancelToken.source();\\n\\n// Register Cancel\\naxios\\n  .get(\'/url\', { cancelToken: source.token })\\n  .catch((e) => {\\n    if (axios.isCancel(e)) { /* cancel logic */ }\\n  })\\n\\n// Create Cancel\\nsource.cancel(\'message\');\\n```\\n\\naxios\uc5d0\uc11c cancel\uc744 \ud558\uace0\uc790\ud55c\ub2e4\uba74, \uba3c\uc800 `CancelToken`\uc744 \ub9cc\ub4e4\uc5b4\uc57c\ud55c\ub2e4. <br />\\n\ub9e4 axios \ud638\ucd9c\uc2dc\ub9c8\ub2e4 cancelToken\uc744 \uc804\ub2ec\ud558\uac8c \ub418\uace0, `source.cancel` \uc744 \ud1b5\ud574\uc11c axios\ub97c cancel\ud558\ub294 \uac83\uc774\ub2e4.\\n\\n### Advanced Usage\\n\uc5ec\ub7ec axios\uc694\uccad\uc744 \ub3d9\uc2dc\uc5d0 \ubcf4\ub0b8\ub2e4\uba74 cancel\uc740 \uc5b4\ub5a4 \ub3d9\uc791\uc744 \ubcf4\uc5ec\uc904\uae4c?\\n```tsx\\nimport axios from \'axios\';\\n\\n// Make CancelToken\\nconst CancelToken = axios.CancelToken;\\nconst source = CancelToken.source();\\n\\n// Register Cancel\\naxios\\n  .get(\'/url/first\', { cancelToken: source.token })\\n  .catch((e) => {\\n    if (e.code === \'403\') { // session expired \\n      source.cancel(\'session expired\');\\n    } \\n  })\\n\\n// Register Cancel\\naxios\\n  .get(\'/url/second\', { cancelToken: source.token })\\n  .catch((e) => {\\n    if (axios.isCancel(e)) { /* cancel logic */ }\\n  })\\n```\\n\uc704\uc640 \uac19\uc774 axios \uc694\uccad 2\uac1c\ub97c \ub3d9\uc2dc\uc5d0 \ubcf4\ub0c8\uc744 \ub54c \uac00\uc815\ud560 \uc2dc\ub098\ub9ac\uc624\ub294 \ub2e4\uc74c\uacfc \uac19\ub2e4. \\n- `/url/first`\uc758 \uc751\ub2f5\uc774 `/url/second`\uc758 \uc751\ub2f5\ubcf4\ub2e4 \ube60\ub974\uac8c \ub3c4\ub2ec\ud588\ub2e4.\\n- `/url/first`\uc740 403 \uc138\uc158 \ub9cc\ub8cc \uc5d0\ub7ec\ub97c \ubc1b\uc558\ub2e4.\\n\\n\uadf8\ub807\ub2e4\uba74 `/url/second`\uc758 \uc751\ub2f5\uc740 \uc5b4\ub5bb\uac8c \ucc98\ub9ac\uac00 \ub420\uae4c?\\n\\n\uc815\ub2f5\uc740 `/url/first` \uc5d0\uc11c cancel\ud55c \uc2dc\uc810\uc5d0 `/url/second` \uc694\uccad\ub3c4 cancel\uc774 \ub41c\ub2e4\ub294 \uc810\uc774\ub2e4. `/url/first` \uc694\uccad\uacfc `/url/second` \uc694\uccad\uc774 \uc11c\ub85c \ub2e4\ub978 \uc2a4\ucf54\ud504\uc5d0 \uc788\ub354\ub77c\ub3c4 \ub9c8\ucc2c\uac00\uc9c0\uc774\ub2e4. \\n\\n**`/url/first` axios \uc5d0\uc11c cancel \ud55c \uac83\uc774 \uc5b4\ub5bb\uac8c `/url/second` axios \uc5d0\ub3c4 \uc601\ud5a5\uc744 \ub07c\uce58\uace0 \uc788\uc744\uae4c\uc5d0 \ub300\ud55c \ud638\uae30\uc2ec\uc5d0 \uc774 \uae00\uc740 \ucd9c\ubc1c\ud55c\ub2e4.**\\n\\n:::caution Question\\nQ1. \ud558\ub098\uc758 axios\uc694\uccad\uc5d0\uc11c cancelToken\uc774 cancel\ub418\uc5c8\ub294\ub370 \uc5b4\ub5bb\uac8c \ub2e4\ub978 axios request\uac00 \uac19\uc774 \ucde8\uc18c\uac00 \ub420\uae4c?\\n:::\\n\\n## Inner Axios\\n\\n### What about CancelToken\\n[axios](https://github.com/axios/axios/blob/v0.21.1/lib/axios.js#L40-L42)\uc5d0\ub294 Cancel\uacfc \uad00\ub828\ub41c \uba54\uc18c\ub4dc\uac00 \ubd99\uc5b4\uc788\ub2e4.\\n```tsx\\n// https://github.com/axios/axios/blob/v0.21.1/lib/axios.js#L40-L42\\n// Expose Cancel & CancelToken\\naxios.Cancel = require(\'./cancel/Cancel\');\\naxios.CancelToken = require(\'./cancel/CancelToken\');\\naxios.isCancel = require(\'./cancel/isCancel\');\\n```\\naxios cancel\uc744 \uc704\ud574\uc11c \uc120\ud589\ub418\uc5c8\ub358 \uc791\uc5c5\uc740 CancelToken\uc744 \ub9cc\ub4dc\ub294 \uac83 \uc774\uc5c8\ub2e4. `CancelToken.source`\ub97c \uc0ac\uc6a9\ud574\uc11c \ud1a0\ud070\uc744 \uc0dd\uc131\ud588\uc73c\ubbc0\ub85c, [axios.CancelToken](https://github.com/axios/axios/blob/v0.21.1/lib/cancel/CancelToken.js) \uc744 \uba3c\uc800 \uc0b4\ud3b4\ubcf8\ub2e4.\\n```tsx\\n// https://github.com/axios/axios/blob/v0.21.1/lib/cancel/CancelToken.js\\nCancelToken.source = function source() {\\n  var cancel;\\n  var token = new CancelToken(function executor(c) {\\n    cancel = c;\\n  });\\n  return {\\n    token: token,\\n    cancel: cancel\\n  };\\n};\\n```\\nsource\ub294 \ub2e8\uc21c\ud558\ub2e4. token\uacfc cancel\uc744 \uac00\uc9c0\uace0 \uc788\ub294 \uac1d\uccb4\ub97c \ubc18\ud658\ud558\uba70, \ub0b4\ubd80\uc5d0\uc11c CancelToken\uc744 \uc0dd\uc131\ud55c\ub2e4.\\n\\n```tsx\\n// https://github.com/axios/axios/blob/v0.21.1/lib/cancel/CancelToken.js\\nfunction CancelToken(executor) {\\n  var resolvePromise;\\n  this.promise = new Promise(function promiseExecutor(resolve) {\\n    resolvePromise = resolve;\\n  });\\n\\n  var token = this;\\n  executor(function cancel(message) {\\n    token.reason = new Cancel(message); // https://github.com/axios/axios/blob/v0.21.1/lib/cancel/Cancel.js\\n    resolvePromise(token.reason);\\n  });\\n}\\n```\\n[CancelToken](https://github.com/axios/axios/blob/v0.21.1/lib/cancel/CancelToken.js) \uc0dd\uc131\uc5d0 \ub300\ud574\uc11c \ubcf4\uba74 \uc870\uae08 \uad6c\uc870\uac00 \ubcf5\uc7a1\ud574\ubcf4\uc774\uc9c0\ub9cc, \ud558\ub294 \uc5ed\ud560\uc740 2\uac00\uc9c0\uc774\ub2e4.\\n1. `CancelToken`\uc5d0 promise\ub97c \uc0dd\uc131\ud55c\ub2e4. \uc774 promise\uac00 \uc5b4\ub5bb\uac8c \uc4f0\uc774\ub294\uc9c0\ub294 \uc544\uc9c1 \uc54c \uc218 \uc5c6\ub2e4.\\n2. `CancelToken.source` \uc2a4\ucf54\ud504\uc5d0 \uc788\ub294 cancel\uc5d0 `function cancel`\uc744 \ud560\ub2f9\ud55c\ub2e4. \uc774\ub97c \ud1b5\ud574\uc11c cancel\uc774 \uc2a4\ucf54\ud504 \uc678\ubd80\uc640 \uc5f0\uacb0\uc774 \ub41c\ub2e4.\\n\\nCancelToken\uc740 promise\uc640 cancel \ud568\uc218 2\uac00\uc9c0\ub97c \ub9cc\ub4e4\uba70, cancel\uc744 \ud638\ucd9c\ud588\uc744\ub54c promise\uac00 resolve\ub418\ub294 \ub85c\uc9c1\uc744 \uac16\uace0\uc788\ub2e4. cancel\uc740 `executor`\ub97c \ud1b5\ud574\uc11c `CancelToken.source` \uc2a4\ucf54\ud504\ub85c \ud655\uc7a5\ub418\uace0 \uc774\ub294 \uc678\ubd80\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uba54\uc18c\ub4dc\uac00 \ub41c\ub2e4. \\n\\n#### Recap about CancelToken\\n- CancelToken\uc740 `CancelToken.source`\ub97c \ud1b5\ud574\uc11c \uc0dd\uc131\ub418\uba70, promise\uc640 cancel \ud568\uc218\ub97c \uac01\uac01 \uc0dd\uc131\ud55c\ub2e4.\\n- \uc5ec\uae30\uc11c \uc0dd\uc131\ub41c `cancel`\uc740 `CancelToken.source` \ub9ac\ud134 \uac12\uc73c\ub85c \uc804\ub2ec\ub418\uc5b4 \uc678\ubd80\uc5d0\uc11c \uc0ac\uc6a9\uac00\ub2a5\ud55c \ud568\uc218\ub85c \uc0ac\uc6a9\ub418\uba70, promise\uc758 \uc6a9\ub3c4\ub294 \uc544\uc9c1 \uc54c \uc218 \uc5c6\ub2e4.\\n\\n### Where do use CancelToken.promise?\\n\\naxios\ub294 \ub0b4\ubd80\uc801\uc73c\ub85c HTTP \uc694\uccad\uc5d0 adapter\ub97c \uc0ac\uc6a9\ud558\uace0 adapter\uc548\uc5d0 \uc774\uc640 \uad00\ub828\ub41c \ucf54\ub4dc\uac00 \ub4e4\uc5b4\uc788\ub2e4.\\n\uadf8 \uc911\uc5d0 [xhr](https://github.com/axios/axios/blob/master/lib/adapters/xhr.js)\ucabd \ucf54\ub4dc\ub97c \ubcf8\ub2e4.\\n\\n```tsx\\n// https://github.com/axios/axios/blob/master/lib/adapters/xhr.js#L22-L187\\nvar request = new XMLHttpRequest();\\n\\nrequest.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\\nrequest.onreadystatechange = function handleLoad() {\\n  // HTTP success logic \\n};\\nrequest.send(requestData);\\n```\\n\uae30\ubcf8 \ub3d9\uc791\uc740 \uc77c\ubc18\uc801\uc73c\ub85c [XMLHttpRequest](https://developer.mozilla.org/ko/docs/Web/API/XMLHttpRequest)\ub97c \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\uacfc \ub3d9\uc77c\ud558\ub2e4. `request.open`\uc744 \ud1b5\ud574\uc11c url\uc744 \uc5f0\uacb0\ud558\uace0, `onreadystatechange`\ub97c \ud1b5\ud574\uc11c \uc131\uacf5\uc5d0 \ub300\ud574\uc11c \ud578\ub4e4\ub9c1\uc744 \ud558\uace0, `request.send`\ub97c \ud1b5\ud574\uc11c HTTP \uc694\uccad\uc744 \ubcf4\ub0b8\ub2e4.\\n\uc5ec\uae30\uae4c\uc9c0\ub294 \ucf5c\ubc31 \ubc29\uc2dd\uc758 XMLHttpRequest\uc640 \ub3d9\uc77c\ud558\ub2e4.\\n\\n\uc77c\ubc18 \ub3d9\uc791 \uc774\uc678\uc5d0\ub3c4 axios\uc758 xhr adapter\uc5d0\uc11c\ub294 cancelToken\uc744 \uc774\uc6a9\ud574\uc11c promise \ub85c\uc9c1\uc744 \ud558\ub098 \ub354 \uc0ac\uc6a9\ud55c\ub2e4.\\n```tsx\\n// https://github.com/axios/axios/blob/master/lib/adapters/xhr.js#L168-L180\\nif (config.cancelToken) {\\n  // Handle cancellation\\n  config.cancelToken.promise.then(function onCanceled(cancel) {\\n    if (!request) {\\n      return;\\n    }\\n\\n    request.abort();\\n    reject(cancel);\\n    // Clean up request\\n    request = null;\\n  });\\n} \\n```\\n`CancelToken.promise`\uc740 \uc5ec\uae30\uc11c \uc0ac\uc6a9\ud55c\ub2e4. \ub9e4 HTTP \uc694\uccad\ub9c8\ub2e4 cancelToken\uc744 \uc774\uc6a9\ud574\uc11c promise\ub97c \ud638\ucd9c\ud558\uace0 \uc788\ub2e4. **\uc989, \ub9c8\uce58 `Promise.race`\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83 \ucc98\ub7fc `xhr`\uc694\uccad \uc751\ub2f5\uacfc `cancelToken.promise`\uc758 \ub450\uac00\uc9c0 \uc911 \uba3c\uc800 \uc624\ub294 \uac83\uc744 \ucc98\ub9ac\ud558\ub294 \ub85c\uc9c1**\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \uac83\uc774\ub2e4.\\n\\ncancelToken\uc758 promise\uac00 resolve\ub418\uba74 xhr request\ub294 abort\ub418\uace0 axios request\ub294 reject\ub85c \uc885\ub8cc\ub418\uac8c\ub41c\ub2e4. \uc774\ub54c \uc5d0\ub7ec\uac1d\uccb4\ub294 [cancel](https://github.com/axios/axios/blob/v0.21.1/lib/cancel/Cancel.js)\uac1d\uccb4\uac00 \uc804\ub2ec\ub41c\ub2e4.\\n\\ncancelToken\uc740 axios request\ub54c \uc8fc\uc785\uc744 \ubc1b\uace0, \uc5ec\ub7ec axios request\uac00 \ub3d9\uc77c\ud55c cancelToken\uc744 \uc0ac\uc6a9\ud55c\ub2e4. \ub530\ub77c\uc11c \uc6b0\ub9ac\ub294 \ucc98\uc74c \uac00\uc84c\ub358 \uc9c8\ubb38\uc5d0 \ub300\ub2f5\uc744 \ud560 \uc218 \uc788\ub2e4.\\n\\n:::tip Question & Answer\\n> Q1. \ud558\ub098\uc758 axios\uc694\uccad\uc5d0\uc11c cancelToken\uc774 cancel\ub418\uc5c8\ub294\ub370 \uc5b4\ub5bb\uac8c \ub2e4\ub978 axios request\uac00 \uac19\uc774 \ucde8\uc18c\uac00 \ub420\uae4c?\\n\\nA1. axios\ub294 HTTP \uc694\uccad\ub9c8\ub2e4 cancelToken\uc744 \ubc1b\uace0, cancelToken\uc758 promise\ub97c \ud1b5\ud574\uc11c xhr \uc694\uccad\uacfc race(\uacbd\uc7c1)\uc0c1\ud0dc\uc5d0 \ub4e4\uc5b4\uac04\ub2e4. \\n\ub2e4\ub978 axios \uc694\uccad\uc5d0\uc11c cancelToken\uc774 resolve \ub418\uc5c8\ub2e4\uba74 \ub3d9\uc77c\ud55c cancelToken\uc744 \uc8fc\uc785\ubc1b\uc740 \ubaa8\ub4e0 axios \uc694\uccad\uc740 promise\uac00 resolve\ub418\uc5b4 reject\ub85c \uc885\ub8cc\ub41c\ub2e4.\\n\\n\uc989, \uacf5\ud1b5\uc73c\ub85c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 cancelToken\uc758 promise \uc0c1\ud0dc\uc5d0 \ub530\ub77c reject\ub97c \uc9c4\ud589\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 \ud558\ub098\uc758 axios \uc694\uccad\uc5d0\uc11c cancel\uc774 \ubc1c\uc0dd\ud558\uba74, \ub098\uba38\uc9c0 axios \uc694\uccad\ub3c4 \ud568\uaed8 cancel\uc774 \ubc1c\uc0dd\ub418\uac8c \ub418\ub294 \uac83\uc774\ub2e4.\\n:::\\n\\n## Recap\\naxios\ub294 \ud638\ucd9c\uc2dc HTTP\uc694\uccad \ubfd0 \uc544\ub2c8\ub77c cancel\uacfc \uad00\ub828\ub418\uc5b4 \uc788\ub294 promise\ub97c \ubc1c\uc0dd\uc2dc\ucf1c \uacbd\uc7c1\uc0c1\ud0dc\ub97c \ud615\uc131\ud55c\ub2e4. \uc774 \uacfc\uc815\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 cancel promise\ub294 \uc5ec\ub7ec axios \uc694\uccad\uc5d0\uc11c \uc0ac\uc6a9 \ub420 \uc218 \uc788\ub2e4. <br/>\\ncancel\uacfc \uad00\ub828\ub41c promise\ub294 [cancelToken](https://github.com/axios/axios/blob/v0.21.1/lib/cancel/CancelToken.js)\uc744 \ub9cc\ub4e4 \ub54c \uac19\uc774 \uc0dd\uc131\ub418\uba70 cancelToken\uc5d0\ub294 cancel promise\ub97c resolve \uc2dc\ud0a4\ub294 \ud568\uc218 `cancel`\ub3c4 \uac19\uc774 \uc81c\uacf5\ud55c\ub2e4.<br/>\\n`cancelToken.cancel`\uc774 \ud638\ucd9c\ub418\uba74 cancel promise\ub294 resolve\ub418\uace0 \uc774\ub294 HTTP \uc694\uccad\uacfc \uacbd\uc7c1\uc0c1\ud0dc\ub97c \ud615\uc131\ud558\uace0 \uc788\uae30 \ub54c\ubb38\uc5d0 cancel\ub41c `cancelToken`\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 \ubaa8\ub4e0 axios \uc694\uccad\uc740 abort\ub418\uace0 reject\ub85c \ubc18\ud658\ub41c\ub2e4.\\n\\n## Appendix\\naxios\uac00 cancel\uc744 \uc5b4\ub5bb\uac8c \ucc98\ub9ac\ud558\ub294\uc9c0\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\uc558\ub2e4. \uc774\ud6c4 \uae00\uc5d0\uc11c\ub294 axios cancel\uc744 \uc0ac\uc6a9\ud588\uc744\ub54c \ub9cc\ub098\uac8c \ub418\ub294 \uad81\uae08\uc99d\uc5d0 \ub300\ud574\uc11c \uc0b4\ud3b4\ubcfc \uac83\uc774\ub2e4. \\n\\n### What happens to cancelToken that have already been canceled?\\n\uc774\uc81c\uaecf cancelToken\uc744 cancel\ud588\uc744 \ub54c \uc5b4\ub5bb\uac8c \ub3d9\uc791\ud558\ub294\uc9c0\uc5d0 \ub300\ud574\uc11c \uc54c\uc544\ubcf4\uc558\ub2e4. \uadf8\ub807\ub2e4\uba74 \uc774\ubbf8 cancel\ub41c cancelToken\uc740 \uc5b4\ub5bb\uac8c \ub3d9\uc791\ud560\uae4c? <br/>\\n\uc704\uc5d0\uc11c\ub3c4 \uc0b4\ud3b4\ubcf4\uc558\ub358 [CancelToken](https://github.com/axios/axios/blob/v0.21.1/lib/cancel/CancelToken.js)\uc744 \ub2e4\uc2dc \uc0b4\ud3b4\ubcf4\uc790.\\ncancel\uc774 \ubc1c\uc0dd\ud588\uc744 \ub54c, `CancelToken.reason`\uc5d0\ub294 [Cancel](https://github.com/axios/axios/blob/v0.21.1/lib/cancel/Cancel.js) \uac1d\uccb4\uac00 \ud560\ub2f9\ub41c\ub2e4. \uc774 reason\uc774 cancel \uc5ec\ubd80\ub97c \ud310\ub2e8\ud558\ub294\ub370 \uc774\uc6a9\ub41c\ub2e4.\\n\\n```tsx\\n// https://github.com/axios/axios/blob/v0.21.1/lib/cancel/CancelToken.js\\nfunction CancelToken(executor) {\\n  var resolvePromise;\\n  this.promise = new Promise(function promiseExecutor(resolve) {\\n    resolvePromise = resolve;\\n  });\\n\\n  var token = this;\\n  executor(function cancel(message) {\\n    token.reason = new Cancel(message); // https://github.com/axios/axios/blob/v0.21.1/lib/cancel/Cancel.js\\n    resolvePromise(token.reason);\\n  });\\n}\\n```\\n\\nCancelToken\uc5d0\ub294 cancel\ub418\uc5c8\ub294\uc9c0\ub97c \ud310\ub2e8\ud558\ub294 \ub2e4\ub978 \uba54\uc18c\ub4dc\uac00 \uc788\ub2e4. [CancelToken.throwIfRequested](https://github.com/axios/axios/blob/v0.21.1/lib/cancel/CancelToken.js#L36-L40)\uac00 \ubc14\ub85c \uadf8 \uc5ed\ud560\uc744 \ud55c\ub2e4.\\n```tsx\\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\\n  if (this.reason) {\\n    throw this.reason;\\n  }\\n};\\n```\\nreason\uc774 \uc788\ub294\uc9c0 \uc5ec\ubd80\ub97c \ud310\ub2e8\ud558\uace0, reason\uc774 \uc788\uc73c\uba74 \uc774\ubbf8 cancel\ub41c token\uc774\ub77c \ud310\ub2e8\ud558\uace0 reason\uc744 throw\ud55c\ub2e4.\\n\\n\uc774 `throwIfRequested`\ub294 axios request\uc758 \uc5ec\ub7ec \uad70\ub370\uc5d0\uc11c \ubc1c\uacac\ub41c\ub2e4. \uc544\ub9c8 \ub2e4\uc591\ud55c \ucf00\uc774\uc2a4\uc5d0\uc11c cancel\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uae30 \ub54c\ubb38\uc5d0 \uc774\ub7ec\ud55c \uc870\uce58\ub4e4\uc774 \ucde8\ud574\uc9c4 \uac83\uc73c\ub85c \ucd94\uc815\ub41c\ub2e4.\\n\\n```tsx\\n// https://github.com/axios/axios/blob/v0.21.1/lib/core/dispatchRequest.js\\nfunction throwIfCancellationRequested(config) {\\n  if (config.cancelToken) {\\n    config.cancelToken.throwIfRequested();\\n  }\\n}\\n\\nmodule.exports = function dispatchRequest(config) {\\n  throwIfCancellationRequested(config);\\n  ...\\n\\n  return adapter(config).then(function onAdapterResolution(response) {\\n    throwIfCancellationRequested(config);\\n    ...\\n  }\\n}\\n```\\n\\n\ub530\ub77c\uc11c \ud55c\ubc88 cancel\ub41c cancelToken\uc740 axios\uc694\uccad\uc2dc \uc790\ub3d9\uc73c\ub85c reject\ub85c \ube60\uc9c0\ub3c4\ub85d \uad6c\ud604\ub418\uc5b4\uc788\ub2e4. \\ncancel \uc774\ud6c4 \ub2e4\uc2dc axios \uc694\uccad\uc744 \uc815\uc0c1\ud654\uc2dc\ud0a4\uae30 \uc704\ud574\uc11c\ub294 cancel\ub41c CancelToken\uc744 \ubc84\ub9ac\uace0, \uc0c8\ub86d\uac8c CancelToken\uc744 \uc0dd\uc131\ud574\uc11c axios\ub97c \ud638\ucd9c\ud574\uc57c axios \uc694\uccad\uc774 \uc911\ub2e8 \ub418\uc9c0 \uc54a\uace0 \uc815\uc0c1 \ud638\ucd9c\uc744 \ud560 \uac83\uc774\ub2e4. \\n\\n## Reference\\n- [axios github](https://github.com/axios/axios/tree/v0.21.1)\\n- [axios cancellation docs](https://axios-http.com/docs/cancellation)"}]}')}}]);